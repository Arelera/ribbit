(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{81:function(n,t,e){"use strict";e.r(t);var r=e(0),c=e(3),o=e(24),i=e.n(o),a=e(15),u=e(5),s=e(6),d=e(9),b=e(14),f=e(2),j=e(1),l=function(){return new URLSearchParams(Object(b.h)().search)},p=e(4),h=e.n(p),x=e(10),O=e(84),v=e(13),g=e.n(v),m="/api",w={getAll:function(){var n=Object(x.a)(h.a.mark((function n(t,e){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.get("".concat(m,"/posts"),{params:t,headers:{Authorization:"Bearer ".concat(e)}});case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),getById:function(){var n=Object(x.a)(h.a.mark((function n(t){var e,r,c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(e=localStorage.getItem("user"))&&(r=JSON.parse(e).token),n.next=4,g.a.get("".concat(m,"/posts/").concat(t),{headers:{Authorization:"Bearer ".concat(r)}});case 4:return c=n.sent,n.abrupt("return",c.data);case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),createOne:function(){var n=Object(x.a)(h.a.mark((function n(t){var e,r,c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=JSON.parse(localStorage.getItem("user")),r=e.token,n.next=4,g.a.post("".concat(m,"/posts"),t,{headers:{Authorization:"Bearer ".concat(r)}});case 4:return c=n.sent,n.abrupt("return",c.data);case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",n.t0.response.data);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}(),editOne:function(){var n=Object(x.a)(h.a.mark((function n(t,e,r){var c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.patch("".concat(m,"/posts/").concat(t),{content:e,editedAt:(new Date).toISOString()},{headers:{Authorization:"Bearer ".concat(r)}});case 2:return c=n.sent,n.abrupt("return",c.data);case 4:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),deleteOne:function(){var n=Object(x.a)(h.a.mark((function n(t,e){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.delete("".concat(m,"/posts/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),voteOn:function(){var n=Object(x.a)(h.a.mark((function n(t,e,r){var c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.post("".concat(m,"/posts/vote/").concat(t),{isUpvote:e},{headers:{Authorization:"Bearer ".concat(r)}});case 2:return c=n.sent,n.abrupt("return",c.data);case 4:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}()},y=function(n){return function(){var t=Object(x.a)(h.a.mark((function t(e){var r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.parse(localStorage.getItem("user")),c=r.token,t.next=3,w.deleteOne(n,c);case 3:e({type:"DELETE_POST",id:n}),e({type:"CLEAR_MODAL"});case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},k=function(n,t,e){return function(){var r=Object(x.a)(h.a.mark((function r(c){var o,i,a;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=localStorage.getItem("user")){r.next=3;break}return r.abrupt("return","No user");case 3:i=JSON.parse(o),a=i.token,w.voteOn(n,t,a),c({type:"VOTE_POST",id:n,isUpvote:t,oldVote:e});case 6:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()},S=function(){return Object(r.jsxs)("svg",{style:{height:"100%"},viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:[Object(r.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(r.jsx)("path",{d:"M22 4a2 2 0 00-2-2H4a2 2 0 00-2 2v12c0 1.1.9 2 2 2h14l4 4V4z"})]})},C=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(c.useState)(n),e=Object(u.a)(t,2),r=e[0],o=e[1],i=Object(c.useRef)(null),a=function(n){i.current&&!i.current.contains(n.target)&&o(!1)};return Object(c.useEffect)((function(){return document.addEventListener("click",a,!0),function(){document.removeEventListener("click",a,!0)}}),[]),[r,o,i]},z=function(){return Object(r.jsxs)("svg",{style:{height:"100%"},viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:[Object(r.jsx)("circle",{cx:"256",cy:"256",r:"48"}),Object(r.jsx)("circle",{cx:"416",cy:"256",r:"48"}),Object(r.jsx)("circle",{cx:"96",cy:"256",r:"48"})]})};function M(){var n=Object(f.a)(["\n      color: ",";\n      :hover {\n        background: ",";\n      }\n    "]);return M=function(){return n},n}function E(){var n=Object(f.a)(["\n  background: none;\n  border: none;\n  font-weight: 700;\n  width: 100%;\n  text-align: left;\n  padding: 8px;\n  cursor: pointer;\n  outline: none;\n\n  ","\n"]);return E=function(){return n},n}function B(){var n=Object(f.a)(["\n      ","\n    "]);return B=function(){return n},n}function A(){var n=Object(f.a)(["\n  position: absolute;\n  z-index: 10;\n  ","\n  border-radius: 2px;\n  overflow: hidden;\n"]);return A=function(){return n},n}function T(){var n=Object(f.a)(["\n  position: relative;\n  display: inline-block;\n"]);return T=function(){return n},n}function U(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n      :hover {\n        background: ",";\n      }\n    "]);return U=function(){return n},n}function L(){var n=Object(f.a)(["\n  font-weight: 700;\n  background: none;\n  border: none;\n  padding: 4px;\n  border-radius: 2px;\n  cursor: pointer;\n  span {\n    margin-left: 4px;\n  }\n  ","\n"]);return L=function(){return n},n}function N(){var n=Object(f.a)(["\n  display: inline-block;\n  vertical-align: middle;\n  height: 14px;\n"]);return N=function(){return n},n}var D=j.d.div(N()),I=j.d.button(L(),(function(n){var t=n.theme;return Object(j.c)(U(),t.gray2,t.fontSmall,t.gray3)})),R=j.d.div(T()),F=j.d.div(A(),(function(n){var t=n.theme;return Object(j.c)(B(),t.box())})),H=j.d.button(E(),(function(n){var t=n.theme;return Object(j.c)(M(),t.gray2,t.gray3)})),_=function(n){var t=n.items,e=C(!1),c=Object(u.a)(e,3),o=c[0],i=c[1],a=c[2];return Object(r.jsxs)(R,{ref:a,children:[Object(r.jsx)(I,{onClick:function(){return i(!o)},children:Object(r.jsx)(D,{children:Object(r.jsx)(z,{})})}),o&&Object(r.jsx)(F,{children:t.map((function(n,t){return Object(r.jsx)(H,{onClick:function(){n.onClick(),i(!1)},children:n.text},t)}))})]})};function P(){var n=Object(f.a)(["\n  padding-right: 4px;\n  display: inline-block;\n  height: 16px;\n  vertical-align: middle;\n  color: inherit;\n"]);return P=function(){return n},n}function V(){var n=Object(f.a)(["\n  padding: 4px;\n  border-radius: 2px;\n  :hover {\n    background: ",";\n  }\n"]);return V=function(){return n},n}function J(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return J=function(){return n},n}function G(){var n=Object(f.a)(["\n  display: flex;\n  align-items: center;\n\n  height: 32px;\n  font-weight: 700;\n  margin-left: 4px;\n  ","\n"]);return G=function(){return n},n}var X=j.d.div(G(),(function(n){var t=n.theme;return Object(j.c)(J(),t.gray2,t.fontSmall)})),q=j.d.div(V(),(function(n){var t=n.theme;return"".concat(t.gray1,"1A")})),W=j.d.span(P()),Y=function(n){var t=n.postId,e=n.usersPost,c=n.commentCount,o=Object(s.b)(),i=function(){o(y(t))};return Object(r.jsxs)(X,{children:[Object(r.jsxs)(q,{children:[Object(r.jsx)(d.b,{to:"/",children:Object(r.jsx)(W,{children:Object(r.jsx)(S,{})})}),c," Comments"]}),e&&Object(r.jsx)(_,{items:[{text:"Delete",onClick:function(){o({type:"SET_MODAL",title:"Delete post",msg:"Are you sure you want to delete your post? You can't undo this.",acceptHandler:i,acceptBtn:"DELETE POST",cancelBtn:"CANCEL"})}}]})]})},K=e(83);function Q(){var n=Object(f.a)(["\n  font-style: italic;\n"]);return Q=function(){return n},n}function Z(){var n=Object(f.a)(["\n  color: inherit;\n  margin-right: 3px;\n"]);return Z=function(){return n},n}function $(){var n=Object(f.a)(["\n  color: ",";\n  font-weight: 700;\n  margin-right: 3px;\n"]);return $=function(){return n},n}function nn(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return nn=function(){return n},n}function tn(){var n=Object(f.a)(["\n  margin: 0 8px 8px;\n  ","\n"]);return tn=function(){return n},n}var en=j.d.div(tn(),(function(n){var t=n.theme;return Object(j.c)(nn(),t.gray2,t.fontSmall)})),rn=j.d.span($(),(function(n){return n.theme.gray0})),cn=j.d.span(Z()),on=j.d.span(Q()),an=function(n){var t=n.post,e=n.currDate;return Object(r.jsxs)(en,{children:[Object(r.jsx)(d.b,{to:"/r/".concat(t.subribbit),children:Object(r.jsxs)(rn,{children:["r/",t.subribbit]})}),"Posted by"," ",Object(r.jsx)(d.b,{to:"/user/".concat(t.username),children:Object(r.jsxs)(cn,{children:["u/",t.username]})}),Object(r.jsxs)("span",{children:[Object(K.a)(new Date(t.createdAt),e)," ago"]})," ",t.editedAt&&Object(r.jsxs)(on,{children:["\xb7 edited ",Object(K.a)(new Date(t.editedAt),e)," ago"]})]})},un=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 23 23",xmlns:"http://www.w3.org/2000/svg",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",stroke:"currentColor",children:Object(r.jsx)("path",{d:"M8 12l4 4 4-4M12 8v8"})})},sn=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 23 23",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",children:Object(r.jsx)("path",{d:"M16 12l-4-4-4 4M12 16V8"})})};function dn(){var n=Object(f.a)(["\n      color: ",";\n      :hover {\n        background: ",";\n        color: ",";\n      }\n    "]);return dn=function(){return n},n}function bn(){var n=Object(f.a)(["\n  background: transparent;\n  border: none;\n  border-radius: 2px;\n  cursor: pointer;\n  outline: none;\n  ",";\n"]);return bn=function(){return n},n}function fn(){var n=Object(f.a)(["\n      color: ",";\n      :hover {\n        background: ",";\n        color: ",";\n      }\n    "]);return fn=function(){return n},n}function jn(){var n=Object(f.a)(["\n  background: transparent;\n  border: none;\n  border-radius: 2px;\n  cursor: pointer;\n  outline: none;\n  ",";\n"]);return jn=function(){return n},n}function ln(){var n=Object(f.a)(["\n  height: 28px;\n"]);return ln=function(){return n},n}function pn(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return pn=function(){return n},n}function hn(){var n=Object(f.a)(["\n  font-weight: 700;\n  ",";\n"]);return hn=function(){return n},n}function xn(){var n=Object(f.a)(["\n  height: 100%;\n  width: 40px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: absolute;\n  left: 0;\n  z-index: 5;\n  padding: 8px 4px;\n  background: ",";\n  border-radius: 4px 0 0 4px;\n"]);return xn=function(){return n},n}var On=j.d.div(xn(),(function(n){return n.theme.grayNew})),vn=j.d.div(hn(),(function(n){var t=n.theme;return Object(j.c)(pn(),t.gray0,t.fontSmall)})),gn=j.d.div(ln()),mn=j.d.button(jn(),(function(n){return Object(j.c)(fn(),n.userVote?n.theme.prim1:n.theme.gray2,n.theme.gray3,n.theme.prim1)})),wn=j.d.button(bn(),(function(n){return Object(j.c)(dn(),n.userVote?n.theme.sec2:n.theme.gray2,n.theme.gray3,n.theme.sec2)})),yn=function(n){var t=n.points,e=n.userVote,c=n.voteHandler;return Object(r.jsxs)(On,{children:[Object(r.jsx)(mn,{userVote:1===e,onClick:function(){return c(1)},children:Object(r.jsx)(gn,{children:Object(r.jsx)(sn,{})})}),Object(r.jsx)(vn,{children:t||0}),Object(r.jsx)(wn,{userVote:-1===e,onClick:function(){return c(-1)},children:Object(r.jsx)(gn,{children:Object(r.jsx)(un,{})})})]})};function kn(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return kn=function(){return n},n}function Sn(){var n=Object(f.a)(["\n  line-height: 21px;\n  padding: 12px 4px 4px 0;\n  :first-child {\n    padding-top: 0;\n  }\n  :last-child {\n    padding-bottom: 0;\n  }\n  ","\n"]);return Sn=function(){return n},n}function Cn(){var n=Object(f.a)(["\n  padding: 5px 8px 10px;\n  max-height: 250px;\n  overflow: hidden;\n  mask-image: linear-gradient(180deg, #000 60%, transparent);\n"]);return Cn=function(){return n},n}function zn(){var n=Object(f.a)(["\n      color: ",";\n      :hover {\n        text-decoration: underline ",";\n      }\n    "]);return zn=function(){return n},n}function Mn(){var n=Object(f.a)(["\n  font-weight: 600;\n  margin: 0 8px;\n  ","\n"]);return Mn=function(){return n},n}function En(){var n=Object(f.a)(["\n  padding: 8px 0 0 40px;\n  margin-left: 4px;\n"]);return En=function(){return n},n}function Bn(){var n=Object(f.a)(["\n      ","\n      :hover {\n        border-color: ",";\n      }\n    "]);return Bn=function(){return n},n}function An(){var n=Object(f.a)(["\n  width: 100%;\n  border-radius: 4px;\n  margin-bottom: 10px;\n  max-height: 500px;\n  ","\n\n  position: relative;\n  a:hover {\n    text-decoration: underline;\n  }\n"]);return An=function(){return n},n}var Tn=j.d.div(An(),(function(n){var t=n.theme;return Object(j.c)(Bn(),t.box(),t.gray2)})),Un=j.d.div(En()),Ln=j.d.h3(Mn(),(function(n){var t=n.theme;return Object(j.c)(zn(),t.gray0,t.gray2)})),Nn=j.d.div(Cn()),Dn=j.d.p(Sn(),(function(n){var t=n.theme;return Object(j.c)(kn(),t.gray0,t.fontMed)})),In=function(n){var t=n.post,e=n.userId,c=n.currDate,o=n.voteHandler;return Object(r.jsxs)(Tn,{children:[Object(r.jsx)(yn,{points:t.points,userVote:t.isUpvote,voteHandler:o}),Object(r.jsxs)(Un,{children:[Object(r.jsx)(an,{post:t,currDate:c}),Object(r.jsx)(d.b,{to:"/r/".concat(t.subribbit,"/").concat(t.id),children:Object(r.jsx)(Ln,{children:t.title})}),Object(r.jsx)(Nn,{children:t.content.split("\n").map((function(n,t){return Object(r.jsx)(Dn,{children:n},t)}))}),Object(r.jsx)(Y,{postId:t.id,sub:t.subribbit,usersPost:e===t.creator,commentCount:t.commentCount})]})]})};function Rn(){var n=Object(f.a)(["\n      font-size: ",";\n      color: ",";\n      border: 1px solid ",";\n      background: ",";\n    "]);return Rn=function(){return n},n}function Fn(){var n=Object(f.a)(["\n  border-radius: 4px;\n  line-height: 21px;\n  padding: 0 16px;\n  height: 38px;\n  width: 100%;\n  ","\n"]);return Fn=function(){return n},n}function Hn(){var n=Object(f.a)(["\n  ","\n  padding: 8px;\n  margin-bottom: 16px;\n  border-radius: 4px;\n"]);return Hn=function(){return n},n}var _n=j.d.div(Hn(),(function(n){return n.theme.box()})),Pn=j.d.input(Fn(),(function(n){var t=n.theme;return Object(j.c)(Rn(),t.fontMed,t.gray0,t.postBorder,t.gray3)})),Vn=function(){var n=Object(b.g)(),t=Object(b.i)().subribbit;return Object(r.jsx)(_n,{children:Object(r.jsx)(Pn,{onClick:function(){return n.push(t?"/r/".concat(t,"/submit"):"/submit")},type:"text",value:"",readOnly:!0,placeholder:"Create Post"})})},Jn=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:Object(r.jsx)("path",{d:"M1.25 17.5v-10h5v10zm11.25 0h-5V5H5l5-5 5 5h-2.5zm1.25 0v-5h5v5z"})})},Gn=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:Object(r.jsx)("path",{fill:"inherit",d:"M17.2 10l1.9 2.9-3.3 1.3-.2 3.5-3.4-.9-2.2 2.7-2.2-2.7-3.3.9-.2-3.5L1 12.9 2.9 10 1 7.1l3.3-1.3.2-3.5 3.3.9L10 .5l2.2 2.7 3.4-.9.2 3.5 3.3 1.3z"})})},Xn=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:Object(r.jsx)("path",{d:"M14.17 9.35L10 13.53 5.83 9.35a.5.5 0 01.35-.85h7.64a.5.5 0 01.35.85"})})};function qn(){var n=Object(f.a)(["\n      font-size: ",";\n      color: ",";\n      :hover {\n        background: ",";\n      }\n    "]);return qn=function(){return n},n}function Wn(){var n=Object(f.a)(["\n  padding: 8px;\n  text-align: left;\n  font-weight: 500;\n  white-space: nowrap;\n  ","\n"]);return Wn=function(){return n},n}function Yn(){var n=Object(f.a)(["\n      border: 1px solid ",";\n      background: ",";\n    "]);return Yn=function(){return n},n}function Kn(){var n=Object(f.a)(["\n  position: absolute;\n  top: 20px;\n  border-radius: 4px;\n  width: 100px%;\n  left: 0;\n  z-index: 10;\n  ","\n"]);return Kn=function(){return n},n}function Qn(){var n=Object(f.a)(["\n  height: 18px;\n  margin-right: 4px;\n"]);return Qn=function(){return n},n}function Zn(){var n=Object(f.a)(["\n      font-size: ",";\n      background: ",";\n      color: ",";\n    "]);return Zn=function(){return n},n}function $n(){var n=Object(f.a)(["\n  border: none;\n  border-radius: 50px;\n  padding: 6px 10px;\n  display: flex;\n  align-items: center;\n  font-weight: 600;\n  height: 32px;\n\n  ",";\n"]);return $n=function(){return n},n}function nt(){var n=Object(f.a)(["\n  position: relative;\n"]);return nt=function(){return n},n}var tt=j.d.div(nt()),et=j.d.button($n(),(function(n){return Object(j.c)(Zn(),n.theme.fontMed,n.theme.gray3,n.theme.gray0)})),rt=j.d.div(Qn()),ct=j.d.div(Kn(),(function(n){var t=n.theme;return Object(j.c)(Yn(),t.postBorder,t.gray4)})),ot=j.d.div(Wn(),(function(n){return Object(j.c)(qn(),n.theme.fontMed,n.active?n.theme.gray0:"inherit",n.theme.gray3)})),it=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[{text:"Today",link:"".concat(n&&"/r/".concat(n),"?sort=top&t=today")},{text:"This Week",link:"".concat(n&&"/r/".concat(n),"?sort=top&t=week")},{text:"This Month",link:"".concat(n&&"/r/".concat(n),"?sort=top&t=month")},{text:"This Year",link:"".concat(n&&"/r/".concat(n),"?sort=top&t=year")},{text:"All Time",link:"".concat(n&&"/r/".concat(n),"?sort=top&t=all")}]},at=function(){var n=l().get("t"),t=C(!1),e=Object(u.a)(t,3),o=e[0],i=e[1],a=e[2],s=Object(c.useState)(n&&n[0].toUpperCase()+n.slice(1)||"Today"),f=Object(u.a)(s,2),j=f[0],p=f[1],h=Object(b.i)().subribbit;return Object(r.jsxs)(tt,{ref:a,children:[Object(r.jsxs)(et,{onClick:function(){return i(!o)},children:[Object(r.jsx)("span",{children:j}),Object(r.jsx)(rt,{children:Object(r.jsx)(Xn,{})})]}),o&&Object(r.jsx)(ct,{children:it(h).map((function(n,t){return Object(r.jsx)(d.b,{to:n.link,children:Object(r.jsx)(ot,{onClick:function(){return p(n.text)},active:j===n.text,children:n.text})},t)}))})]})};function ut(){var n=Object(f.a)(["\n  height: 18px;\n  margin-right: 4px;\n"]);return ut=function(){return n},n}function st(){var n=Object(f.a)(["\n      background: ",";\n      color: ",";\n      font-size: ",";\n      :hover {\n        background: ",";\n        color: ",";\n      }\n    "]);return st=function(){return n},n}function dt(){var n=Object(f.a)(["\n  border: none;\n  border-radius: 50px;\n  padding: 6px 10px;\n  display: flex;\n  align-items: center;\n  font-weight: 600;\n  height: 32px;\n  margin-right: 8px;\n\n  ",";\n"]);return dt=function(){return n},n}function bt(){var n=Object(f.a)(["\n      ","\n      color: ",";\n    "]);return bt=function(){return n},n}function ft(){var n=Object(f.a)(["\n  width: 100%;\n  height: 56px;\n  border-radius: 4px;\n  padding: 8px;\n  margin-bottom: 16px;\n  display: flex;\n  align-items: center;\n  ","\n"]);return ft=function(){return n},n}var jt=j.d.div(ft(),(function(n){var t=n.theme;return Object(j.c)(bt(),t.box(),t.gray2)})),lt=j.d.div(dt(),(function(n){return Object(j.c)(st(),n.active?n.theme.gray3:"none",n.active?n.theme.gray0:"inherit",n.theme.fontMed,n.theme.gray3,n.theme.gray0)})),pt=j.d.div(ut()),ht=function(){var n=l().get("sort"),t=Object(c.useState)(!!n||"new"),e=Object(u.a)(t,2),o=e[0],i=e[1];return Object(c.useEffect)((function(){i(n||"new")}),[n]),Object(r.jsxs)(jt,{children:[Object(r.jsx)(d.b,{to:"?sort=new",children:Object(r.jsxs)(lt,{active:"new"===o,children:[Object(r.jsx)(pt,{children:Object(r.jsx)(Gn,{})}),Object(r.jsx)("span",{children:"New"})]})}),Object(r.jsx)(d.b,{to:"?sort=top&t=today",children:Object(r.jsxs)(lt,{active:"top"===o,children:[Object(r.jsx)(pt,{children:Object(r.jsx)(Jn,{})}),Object(r.jsx)("span",{children:"Top"})]})}),"top"===o&&Object(r.jsx)(at,{})]})};function xt(){var n=Object(f.a)(["\n  width: 640px;\n"]);return xt=function(){return n},n}var Ot=j.d.div(xt()),vt=function(n){var t=n.showUserForm,e=Object(s.b)(),o=Object(b.i)().subribbit,i=l().get("sort"),a=l().get("t"),u=Object(s.c)((function(n){return n.user})),d=Object(s.c)((function(n){return n.posts})),f=new Date;Object(c.useEffect)((function(){e(function(n){var t=n.subribbit,e=n.sort,r=n.t;return function(){var n=Object(x.a)(h.a.mark((function n(c){var o,i,a,u,s,d;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null,i=new Date,"today"===r?o=Object(O.a)(i,{days:1}):"week"===r?o=Object(O.a)(i,{weeks:1}):"month"===r?o=Object(O.a)(i,{months:1}):"year"===r&&(o=Object(O.a)(i,{years:1})),!(u=localStorage.getItem("user"))){n.next=10;break}return s=JSON.parse(u),d=s.token,n.next=7,w.getAll({subribbit:t,sort:e,timeStart:o},d);case 7:a=n.sent,n.next=13;break;case 10:return n.next=12,w.getAll({subribbit:t,sort:e,timeStart:o});case 12:a=n.sent;case 13:c({type:"GET_ALL_POSTS",posts:a});case 14:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}({subribbit:o,t:a}))}),[i,a,o,e]);var j=function(n){return function(r){e(k(n.id,r,n.isUpvote)).then((function(n){"No user"===n&&t("login")}))}};return Object(r.jsxs)(Ot,{children:[Object(r.jsx)(Vn,{}),Object(r.jsx)(ht,{}),d.map((function(n){return Object(r.jsx)(In,{post:n,userId:null===u||void 0===u?void 0:u.id,voteHandler:j(n),currDate:f},n.id)}))]})},gt={getOne:function(){var n=Object(x.a)(h.a.mark((function n(t){var e;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.get("".concat(m,"/subribbits/").concat(t));case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),getTop:function(){var n=Object(x.a)(h.a.mark((function n(t){var e;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.get("".concat(m,"/subribbits/top/").concat(t));case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),getSimilar:function(){var n=Object(x.a)(h.a.mark((function n(t,e){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.get("".concat(m,"/subribbits/similar/").concat(t),{params:{limit:e}});case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),createOne:function(){var n=Object(x.a)(h.a.mark((function n(t){var e,r,c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=JSON.parse(localStorage.getItem("user")),r=e.token,n.next=4,g.a.post("".concat(m,"/subribbits"),t,{headers:{Authorization:"Bearer ".concat(r)}});case 4:return c=n.sent,n.abrupt("return",c.data);case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",n.t0.response.data);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}(),joinOne:function(){var n=Object(x.a)(h.a.mark((function n(t){var e,r,c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=JSON.parse(localStorage.getItem("user")),r=e.token,n.next=3,g.a.patch("".concat(m,"/subribbits/join/").concat(t),null,{headers:{Authorization:"Bearer ".concat(r)}});case 3:return c=n.sent,n.abrupt("return",c.data);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),exitOne:function(){var n=Object(x.a)(h.a.mark((function n(t){var e,r,c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=JSON.parse(localStorage.getItem("user")),r=e.token,n.next=3,g.a.patch("".concat(m,"/subribbits/exit/").concat(t),null,{headers:{Authorization:"Bearer ".concat(r)}});case 3:return c=n.sent,n.abrupt("return",c.data);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()};function mt(){var n=Object(f.a)(["\n      font-size: ",";\n      background: ",";\n      color: ",";\n      :hover {\n        background: #ebeced;\n      }\n    "]);return mt=function(){return n},n}function wt(){var n=Object(f.a)(["\n  font-weight: 700;\n  letter-spacing: 0.5px;\n  border-radius: 4px;\n  border: 0;\n  cursor: pointer;\n  line-height: 24px;\n  ","\n"]);return wt=function(){return n},n}var yt=j.d.button(wt(),(function(n){var t=n.theme;return Object(j.c)(mt(),t.fontSmall,t.gray0,t.gray4)}));function kt(){var n=Object(f.a)(["\n      font-size: ",";\n      color: ",";\n      border: 1px solid ",";\n      :hover {\n        color: #ebeced;\n        border-color: #ebeced;\n      }\n    "]);return kt=function(){return n},n}function St(){var n=Object(f.a)(["\n  font-weight: 700;\n  letter-spacing: 0.5px;\n  border-radius: 4px;\n  cursor: pointer;\n  background: none;\n  line-height: 24px;\n  ","\n"]);return St=function(){return n},n}var Ct=j.d.button(St(),(function(n){var t=n.theme;return Object(j.c)(kt(),t.fontSmall,t.gray0,t.gray0)})),zt={initUser:function(){var n=Object(x.a)(h.a.mark((function n(t){var e;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.get("".concat(m,"/users/refresh"),{headers:{Authorization:"Bearer ".concat(t)}});case 3:return e=n.sent,n.abrupt("return",e.data);case 7:n.prev=7,n.t0=n.catch(0),console.log("INIT ERROR: ",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),loginUser:function(){var n=Object(x.a)(h.a.mark((function n(t){var e;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.post("".concat(m,"/users/login"),t);case 3:return e=n.sent,n.abrupt("return",e.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",n.t0.response.data);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}(),signupUser:function(){var n=Object(x.a)(h.a.mark((function n(t){var e;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.post("".concat(m,"/users/signup"),t);case 3:return e=n.sent,n.abrupt("return",e.data);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",n.t0.response.data);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(t){return n.apply(this,arguments)}}()},Mt=function(n){return function(){var t=Object(x.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.setItem("user",JSON.stringify(n)),e({type:"SET_USER",user:n});case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()};function Et(){var n=Object(f.a)(["\n  padding: 4px 9px;\n  width: 100%;\n  height: 32px;\n  width: 106px;\n"]);return Et=function(){return n},n}function Bt(){var n=Object(f.a)(["\n  padding: 4px 9px;\n  width: 100%;\n  height: 32px;\n  width: 106px;\n"]);return Bt=function(){return n},n}function At(){var n=Object(f.a)(["\n      font-size: ",";\n    "]);return At=function(){return n},n}function Tt(){var n=Object(f.a)(["\n  ","\n"]);return Tt=function(){return n},n}function Ut(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return Ut=function(){return n},n}function Lt(){var n=Object(f.a)(["\n  padding: 12px 0 4px 0;\n  display: flex;\n  justify-content: space-between;\n\n  a:hover {\n    text-decoration: underline;\n  }\n\n  ",";\n"]);return Lt=function(){return n},n}function Nt(){var n=Object(f.a)(["\n  width: 144px;\n  a {\n    font-weight: 600;\n  }\n"]);return Nt=function(){return n},n}function Dt(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return Dt=function(){return n},n}function It(){var n=Object(f.a)(["\n  letter-spacing: 0.5px;\n  padding-bottom: 12px;\n  ","\n"]);return It=function(){return n},n}function Rt(){var n=Object(f.a)(["\n  border-radius: 4px;\n  padding: 12px;\n\n  ",";\n"]);return Rt=function(){return n},n}function Ft(){var n=Object(f.a)(["\n  flex-shrink: 0;\n  width: 312px;\n"]);return Ft=function(){return n},n}var Ht=j.d.aside(Ft()),_t=j.d.div(Rt(),(function(n){return n.theme.box()})),Pt=j.d.h2(It(),(function(n){var t=n.theme;return Object(j.c)(Dt(),t.gray2,t.fontMed)})),Vt=j.d.div(Nt()),Jt=j.d.div(Lt(),(function(n){var t=n.theme;return Object(j.c)(Ut(),t.gray0,t.fontSmall)})),Gt=j.d.div(Tt(),(function(n){var t=n.theme;return Object(j.c)(At(),t.fontSmall)})),Xt=Object(j.d)(yt)(Bt()),qt=Object(j.d)(Ct)(Et()),Wt=function(){var n=Object(s.b)(),t=Object(s.c)((function(n){return n.user})),e=Object(c.useState)([]),o=Object(u.a)(e,2),i=o[0],a=o[1];Object(c.useEffect)((function(){gt.getTop(5).then((function(n){a(n)}))}),[]);return Object(r.jsx)(Ht,{children:Object(r.jsxs)(_t,{children:[Object(r.jsx)(Pt,{children:"Top Communities"}),i.map((function(e,c){return Object(r.jsxs)(Jt,{children:[Object(r.jsxs)(Vt,{children:[Object(r.jsxs)(d.b,{to:"/r/".concat(e.name),children:["r/",e.name]}),Object(r.jsxs)(Gt,{children:[e.memberCount," members"]})]}),(null===t||void 0===t?void 0:t.joinedSubribbits.includes(e.name))?Object(r.jsx)(qt,{onClick:function(){return t=e.name,void gt.exitOne(t).then((function(t){n(Mt(t))}));var t},children:"JOINED"}):Object(r.jsx)(Xt,{onClick:function(){return t=e.name,void gt.joinOne(t).then((function(t){n(Mt(t))}));var t},children:"JOIN"})]},c)}))]})})};function Yt(){var n=Object(f.a)(["\n  padding: 20px 24px;\n  min-height: calc(100vh - 49px);\n\n  display: flex;\n  justify-content: center;\n  column-gap: 26px;\n"]);return Yt=function(){return n},n}var Kt=j.d.main(Yt()),Qt=function(n){var t=n.showUserForm;return Object(r.jsxs)(Kt,{children:[Object(r.jsx)(vt,{showUserForm:t}),Object(r.jsx)(Wt,{})]})},Zt=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 23 23",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:Object(r.jsx)("path",{d:"M11.6 9.9l6.7-6.6-1.8-1.8-6.6 6.6-6.6-6.6-1.8 1.8 6.6 6.6-6.6 6.6 1.8 1.8 6.6-6.7 6.6 6.7 1.8-1.8z"})})};function $t(){var n=Object(f.a)(["\n  padding: 3px 16px;\n"]);return $t=function(){return n},n}function ne(){var n=Object(f.a)(["\n  margin-left: 8px;\n  padding: 3px 16px;\n"]);return ne=function(){return n},n}function te(){var n=Object(f.a)(["\n  padding: 16px;\n  background: ",";\n  display: flex;\n  justify-content: flex-end;\n"]);return te=function(){return n},n}function ee(){var n=Object(f.a)(["\n  background: none;\n  border: none;\n  height: 20px;\n  width: 20px;\n  color: ",";\n"]);return ee=function(){return n},n}function re(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return re=function(){return n},n}function ce(){var n=Object(f.a)(["\n  padding: 16px;\n  ",";\n"]);return ce=function(){return n},n}function oe(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return oe=function(){return n},n}function ie(){var n=Object(f.a)(["\n  font-weight: 600;\n  ",";\n"]);return ie=function(){return n},n}function ae(){var n=Object(f.a)(["\n      border-bottom: 1px solid ",";\n    "]);return ae=function(){return n},n}function ue(){var n=Object(f.a)(["\n  padding: 16px;\n  ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return ue=function(){return n},n}function se(){var n=Object(f.a)(["\n  max-width: 538px;\n  min-width: 410px;\n  border-radius: 4px;\n  ","\n"]);return se=function(){return n},n}function de(){var n=Object(f.a)(["\n  position: fixed;\n  z-index: 100;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: rgba(28, 28, 28, 0.9);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return de=function(){return n},n}var be=j.d.div(de()),fe=j.d.div(se(),(function(n){return n.theme.box()})),je=j.d.header(ue(),(function(n){var t=n.theme;return Object(j.c)(ae(),t.postBorder)})),le=j.d.h2(ie(),(function(n){var t=n.theme;return Object(j.c)(oe(),t.gray0,t.fontLarge)})),pe=j.d.p(ce(),(function(n){var t=n.theme;return Object(j.c)(re(),t.gray0,t.fontMed)})),he=j.d.button(ee(),(function(n){return n.theme.gray2})),xe=j.d.footer(te(),(function(n){return n.theme.gray3})),Oe=Object(j.d)(yt)(ne()),ve=Object(j.d)(Ct)($t()),ge=function(n){var t=n.modalRef,e=n.title,c=n.msg,i=n.acceptHandler,a=n.acceptBtn,u=n.cancelBtn,d=Object(s.b)(),b=function(){d({type:"CLEAR_MODAL"})};return Object(o.createPortal)(Object(r.jsx)(be,{onClick:b,children:Object(r.jsxs)(fe,{ref:t,onClick:function(n){return n.stopPropagation()},children:[Object(r.jsxs)(je,{children:[Object(r.jsx)(le,{children:e}),Object(r.jsx)(he,{onClick:b,children:Object(r.jsx)(Zt,{})})]}),Object(r.jsx)(pe,{children:c}),Object(r.jsxs)(xe,{children:[Object(r.jsx)(ve,{onClick:b,children:u}),Object(r.jsx)(Oe,{onClick:i,children:a})]})]})}),document.getElementById("modal"))};function me(){var n=Object(f.a)(["\n  height: 100%;\n"]);return me=function(){return n},n}function we(){var n=Object(f.a)(["\n  border-radius: 50%;\n  background: #fff;\n  height: 32px;\n  width: 32px;\n"]);return we=function(){return n},n}var ye=j.d.div(we()),ke=j.d.svg(me()),Se=function(){return Object(r.jsx)(ye,{children:Object(r.jsxs)(ke,{viewBox:"0 0 513.7 513.7",xmlns:"http://www.w3.org/2000/svg",children:[Object(r.jsx)("path",{d:"M350.6 188.3L193 111.6C181.1 89.2 161.9 71 133 71c-19.4 0-35.3 9.3-50 21.7-45.6 0-75.5 9.3-75.5 34.9 0 14 6.2 27 20 39.9 21 19.7 59.7 59.1 120.5 81 0 0 1.5 8.3 7.8 16.6l53.4 69.2c8.6 11.1 17.9-5.4 25.2-5.4 2.6-8.6 172-70.7 172-70.7l-9.3-21.4a97 97 0 00-46.5-48.6z",fill:"#2DC7FF"}),Object(r.jsx)("path",{d:"M272.8 300.9L201.2 268l28 36.3c6.2 8 7.8 16 5.2 24.6-7.3 0-16.6-3.5-25.2-14.6l-53.4-69.2a42.2 42.2 0 01-7.8-16.7c-60.8-21.8-99.4-41.2-120.5-60.9 21.7 49.7 110.1 95.1 110.1 95.1l54 64-43.5 77.1 31.4-.1a22 22 0 0018.8-11.3l31.6-53.3a45 45 0 004.5-10l32.4 13.7 149.6-61.3-10-23.2c-56.3-12.2-116.2 21-133.6 42.6z",fill:"#00ABE7"}),Object(r.jsx)("path",{d:"M478.9 277.2c-16.5-4.3-39.1-2.9-63.7 4.1-21.5-7.7-51.6-6.6-81.7 5-49 19-79.5 58.5-68 88.4 7.4 18.9 29.6 29.4 57.3 29.8 16.2.2 54.3-3 72.5-10 47.8-18.4 82.2-68.5 85.9-83.4 2-8-5.4-22.2-2.3-34z",fill:"#2DC7FF"}),Object(r.jsx)("path",{d:"M432 403.7c52.5-29.3 84.1-83.4 71.3-109.3-4.3-8.5-12.9-14.3-24.4-17.2l-7.8 31.3c-8 32-46.8 67.1-95.8 86-18.2 7-36.3 10.2-52.5 10z",fill:"#00ABE7"}),Object(r.jsxs)("g",{children:[Object(r.jsx)("path",{d:"M130 125.6V151a7.5 7.5 0 0015 0v-25.5a7.5 7.5 0 00-15 0z"}),Object(r.jsx)("path",{d:"M145.5 235.6a7.5 7.5 0 105-14.1C55.5 187.4 15 159.3 15 127.7c0-18.2 22.9-27.4 68-27.4 2 0 3.8-.7 5.1-2 16.2-13.6 30.1-19.7 44.9-19.7 28.1 0 44.5 19.8 53.4 36.5.7 1.4 1.9 2.5 3.3 3.2l44.8 21.8a7.5 7.5 0 106.5-13.5l-42.6-20.7c-15.4-27.7-38-42.3-65.4-42.3-22.8 0-40.7 11.9-52.7 21.7-24 .2-42 3-55 8.4C4.3 102.4 0 117 0 127.7c0 15.7 6.7 30.1 21.2 44.1 22 48.2 100 90.7 111.6 96.9l49.7 58.8-38.7 68.7h-24.3a7.5 7.5 0 000 15h60c10.2 0 19.7-5.6 25.2-15l31.6-53.3 2.2-4 19 8.1a47 47 0 001 29.6c3 7.7 8 14.3 14.8 19.6h-46.2a7.5 7.5 0 000 15h173.4L351 435.9a7.5 7.5 0 006.7 13.4l70.8-35.2a180.3 180.3 0 0068.3-59.5C513 330 517.8 307 510 291.1c-5.9-11.8-18.1-19.6-35.5-22.5a7.5 7.5 0 10-2.5 14.8c8.7 1.4 20 5.1 24.5 14.4 5.3 10.5.6 29.1-12.3 48.5a163.9 163.9 0 01-54.2 49.9H389c46.2-20.6 81.5-54.5 89.5-86.7a7.5 7.5 0 10-14.6-3.6c-7.3 29.7-44.9 63-91.2 80.8a123.5 123.5 0 01-64.9 8c-18-3.2-30.5-11.6-35.1-23.5-4.6-12-1-26.5 10.2-41 12-15.6 31-29 53.4-37.7 17.5-6.8 35.4-10 51.5-9.4-5 2-9.8 4.3-14.7 6.7-32 15.9-58.6 37.7-73.2 60a7.5 7.5 0 0012.5 8.2c13.2-20 37.8-40 67.4-54.8 22-11 44.5-18 65-20.2a7.5 7.5 0 00-1.7-14.9 176 176 0 00-22.4 4L404 234a104.5 104.5 0 00-50-52.3L266.4 139a7.5 7.5 0 00-6.5 13.5l87.4 42.5a89.5 89.5 0 0142.9 44.9l13 29.8c-21.7-3.8-47.6-.8-72.4 8.8-25 9.7-46.3 24.8-60 42.5-3 4-5.6 8-7.8 12.1l-20.1-8.6c.9-8.7-1.7-16.8-7.8-24.7l-28-36.2a7.5 7.5 0 00-11.8 9.1l28 36.3c6.4 8.3 6.4 15.7.1 26.3l-31.6 53.3a14.6 14.6 0 01-12.3 7.6H161l37.1-65.9a7.5 7.5 0 00-.8-8.5l-54-64a7.5 7.5 0 00-2.3-1.7c-.6-.4-48.5-25.2-81.1-57.2 21.8 11.9 50 24 85.6 36.7z"})]})]})})};function Ce(){var n=Object(f.a)(["\n  font-size: 24px;\n  font-family: 'Quicksand';\n  color: ",";\n  padding-left: 0.5rem;\n"]);return Ce=function(){return n},n}function ze(){var n=Object(f.a)(["\n  display: flex;\n  width: 117px;\n  height: 48px;\n  display: inline-flex;\n  align-items: center;\n"]);return ze=function(){return n},n}var Me=j.d.div(ze()),Ee=j.d.span(Ce(),(function(n){return n.theme.gray0})),Be=function(){return Object(r.jsxs)(Me,{children:[Object(r.jsx)(Se,{}),Object(r.jsx)(Ee,{children:"ribbit"})]})},Ae=function(){return Object(r.jsxs)("svg",{style:{height:"100%"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:[Object(r.jsx)("path",{d:"M15 9.9V8A5 5 0 005 8v1.9c-2.4.5-4 1.2-4 2.1 0 1.4 4 2.6 9 2.6s9-1.2 9-2.6c0-.9-1.6-1.7-4-2.1zm-2 1a9.6 9.6 0 01-3 .3 9.6 9.6 0 01-3-.4V8a3 3 0 016 0zM2.7 14.6l3 2.1a7.4 7.4 0 008.6 0l3-2.1a24.6 24.6 0 01-7.2 1 24.6 24.6 0 01-7.4-1z"}),Object(r.jsx)("circle",{cx:"16",cy:"4",r:"4",fill:"none"}),Object(r.jsx)("circle",{cx:"16",cy:"4",r:"3",fill:"none"})]})},Te=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:Object(r.jsx)("path",{d:"M12.5 3.5H20V11l-2.5-2.5-6.25 6.25L7.5 11l-5 5L0 13.5 7.5 6l3.75 3.75L15 6z"})})},Ue=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:Object(r.jsx)("path",{d:"M4.78 5.15h-.63V2H3.09a1 1 0 01-.73.25V3a1.84 1.84 0 00.7-.17v2.32h-.71V6h2.43zM3.62 8.88c.25 0 .39.12.39.35s-.17.41-.77.78c-1 .63-1.15 1.21-1.15 1.78V12H5v-.85H3.31c.06-.16.22-.35.72-.64.81-.43 1-.87 1-1.32C5 8.47 4.58 8 3.65 8a1.76 1.76 0 00-1.57 1l.72.52a1.07 1.07 0 01.82-.64zM4.43 15.87a.82.82 0 00.57-.82C5 14.4 4.53 14 3.65 14a2.15 2.15 0 00-1.51.61l.55.64a1.24 1.24 0 01.88-.39c.27 0 .41.12.41.32s-.15.38-.67.38H3v.72h.31c.53 0 .76.13.76.46s-.15.42-.57.42a1.05 1.05 0 01-.85-.5l-.65.55a1.83 1.83 0 001.57.79c.94 0 1.55-.43 1.55-1.24a.87.87 0 00-.69-.89zM17 9H8a1 1 0 000 2h9a1 1 0 000-2zM17 15H8a1 1 0 000 2h9a1 1 0 000-2zM8 5h9a1 1 0 000-2H8a1 1 0 000 2z"})})},Le=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:Object(r.jsx)("path",{d:"M7.03 10a2.97 2.97 0 115.95 0 2.97 2.97 0 01-5.95 0m9.37-1.5a6.52 6.52 0 00-.8-1.96l.92-1.47a1.15 1.15 0 00-1.59-1.6l-1.47.94a6.49 6.49 0 00-1.95-.81l-.38-1.7a1.15 1.15 0 00-2.26 0L8.5 3.6c-.7.16-1.35.44-1.95.8l-1.47-.92a1.15 1.15 0 00-1.6 1.59l.94 1.47c-.37.6-.65 1.25-.81 1.95l-1.7.38a1.15 1.15 0 000 2.26l1.7.38c.16.7.44 1.35.8 1.95l-.92 1.47a1.15 1.15 0 001.59 1.6l1.47-.94c.6.37 1.25.65 1.95.81l.38 1.7a1.15 1.15 0 002.26 0l.38-1.7c.7-.16 1.35-.44 1.95-.8l1.47.92a1.15 1.15 0 001.6-1.59l-.94-1.47c.37-.6.65-1.25.81-1.95l1.7-.38a1.15 1.15 0 000-2.26l-1.7-.38z",fill:"inherit"})})},Ne=function(){return Object(r.jsxs)("svg",{style:{height:"100%"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:[Object(r.jsx)("path",{d:"M7.79 9.16L2.48 3.85a2.49 2.49 0 011.27-.35h12.5a2.49 2.49 0 011.27.35l-5.31 5.31a3.13 3.13 0 01-4.42 0z"}),Object(r.jsx)("path",{d:"M13.09 10.31L18.4 5a2.47 2.47 0 01.35 1.27v7.5a2.5 2.5 0 01-2.5 2.5H3.75a2.5 2.5 0 01-2.5-2.5v-7.5A2.47 2.47 0 011.6 5l5.31 5.31a4.37 4.37 0 006.18 0z"})]})},De=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:Object(r.jsx)("path",{d:"M5 15a1 1 0 01-1-1v-2.83a1 1 0 01.29-.7l8.09-8.09a1 1 0 011.41 0l2.83 2.83a1 1 0 010 1.41l-8.08 8.09a1 1 0 01-.71.29zm12 1a1 1 0 010 2H3a1 1 0 010-2z"})})};function Ie(){var n=Object(f.a)(["\n  margin-left: 8px;\n"]);return Ie=function(){return n},n}function Re(){var n=Object(f.a)(["\n  height: 20px;\n  color: ",";\n"]);return Re=function(){return n},n}function Fe(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n      :hover {\n        background: ",";\n      }\n    "]);return Fe=function(){return n},n}function He(){var n=Object(f.a)(["\n  padding: 8px 24px;\n  height: 36px;\n  font-weight: 400;\n  display: flex;\n  align-items: center;\n  ",";\n"]);return He=function(){return n},n}function _e(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return _e=function(){return n},n}function Pe(){var n=Object(f.a)(["\n  padding: 16px 32px 8px;\n  font-weight: 400;\n  ",";\n"]);return Pe=function(){return n},n}function Ve(){var n=Object(f.a)(["\n      border: 1px solid ",";\n      background: ",";\n    "]);return Ve=function(){return n},n}function Je(){var n=Object(f.a)(["\n  width: 270px;\n  min-height: 100px;\n  position: absolute;\n  top: 34px;\n  padding-bottom: 16px;\n\n  ","\n  border-top: none;\n  border-radius: 0 0 4px 4px;\n"]);return Je=function(){return n},n}var Ge=j.d.div(Je(),(function(n){var t=n.theme;return Object(j.c)(Ve(),t.postBorder,t.gray4)})),Xe=j.d.h3(Pe(),(function(n){var t=n.theme;return Object(j.c)(_e(),t.gray2,t.fontSmallX)})),qe=j.d.div(He(),(function(n){var t=n.theme;return Object(j.c)(Fe(),t.gray0,t.fontMed,t.gray3)})),We=j.d.div(Re(),(function(n){return n.theme.sec2})),Ye=j.d.span(Ie()),Ke=[{link:"/",icon:Ae,text:"Home"},{link:"/",icon:Te,text:"Popular"},{link:"/",icon:Jn,text:"All"},{link:"/",icon:Ue,text:"Top Communities"}],Qe=[{link:"/",icon:Le,text:"User Settings"},{link:"/",icon:Ne,text:"Messages"},{link:"/subribbits/create",icon:De,text:"Create Community"}],Ze=function(){return Object(r.jsxs)(Ge,{children:[Object(r.jsx)(Xe,{children:"RIBBIT FEEDS"}),Ke.map((function(n,t){return Object(r.jsx)(d.b,{to:n.link,children:Object(r.jsxs)(qe,{children:[Object(r.jsx)(We,{children:Object(r.jsx)(n.icon,{})}),Object(r.jsx)(Ye,{children:n.text})]})},t)})),Object(r.jsx)(Xe,{children:"OTHER"}),Qe.map((function(n,t){return Object(r.jsx)(d.b,{to:n.link,children:Object(r.jsxs)(qe,{children:[Object(r.jsx)(We,{children:Object(r.jsx)(n.icon,{})}),Object(r.jsx)(Ye,{children:n.text})]})},t)}))]})};function $e(){var n=Object(f.a)(["\n  height: 22px;\n  margin-right: 8px;\n  color: ",";\n"]);return $e=function(){return n},n}function nr(){var n=Object(f.a)(["\n  display: flex;\n  align-items: center;\n"]);return nr=function(){return n},n}function tr(){var n=Object(f.a)(["\n  height: 20px;\n  color: ",";\n"]);return tr=function(){return n},n}function er(){var n=Object(f.a)(["\n  font-weight: 600;\n  font-size: ",";\n"]);return er=function(){return n},n}function rr(){var n=Object(f.a)(["\n      color: ",";\n      border-color: ",";\n      :hover {\n        border-color: ",";\n    "]);return rr=function(){return n},n}function cr(){var n=Object(f.a)(["\n  width: 270px;\n  background: transparent;\n  height: 36px;\n  padding: 0 15px;\n  border: 1px solid transparent;\n  border-radius: 4px;\n  outline: none;\n  cursor: pointer;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  overflow: hidden;\n  text-overflow: ellipsis;\n  ","\n"]);return cr=function(){return n},n}function or(){var n=Object(f.a)(["\n  position: relative;\n"]);return or=function(){return n},n}var ir=j.d.div(or()),ar=j.d.button(cr(),(function(n){return Object(j.c)(rr(),n.theme.gray0,n.expanded?n.theme.postBorder:"transparent",n.theme.postBorder)})),ur=j.d.h2(er(),(function(n){return n.theme.fontMed})),sr=j.d.div(tr(),(function(n){return n.theme.gray2})),dr=j.d.div(nr()),br=j.d.div($e(),(function(n){return n.theme.sec2})),fr=function(n,t){return[{path:"/r/popular",icon:Te,text:"Popular"},{path:"/r/all",icon:Jn,text:"All"},{path:"/messages/inbox",icon:Ne,text:"Messages"},{path:"/subribbits/create",icon:De,text:"Create Community"},{path:"/user/".concat(t),text:"u/".concat(t)},{path:"/r/",text:"r/".concat(n.split("/")[2])},{path:"/submit",icon:De,text:"Create Post"},{path:"/settings",icon:Le,text:"User Settings"},{path:"/",icon:Ae,text:"Home"}].find((function(t){return n.startsWith(t.path)}))},jr=function(){var n=Object(b.h)(),t=Object(s.c)((function(n){return n.user})),e=C(),c=Object(u.a)(e,3),o=c[0],i=c[1],a=c[2],d=fr(n.pathname,t.username);return Object(r.jsxs)(ir,{ref:a,children:[Object(r.jsxs)(ar,{type:"button",expanded:o,onClick:function(){return i(!o)},children:[Object(r.jsxs)(dr,{children:[d.icon&&Object(r.jsx)(br,{children:Object(r.jsx)(d.icon,{})}),Object(r.jsx)(ur,{children:d.text})]}),Object(r.jsx)(sr,{children:Object(r.jsx)(Xn,{})})]}),o&&Object(r.jsx)(Ze,{})]})},lr=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:Object(r.jsx)("path",{d:"M15.6 14l2.8 2.6a1.3 1.3 0 11-1.8 1.8l-2.8-2.7a8 8 0 111.8-1.8zm-1-4.8a5.5 5.5 0 10-5.4 5.4 5.5 5.5 0 005.4-5.4z"})})};function pr(){var n=Object(f.a)(["\n  height: 20px;\n  position: absolute;\n  top: 8px;\n  left: 14px;\n  color: ",";\n"]);return pr=function(){return n},n}function hr(){var n=Object(f.a)(["\n      font-size: ",";\n      color: ",";\n      background: ",";\n      border: 1px solid ",";\n    "]);return hr=function(){return n},n}function xr(){var n=Object(f.a)(["\n  border-radius: 4px;\n  padding: 0 16px 0px 40px;\n  width: 100%;\n  height: 36px;\n  ","\n"]);return xr=function(){return n},n}function Or(){var n=Object(f.a)(["\n  margin: 0 16px;\n  width: 100%;\n  position: relative;\n"]);return Or=function(){return n},n}var vr=j.d.div(Or()),gr=j.d.input(xr(),(function(n){var t=n.theme;return Object(j.c)(hr(),t.fontMed,t.gray0,t.gray3,t.postBorder)})),mr=j.d.div(pr(),(function(n){return n.theme.gray2})),wr=function(){var n=Object(c.useState)(""),t=Object(u.a)(n,2),e=t[0],o=t[1];return Object(r.jsxs)(vr,{children:[Object(r.jsx)(mr,{children:Object(r.jsx)(lr,{})}),Object(r.jsx)(gr,{value:e,onChange:function(n){return o(n.target.value)},placeholder:"Search"})]})};function yr(){var n=Object(f.a)(["\n  height: 16px;\n"]);return yr=function(){return n},n}function kr(){var n=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 2px;\n  margin-left: 8px;\n  :first-child {\n    margin-left: 0px;\n  }\n\n  color: ",";\n  width: 32px;\n  height: 32px;\n  padding: 8px;\n  :hover {\n    background: ",";\n  }\n"]);return kr=function(){return n},n}function Sr(){var n=Object(f.a)(["\n  height: 48px;\n  display: flex;\n  align-items: center;\n"]);return Sr=function(){return n},n}var Cr=j.d.div(Sr()),zr=j.d.a(kr(),(function(n){return n.theme.gray0}),(function(n){return n.theme.gray3})),Mr=j.d.div(yr()),Er=[{link:"/",icon:Te},{link:"/",icon:Jn},{link:"/",icon:Ne},{link:"/",icon:De}],Br=function(){return Object(r.jsx)(Cr,{children:Er.map((function(n,t){return Object(r.jsx)(d.b,{to:n.link,component:zr,children:Object(r.jsx)(Mr,{children:Object(r.jsx)(n.icon,{})})},t)}))})},Ar=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:Object(r.jsx)("path",{d:"M3.37 2.75a5.9 5.9 0 015.49 3.7.62.62 0 01-.29.79 3.16 3.16 0 00-1.33 1.33.63.63 0 01-.79.29 5.89 5.89 0 01-3.7-5.49.62.62 0 01.62-.62zm8.06 4.49a.63.63 0 01-.29-.79 5.89 5.89 0 015.49-3.7.61.61 0 01.62.6 5.89 5.89 0 01-3.7 5.49.62.62 0 01-.79-.29 3.16 3.16 0 00-1.33-1.31zm2.12 3.9a5.89 5.89 0 013.7 5.49.62.62 0 01-.62.62 5.89 5.89 0 01-5.49-3.7.63.63 0 01.29-.79 3.16 3.16 0 001.33-1.33.62.62 0 01.79-.29zm-5 1.62a.62.62 0 01.29.79 5.89 5.89 0 01-5.49 3.7.62.62 0 01-.62-.62 5.9 5.9 0 013.7-5.49.62.62 0 01.79.29 3.1 3.1 0 001.35 1.33zM10 5.93a7.23 7.23 0 00-2.49-3.11A5 5 0 019.68.09a.61.61 0 01.64 0 5 5 0 012.17 2.73A7.23 7.23 0 0010 5.93zm9.91 3.75a.61.61 0 010 .64 5 5 0 01-2.73 2.17A7.23 7.23 0 0014.07 10a7.36 7.36 0 003.11-2.49 5 5 0 012.73 2.17zM10 14.07a7.18 7.18 0 002.5 3.11 5 5 0 01-2.18 2.73.61.61 0 01-.64 0 5 5 0 01-2.17-2.73A7.23 7.23 0 0010 14.07zM5.93 10a7.23 7.23 0 00-3.11 2.49 5 5 0 01-2.73-2.17.61.61 0 010-.64 5 5 0 012.73-2.17A7.23 7.23 0 005.93 10z"})})},Tr=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:Object(r.jsx)("path",{fill:"inherit",d:"M15 15.5H5a.5.5 0 01-.5-.5 4 4 0 014-4h3a4 4 0 014 4c0 .3-.2.5-.5.5m-5-11a2.5 2.5 0 110 5.1 2.5 2.5 0 010-5.1M16 2H4a2 2 0 00-2 2v12c0 1.1.9 2 2 2h12a2 2 0 002-2V4a2 2 0 00-2-2"})})},Ur=function(){return Object(r.jsx)("svg",{style:{height:"100%"},viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:Object(r.jsx)("path",{fill:"inherit",d:"M15 2H5a1 1 0 00-1 1v6h5.6L8.3 7.7a1 1 0 111.4-1.4l3 3c.4.4.4 1 0 1.4l-3 3a1 1 0 01-1.4 0 1 1 0 010-1.4L9.6 11H4v6c0 .6.4 1 1 1h10c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1"})})};function Lr(){var n=Object(f.a)(["\n  background: none;\n  border: none;\n  width: 100%;\n  position: relative;\n  ::before {\n    content: '';\n    position: absolute;\n    background: ",";\n    top: 0px;\n    left: 17px;\n    height: 1px;\n    width: 180px;\n  }\n"]);return Lr=function(){return n},n}function Nr(){var n=Object(f.a)(["\n  color: ",";\n  height: 20px;\n  position: absolute;\n  left: 16px;\n  top: 10px;\n"]);return Nr=function(){return n},n}function Dr(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n      :hover {\n        background: ",";\n      }\n    "]);return Dr=function(){return n},n}function Ir(){var n=Object(f.a)(["\n  display: flex;\n  padding: 10px 16px 10px 48px;\n  position: relative;\n  font-weight: 500;\n  ",";\n"]);return Ir=function(){return n},n}function Rr(){var n=Object(f.a)(["\n      font-size: ",";\n      color: ",";\n    "]);return Rr=function(){return n},n}function Fr(){var n=Object(f.a)(["\n  margin: 8px 12px 4px;\n  ",";\n"]);return Fr=function(){return n},n}function Hr(){var n=Object(f.a)(["\n      background: ",";\n      border: 1px solid ",";\n      border-top: none;\n    "]);return Hr=function(){return n},n}function _r(){var n=Object(f.a)(["\n  position: absolute;\n  width: 215px;\n  position: absolute;\n  top: 38px;\n  border-radius: 0 0 4px 4px;\n  right: 0;\n  ","\n"]);return _r=function(){return n},n}var Pr=j.d.div(_r(),(function(n){var t=n.theme;return Object(j.c)(Hr(),t.gray4,t.postBorder)})),Vr=j.d.h3(Fr(),(function(n){var t=n.theme;return Object(j.c)(Rr(),t.fontSmallX,t.gray2)})),Jr=j.d.div(Ir(),(function(n){var t=n.theme;return Object(j.c)(Dr(),t.gray0,t.fontMed,t.gray3)})),Gr=j.d.div(Nr(),(function(n){return n.theme.gray2})),Xr=j.d.button(Lr(),(function(n){return n.theme.postBorder})),qr=[{text:"My Profile",icon:Tr,link:""},{text:"User Settings",icon:Le,link:""}],Wr=function(n){var t=n.user,e=n.showUserForm,c=Object(s.b)(),o=Object(b.g)();return Object(r.jsx)(Pr,{children:t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Vr,{children:"MY STUFF"}),qr.map((function(n,t){return Object(r.jsx)(d.b,{to:n.link,children:Object(r.jsxs)(Jr,{children:[Object(r.jsx)(Gr,{children:Object(r.jsx)(n.icon,{})}),n.text]})},t)})),Object(r.jsx)(Xr,{onClick:function(){c(function(){var n=Object(x.a)(h.a.mark((function n(t){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:localStorage.removeItem("user"),t({type:"LOGOUT"});case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()),o.push("/")},children:Object(r.jsxs)(Jr,{children:[Object(r.jsx)(Gr,{children:Object(r.jsx)(Ur,{})}),"Log Out"]})})]}):Object(r.jsx)(Xr,{onClick:function(){return e("login")},children:Object(r.jsxs)(Jr,{children:[Object(r.jsx)(Gr,{children:Object(r.jsx)(Ur,{})}),"Log In / Sign Up"]})})})};function Yr(){var n=Object(f.a)(["\n  height: 24px;\n  color: ",";\n"]);return Yr=function(){return n},n}function Kr(){var n=Object(f.a)(["\n  display: inline-block;\n  height: 10px;\n  margin-right: 2px;\n  color: #2dc7ff;\n"]);return Kr=function(){return n},n}function Qr(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return Qr=function(){return n},n}function Zr(){var n=Object(f.a)(["\n  font-family: 'IBM Plex Sans';\n  font-weight: 600;\n  ",";\n"]);return Zr=function(){return n},n}function $r(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return $r=function(){return n},n}function nc(){var n=Object(f.a)(["\n  font-family: 'IBM Plex Sans';\n  font-weight: 600;\n\n  ",";\n"]);return nc=function(){return n},n}function tc(){var n=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  width: 177px;\n"]);return tc=function(){return n},n}function ec(){var n=Object(f.a)(["\n  height: 20px;\n  color: ",";\n"]);return ec=function(){return n},n}function rc(){var n=Object(f.a)(["\n      border: 1px solid\n        ",";\n\n      :hover {\n        border-color: ",";\n      }\n    "]);return rc=function(){return n},n}function cc(){var n=Object(f.a)(["\n  height: 40px;\n  background: transparent;\n  margin-left: 8px;\n  padding: 0 8px;\n  border-radius: 4px;\n  outline: none;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  ","\n"]);return cc=function(){return n},n}function oc(){var n=Object(f.a)(["\n  position: relative;\n"]);return oc=function(){return n},n}var ic=j.d.div(oc()),ac=j.d.button(cc(),(function(n){return Object(j.c)(rc(),n.expanded?n.theme.postBorder:"transparent",n.theme.postBorder)})),uc=j.d.div(ec(),(function(n){return n.theme.gray2})),sc=j.d.div(tc()),dc=j.d.span(nc(),(function(n){var t=n.theme;return Object(j.c)($r(),t.gray0,t.fontSmall)})),bc=j.d.span(Zr(),(function(n){var t=n.theme;return Object(j.c)(Qr(),t.gray1,t.fontSmall)})),fc=j.d.div(Kr()),jc=j.d.div(Yr(),(function(n){return n.theme.gray2})),lc=function(n){var t=n.showUserForm,e=Object(s.c)((function(n){return n.user})),c=C(!1),o=Object(u.a)(c,3),i=o[0],a=o[1],d=o[2];return Object(r.jsxs)(ic,{ref:d,children:[Object(r.jsxs)(ac,{expanded:i,onClick:function(){return a(!i)},children:[e?Object(r.jsxs)(sc,{children:[Object(r.jsx)(dc,{children:e.username}),Object(r.jsxs)(bc,{children:[Object(r.jsx)(fc,{children:Object(r.jsx)(Ar,{})}),e.karma||0," karma"]})]}):Object(r.jsx)(jc,{children:Object(r.jsx)(Tr,{})}),Object(r.jsx)(uc,{children:Object(r.jsx)(Xn,{})})]}),i&&Object(r.jsx)(Wr,{user:e,showUserForm:t})]})};function pc(){var n=Object(f.a)(["\n  width: 120px;\n  padding: 3px 16px;\n  margin-left: 16px;\n"]);return pc=function(){return n},n}function hc(){var n=Object(f.a)(["\n  width: 120px;\n  padding: 3px 16px;\n"]);return hc=function(){return n},n}function xc(){var n=Object(f.a)(["\n  display: flex;\n"]);return xc=function(){return n},n}var Oc=j.d.div(xc()),vc=Object(j.d)(Ct)(hc()),gc=Object(j.d)(yt)(pc()),mc=function(n){var t=n.showUserForm;return Object(r.jsxs)(Oc,{children:[Object(r.jsx)(vc,{onClick:function(){return t("login")},children:"LOG IN"}),Object(r.jsx)(gc,{onClick:function(){return t("signup")},children:"SIGN UP"})]})};function wc(){var n=Object(f.a)(["\n      color: ",";\n      background-color: ",";\n      border-bottom: 1px solid ",";\n    "]);return wc=function(){return n},n}function yc(){var n=Object(f.a)(["\n  width: 100%;\n  height: 49px;\n  display: flex;\n  align-items: center;\n  padding: 0 20px;\n\n  position: sticky;\n  top: 0;\n  z-index: 100;\n\n  ","\n"]);return yc=function(){return n},n}var kc=j.d.nav(yc(),(function(n){var t=n.theme;return Object(j.c)(wc(),t.gray0,t.gray4,t.postBorder)})),Sc=function(n){var t=n.showUserForm,e=Object(s.c)((function(n){return n.user}));return Object(r.jsxs)(kc,{children:[Object(r.jsx)(d.b,{to:"/",children:Object(r.jsx)(Be,{})}),e&&Object(r.jsx)(jr,{}),Object(r.jsx)(wr,{}),e?Object(r.jsx)(Br,{}):Object(r.jsx)(mc,{showUserForm:t}),Object(r.jsx)(lc,{showUserForm:t})]})};function Cc(){var n=Object(f.a)(["\n  color: red;\n  font-size: ",";\n  margin: 0 0 8px 8px;\n"]);return Cc=function(){return n},n}function zc(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return zc=function(){return n},n}function Mc(){var n=Object(f.a)(["\n  display: block;\n  font-weight: 400;\n  ","\n"]);return Mc=function(){return n},n}function Ec(){var n=Object(f.a)(["\n      font-size: ",";\n      :hover {\n        background: ",";\n      }\n    "]);return Ec=function(){return n},n}function Bc(){var n=Object(f.a)(["\n  background: none;\n  border: none;\n  color: inherit;\n  font-weight: 600;\n  padding: 8px;\n  width: 100%;\n  text-align: left;\n  cursor: pointer;\n  ","\n"]);return Bc=function(){return n},n}function Ac(){var n=Object(f.a)(["\n  position: absolute;\n  ","\n  border-top: none;\n  border-radius: 0 0 4px 4px;\n  top: 34px;\n  width: 100%;\n"]);return Ac=function(){return n},n}function Tc(){var n=Object(f.a)(["\n      ","\n      color: ",";\n      font-size: ",";\n      ::placeholder {\n        color: ",";\n      }\n    "]);return Tc=function(){return n},n}function Uc(){var n=Object(f.a)(["\n  margin-bottom: 8px;\n  padding: 8px;\n  border-radius: 4px;\n  width: 100%;\n  font-weight: 600;\n  outline: none;\n  ","\n"]);return Uc=function(){return n},n}function Lc(){var n=Object(f.a)(["\n  position: relative;\n  width: 200px;\n"]);return Lc=function(){return n},n}var Nc=j.d.div(Lc()),Dc=j.d.input(Uc(),(function(n){var t=n.theme;return Object(j.c)(Tc(),t.box(),t.gray0,t.fontMed,t.gray0)})),Ic=j.d.div(Ac(),(function(n){return n.theme.box()})),Rc=j.d.button(Bc(),(function(n){var t=n.theme;return Object(j.c)(Ec(),t.fontMed,t.gray3)})),Fc=j.d.span(Mc(),(function(n){var t=n.theme;return Object(j.c)(zc(),t.gray2,t.fontSmall)})),Hc=j.d.p(Cc(),(function(n){return n.theme.fontMed})),_c=function(n){var t=n.sub,e=n.setSub,o=n.error,i=Object(c.useState)([]),a=Object(u.a)(i,2),s=a[0],d=a[1],b=Object(c.useState)(!1),f=Object(u.a)(b,2),j=f[0],l=f[1];return Object(c.useEffect)((function(){var n=setTimeout((function(){gt.getSimilar(t.trim()).then((function(n){d(n||[])}))}),800);return function(){return clearTimeout(n)}}),[t]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Nc,{children:[Object(r.jsx)(Dc,{onFocus:function(){return l(!0)},onBlur:function(){return l(!1)},value:t,onChange:function(n){return e("".concat(n.target.value))},placeholder:"Choose a community",maxLength:"20"}),j&&Object(r.jsx)(Ic,{children:s.map((function(n){return Object(r.jsxs)(Rc,{type:"button",onMouseDown:function(){return e(n.name)},children:[n.name,Object(r.jsxs)(Fc,{children:[n.memberCount," members"]})]},n.name)}))})]}),Object(r.jsx)(Hc,{children:o})]})};function Pc(){var n=Object(f.a)(["\n  margin-top: 8px;\n  padding: 4px 16px;\n  width: 82px;\n"]);return Pc=function(){return n},n}function Vc(){var n=Object(f.a)(["\n      font-size: ",";\n      color: ",";\n      border: 1px solid ",";\n    "]);return Vc=function(){return n},n}function Jc(){var n=Object(f.a)(["\n  padding: 8px 16px;\n  min-height: 100pxs;\n  width: 100%;\n  background: none;\n  border-radius: 4px;\n  resize: vertical;\n  ",";\n"]);return Jc=function(){return n},n}function Gc(){var n=Object(f.a)(["\n      font-size: ",";\n      color: ",";\n      border: 1px solid ",";\n    "]);return Gc=function(){return n},n}function Xc(){var n=Object(f.a)(["\n  padding: 8px 68px 8px 16px;\n  width: 100%;\n  background: none;\n  margin-bottom: 8px;\n  border-radius: 4px;\n  ",";\n"]);return Xc=function(){return n},n}function qc(){var n=Object(f.a)(["\n  width: 100%;\n  border-radius: 4px;\n  padding: 12px;\n  background: ",";\n"]);return qc=function(){return n},n}function Wc(){var n=Object(f.a)(["\n      font-size: ",";\n      border-bottom: 1px solid ",";\n    "]);return Wc=function(){return n},n}function Yc(){var n=Object(f.a)(["\n  font-weight: 600;\n  padding-bottom: 12px;\n  margin-bottom: 12px;\n  ",";\n"]);return Yc=function(){return n},n}function Kc(){var n=Object(f.a)(["\n      color: ",";\n    "]);return Kc=function(){return n},n}function Qc(){var n=Object(f.a)(["\n  max-width: 1000px;\n  margin: 0 auto;\n  ",";\n"]);return Qc=function(){return n},n}function Zc(){var n=Object(f.a)(["\n  padding: 20px 24px;\n  margin: 0 auto;\n  height: 100px;\n"]);return Zc=function(){return n},n}var $c=j.d.div(Zc()),no=j.d.form(Qc(),(function(n){var t=n.theme;return Object(j.c)(Kc(),t.gray0)})),to=j.d.h1(Yc(),(function(n){var t=n.theme;return Object(j.c)(Wc(),t.fontLargeX,t.postBorder)})),eo=j.d.div(qc(),(function(n){return n.theme.gray4})),ro=j.d.input(Xc(),(function(n){var t=n.theme;return Object(j.c)(Gc(),t.fontMed,t.gray0,t.postBorder)})),co=j.d.textarea(Jc(),(function(n){var t=n.theme;return Object(j.c)(Vc(),t.fontMed,t.gray0,t.postBorder)})),oo=Object(j.d)(yt)(Pc()),io=function(){var n=Object(b.g)(),t=Object(b.i)().subribbit,e=Object(c.useState)(t||""),o=Object(u.a)(e,2),i=o[0],a=o[1],s=Object(c.useState)(""),d=Object(u.a)(s,2),f=d[0],j=d[1],l=Object(c.useState)(""),p=Object(u.a)(l,2),h=p[0],x=p[1],O=Object(c.useState)(""),v=Object(u.a)(O,2),g=v[0],m=v[1];return Object(r.jsx)($c,{children:Object(r.jsxs)(no,{onSubmit:function(t){t.preventDefault(),m(""),w.createOne({sub:i,title:f,content:h}).then((function(t){if(t.error)return m(t.error);n.push("/r/".concat(t.subribbit,"/").concat(t.id))}))},children:[Object(r.jsx)(to,{children:"Create a post"}),Object(r.jsx)(_c,{error:g,sub:i,setSub:a}),Object(r.jsxs)(eo,{children:[Object(r.jsx)("label",{children:Object(r.jsx)(ro,{type:"text",value:f,onChange:function(n){return j(n.target.value)},placeholder:"Title",required:!0})}),Object(r.jsx)("label",{children:Object(r.jsx)(co,{value:h,onChange:function(n){return x(n.target.value)},placeholder:"Text",required:!0})}),Object(r.jsx)(oo,{type:"submit",children:"POST"})]})]})})},ao={getByPost:function(){var n=Object(x.a)(h.a.mark((function n(t,e){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.get("".concat(m,"/comments/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),commentOn:function(){var n=Object(x.a)(h.a.mark((function n(t,e,r){var c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.post("".concat(m,"/comments/").concat(t),e,{headers:{Authorization:"Bearer ".concat(r)}});case 2:return c=n.sent,n.abrupt("return",c.data);case 4:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),editOne:function(){var n=Object(x.a)(h.a.mark((function n(t,e,r){var c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.patch("".concat(m,"/comments/").concat(t),e,{headers:{Authorization:"Bearer ".concat(r)}});case 2:return c=n.sent,n.abrupt("return",c.data);case 4:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}(),deleteOne:function(){var n=Object(x.a)(h.a.mark((function n(t,e){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.delete("".concat(m,"/comments/").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),voteOn:function(){var n=Object(x.a)(h.a.mark((function n(t,e,r){var c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.post("".concat(m,"/comments/vote/").concat(t),{isUpvote:e},{headers:{Authorization:"Bearer ".concat(r)}});case 2:return c=n.sent,n.abrupt("return",c.data);case 4:case"end":return n.stop()}}),n)})));return function(t,e,r){return n.apply(this,arguments)}}()},uo=function(n,t,e){return function(){var r=Object(x.a)(h.a.mark((function r(c){var o,i,u,s,d;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=localStorage.getItem("user")){r.next=3;break}return r.abrupt("return");case 3:return i=JSON.parse(o),u=i.username,s=i.token,r.next=6,ao.commentOn(n,{comment:t,parentComment:e},s);case 6:d=r.sent,c({type:"ADD_COMMENT",comment:Object(a.a)(Object(a.a)({},d),{},{points:0,username:u})});case 8:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()};function so(){var n=Object(f.a)(["\n  padding: 3px 16px;\n"]);return so=function(){return n},n}function bo(){var n=Object(f.a)(["\n  padding: 3px 16px;\n  margin-right: 8px;\n"]);return bo=function(){return n},n}function fo(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return fo=function(){return n},n}function jo(){var n=Object(f.a)(["\n  font-weight: 600;\n  ","\n"]);return jo=function(){return n},n}function lo(){var n=Object(f.a)(["\n  ",";\n  border-radius: 4px;\n  padding: 12px 8px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return lo=function(){return n},n}function po(){var n=Object(f.a)(["\n  margin: 4px 8px;\n  padding: 5px 10px;\n  width: 96px;\n"]);return po=function(){return n},n}function ho(){var n=Object(f.a)(["\n      border: 1px solid ",";\n      background: ",";\n    "]);return ho=function(){return n},n}function xo(){var n=Object(f.a)(["\n  border-radius: 0 0 2px 2px;\n  margin-top: -5px;\n  ","\n  border-top: 0;\n"]);return xo=function(){return n},n}function Oo(){var n=Object(f.a)(["\n      border: 1px solid ",";\n      color: ",";\n    "]);return Oo=function(){return n},n}function vo(){var n=Object(f.a)(["\n  width: 100%;\n  resize: vertical;\n  min-height: 150px;\n  background: transparent;\n  border-radius: 2px 2px 0 0;\n  padding: 8px 16px;\n  ","\n  border-bottom: none;\n"]);return vo=function(){return n},n}function go(){var n=Object(f.a)(["\n  margin: 24px 40px 24px 48px;\n"]);return go=function(){return n},n}var mo=j.d.div(go()),wo=j.d.textarea(vo(),(function(n){var t=n.theme;return Object(j.c)(Oo(),t.postBorder,t.gray0)})),yo=j.d.div(xo(),(function(n){var t=n.theme;return Object(j.c)(ho(),t.postBorder,t.gray3)})),ko=Object(j.d)(yt)(po()),So=j.d.div(lo(),(function(n){return n.theme.box()})),Co=j.d.span(jo(),(function(n){var t=n.theme;return Object(j.c)(fo(),t.gray2,t.fontLarge)})),zo=Object(j.d)(Ct)(bo()),Mo=Object(j.d)(yt)(so()),Eo=function(n){var t=n.showUserForm,e=Object(s.b)(),o=Object(b.i)().id,i=Object(s.c)((function(n){return n.user})),a=Object(c.useState)(""),d=Object(u.a)(a,2),f=d[0],j=d[1];return Object(r.jsx)(mo,{children:i?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(wo,{value:f,onChange:function(n){return j(n.target.value)},placeholder:"What are your thoughts?"}),Object(r.jsx)(yo,{children:Object(r.jsx)(ko,{onClick:function(){e(uo(o,f)).then((function(n){j("")}))},children:"COMMENT"})})]}):Object(r.jsxs)(So,{children:[Object(r.jsx)(Co,{children:"Log in or sign up to leave a comment"}),Object(r.jsxs)("div",{children:[Object(r.jsx)(zo,{onClick:function(){return t("login")},children:"LOG IN"}),Object(r.jsx)(Mo,{onClick:function(){return t("signup")},children:"SIGN UP"})]})]})})};function Bo(){var n=Object(f.a)(["\n  height: 26px;\n"]);return Bo=function(){return n},n}function Ao(){var n=Object(f.a)(["\n      color: ",";\n      :hover {\n        color: ",";\n      }\n    "]);return Ao=function(){return n},n}function To(){var n=Object(f.a)(["\n  outline: none;\n  ","\n"]);return To=function(){return n},n}function Uo(){var n=Object(f.a)(["\n      color: ",";\n      :hover {\n        color: ",";\n      }\n    "]);return Uo=function(){return n},n}function Lo(){var n=Object(f.a)(["\n  outline: none;\n  ","\n"]);return Lo=function(){return n},n}function No(){var n=Object(f.a)(["\n      color: ",";\n      :hover {\n        background: ",";\n      }\n    "]);return No=function(){return n},n}function Do(){var n=Object(f.a)(["\n  background: none;\n  border: none;\n  cursor: pointer;\n  border-radius: 4px;\n  ","\n"]);return Do=function(){return n},n}function Io(){var n=Object(f.a)(["\n  padding: 0 2px;\n  width: 40px;\n  flex-shrink: 0;\n  text-align: center;\n"]);return Io=function(){return n},n}var Ro=j.d.div(Io()),Fo=j.d.button(Do(),(function(n){var t=n.theme;return Object(j.c)(No(),t.gray0,t.gray3)})),Ho=Object(j.d)(Fo)(Lo(),(function(n){return Object(j.c)(Uo(),n.isUpvote?n.theme.prim2:n.theme.gray2,n.theme.prim1)})),_o=Object(j.d)(Fo)(To(),(function(n){return Object(j.c)(Ao(),n.isUpvote?n.theme.sec2:n.theme.gray2,n.theme.sec2)})),Po=j.d.div(Bo()),Vo=function(n){var t=n.isUpvote,e=n.voteHandler;return Object(r.jsxs)(Ro,{children:[Object(r.jsx)(Ho,{isUpvote:1===t,onClick:function(){return e(1)},children:Object(r.jsx)(Po,{children:Object(r.jsx)(sn,{})})}),Object(r.jsx)(_o,{isUpvote:-1===t,onClick:function(){return e(-1)},children:Object(r.jsx)(Po,{children:Object(r.jsx)(un,{})})})]})};function Jo(){var n=Object(f.a)(["\n  padding: 3px 10px;\n  width: 96px;\n  border: none;\n"]);return Jo=function(){return n},n}function Go(){var n=Object(f.a)(["\n  padding: 3px 10px;\n  width: 96px;\n  margin-right: 10px;\n"]);return Go=function(){return n},n}function Xo(){var n=Object(f.a)(["\n      ","\n      background: ",";\n    "]);return Xo=function(){return n},n}function qo(){var n=Object(f.a)(["\n  width: 100%;\n  border-radius: 0 0 4px 4px;\n  padding: 4px 8px;\n  ","\n  border-top: none;\n"]);return qo=function(){return n},n}function Wo(){var n=Object(f.a)(["\n      ","\n      font-size: ",";\n    "]);return Wo=function(){return n},n}function Yo(){var n=Object(f.a)(["\n  width: 100%;\n  background: red;\n  padding: 8px 16px;\n  resize: vertical;\n  min-height: 100px;\n  border-radius: 4px 4px 0 0;\n  color: inherit;\n  ","\n\n  border-bottom: none;\n  display: block;\n"]);return Yo=function(){return n},n}function Ko(){var n=Object(f.a)(["\n  width: 100%;\n  min-height: 20px;\n  margin: 8px 0 16px 0;\n  padding-left: 22px;\n  border-left: 1px solid ",";\n"]);return Ko=function(){return n},n}var Qo=j.d.div(Ko(),(function(n){return n.theme.postBorder})),Zo=j.d.textarea(Yo(),(function(n){var t=n.theme;return Object(j.c)(Wo(),t.box(),t.fontMed)})),$o=j.d.div(qo(),(function(n){var t=n.theme;return Object(j.c)(Xo(),t.box(),t.gray3)})),ni=Object(j.d)(yt)(Go()),ti=Object(j.d)(Ct)(Jo()),ei=function(n){var t=n.replyEditHandler,e=n.collapseReply,o=n.isReply,i=n.content,a=Object(c.useState)(o?"":i),s=Object(u.a)(a,2),d=s[0],b=s[1];return Object(r.jsxs)(Qo,{children:[Object(r.jsx)(Zo,{value:d,onChange:function(n){return b(n.target.value)},placeholder:"What are your thoughts?"}),Object(r.jsxs)($o,{children:[Object(r.jsx)(ni,{onClick:function(){return t(d)},children:o?"REPLY":"SAVE EDITS"}),Object(r.jsx)(ti,{onClick:e,children:"CANCEL"})]})]})};function ri(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n      :hover {\n        background: ",";\n      }\n    "]);return ri=function(){return n},n}function ci(){var n=Object(f.a)(["\n  font-weight: 700;\n  background: none;\n  border: none;\n  padding: 4px;\n  border-radius: 2px;\n  cursor: pointer;\n  span {\n    margin-left: 4px;\n  }\n  ","\n"]);return ci=function(){return n},n}function oi(){var n=Object(f.a)(["\n  display: inline-block;\n  vertical-align: middle;\n  height: 14px;\n"]);return oi=function(){return n},n}function ii(){var n=Object(f.a)([""]);return ii=function(){return n},n}var ai=j.d.div(ii()),ui=j.d.div(oi()),si=j.d.button(ci(),(function(n){var t=n.theme;return Object(j.c)(ri(),t.gray2,t.fontSmall,t.gray3)})),di=function(n){var t=n.commentId,e=n.isMyComment,o=n.content,i=Object(s.b)(),d=Object(b.i)().id,f=Object(c.useState)(!0),j=Object(u.a)(f,2),l=j[0],p=j[1],O=Object(c.useState)(!1),v=Object(u.a)(O,2),g=v[0],m=v[1],w=function(){i(function(n){return function(){var t=Object(x.a)(h.a.mark((function t(e){var r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=JSON.parse(localStorage.getItem("user")),c=r.token,ao.deleteOne(n,c),e({type:"DELETE_COMMENT",id:n});case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()}(t)).then((function(n){i({type:"CLEAR_MODAL"})}))};return Object(r.jsxs)(ai,{children:[Object(r.jsxs)(si,{onClick:function(){m(!g),p(!0)},children:[Object(r.jsx)(ui,{children:Object(r.jsx)(S,{})}),Object(r.jsx)("span",{children:"Reply"})]}),e&&Object(r.jsx)(_,{items:[{text:"Edit",onClick:function(){p(!1),m(!0)}},{text:"Delete",onClick:function(){return i({type:"SET_MODAL",title:"Delete comment",msg:"Are you sure you wanna delete your comment?",acceptBtn:"DELETE",cancelBtn:"KEEP",acceptHandler:w})}}]}),g&&Object(r.jsx)(ei,{replyEditHandler:function(n){l?i(uo(d,n,t)).then((function(n){m(!1)})):i(function(n,t){return function(){var e=Object(x.a)(h.a.mark((function e(r){var c,o,i,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.parse(localStorage.getItem("user")),o=c.username,i=c.token,e.next=3,ao.editOne(n,{comment:t,updatedAt:(new Date).toISOString()},i);case 3:u=e.sent,r({type:"EDIT_COMMENT",comment:Object(a.a)(Object(a.a)({},u),{},{username:o})});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(t,n)).then((function(n){m(!1)}))},collapseReply:function(){return m(!1)},isReply:l,content:o})]})};function bi(){var n=Object(f.a)(["\n  padding: 8px 0 4px;\n  :first-child {\n    padding-top: 2px;\n  }\n  :last-child {\n    padding-bottom: 2px;\n  }\n"]);return bi=function(){return n},n}function fi(){var n=Object(f.a)(["\n  font-size: ",";\n"]);return fi=function(){return n},n}function ji(){var n=Object(f.a)(["\n  width: 100%;\n"]);return ji=function(){return n},n}function li(){var n=Object(f.a)(["\n  font-style: italic;\n"]);return li=function(){return n},n}function pi(){var n=Object(f.a)(["\n  color: ",";\n"]);return pi=function(){return n},n}function hi(){var n=Object(f.a)(["\n  padding-left: 2px;\n  color: ",";\n"]);return hi=function(){return n},n}function xi(){var n=Object(f.a)(["\n  :hover {\n    text-decoration: underline;\n  }\n"]);return xi=function(){return n},n}function Oi(){var n=Object(f.a)(["\n      font-size: ",";\n    "]);return Oi=function(){return n},n}function vi(){var n=Object(f.a)(["\n  ","\n"]);return vi=function(){return n},n}function gi(){var n=Object(f.a)(["\n      color: ",";\n    "]);return gi=function(){return n},n}function mi(){var n=Object(f.a)(["\n  line-height: 21px;\n  margin-top: 16px;\n  display: flex;\n  width: 100%;\n  ","\n"]);return mi=function(){return n},n}var wi=j.d.div(mi(),(function(n){var t=n.theme;return Object(j.c)(gi(),t.gray0)})),yi=j.d.div(vi(),(function(n){var t=n.theme;return Object(j.c)(Oi(),t.fontSmall)})),ki=j.d.span(xi()),Si=j.d.span(hi(),(function(n){return n.theme.gray2})),Ci=j.d.span(pi(),(function(n){return n.theme.gray2})),zi=Object(j.d)(Ci)(li()),Mi=j.d.div(ji()),Ei=j.d.div(fi(),(function(n){return n.theme.fontMed})),Bi=j.d.p(bi()),Ai=function(n){var t=n.comment,e=n.currDate,c=n.voteHandler,o=Object(s.c)((function(n){return n.user}));return Object(r.jsxs)(wi,{children:[Object(r.jsx)(Vo,{isUpvote:t.isUpvote,voteHandler:c}),Object(r.jsxs)(Mi,{children:[Object(r.jsxs)(yi,{children:[Object(r.jsx)(d.b,{to:"/user/".concat(t.username),children:Object(r.jsx)(ki,{children:t.username})}),Object(r.jsxs)(Si,{children:[" ",t.points||0," points"]}),Object(r.jsxs)(Ci,{children:[" ","\xb7 ",Object(K.a)(new Date(t.createdAt),e)," ago"]}),t.editedAt&&Object(r.jsxs)(zi,{children:[" ","\xb7 edited ",Object(K.a)(new Date(t.editedAt),e)," ","ago"]})]}),Object(r.jsx)(Ei,{children:t.content.split("\n").map((function(n,t){return Object(r.jsx)(Bi,{children:n},t)}))}),Object(r.jsx)(di,{content:t.content,isMyComment:t.creator===(null===o||void 0===o?void 0:o.id),commentId:t.id})]})]})};function Ti(){var n=Object(f.a)(["\n  margin-left: 30px;\n  border-left: 2px solid ",";\n  max-width: 100%;\n"]);return Ti=function(){return n},n}var Ui=j.d.div(Ti(),(function(n){return n.theme.gray3})),Li=function n(t){var e=t.comments,c=t.comment,o=t.voteHandler,i=t.currDate,a=e.filter((function(n){return n.parentComment===c.id}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ai,{comment:c,comments:e,voteHandler:o(c),currDate:i}),a.length>0&&Object(r.jsx)(Ui,{children:a.map((function(t){return Object(r.jsx)(n,{comment:t,comments:e,voteHandler:o,currDate:i},t.id)}))})]})};function Ni(){var n=Object(f.a)(["\n  margin: 16px 16px 0 10px;\n  padding: 0 16px 16px 0;\n"]);return Ni=function(){return n},n}var Di=j.d.div(Ni()),Ii=function(n){var t=n.currDate,e=n.showUserForm,c=Object(s.b)(),o=Object(s.c)((function(n){return n.comments})),i=function(n){return function(t){c(function(n,t,e){return function(){var r=Object(x.a)(h.a.mark((function r(c){var o,i,a;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=localStorage.getItem("user")){r.next=3;break}return r.abrupt("return","No user");case 3:i=JSON.parse(o),a=i.token,ao.voteOn(n,t,a),c({type:"VOTE_COMMENT",id:n,isUpvote:t,oldVote:e});case 6:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()}(n.id,t,n.isUpvote)).then((function(n){"No user"===n&&e("login")}))}};return Object(r.jsx)(Di,{children:o.filter((function(n){return!n.parentComment})).map((function(n){return Object(r.jsx)(Li,{comment:n,comments:o,voteHandler:i,currDate:t},n.id)}))})};function Ri(){var n=Object(f.a)(["\n      font-size: ",";\n      color: ",";\n    "]);return Ri=function(){return n},n}function Fi(){var n=Object(f.a)(["\n  color: blue;\n  padding: 8px;\n  background: none;\n  border: none;\n  text-align: left;\n  cursor: pointer;\n  font-weight: 600;\n  ","\n"]);return Fi=function(){return n},n}function Hi(){var n=Object(f.a)(["\n  position: absolute;\n  left: 50px;\n  top: 24px;\n  width: 100px;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n  background: ",";\n"]);return Hi=function(){return n},n}function _i(){var n=Object(f.a)(["\n  display: inline-block;\n  height: 20px;\n  vertical-align: middle;\n  padding: 0 8px;\n"]);return _i=function(){return n},n}function Pi(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return Pi=function(){return n},n}function Vi(){var n=Object(f.a)(["\n  background: none;\n  height: 30px;\n  border: none;\n  font-weight: 700;\n  cursor: pointer;\n  margin-left: 8px;\n  ","\n"]);return Vi=function(){return n},n}function Ji(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n      border-bottom: 1px solid ",";\n    "]);return Ji=function(){return n},n}function Gi(){var n=Object(f.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  font-weight: 700;\n  margin: 16px 40px 0px 48px;\n  ",";\n"]);return Gi=function(){return n},n}var Xi=j.d.div(Gi(),(function(n){var t=n.theme;return Object(j.c)(Ji(),t.gray2,t.fontSmallX,t.postBorder)})),qi=j.d.button(Vi(),(function(n){var t=n.theme;return Object(j.c)(Pi(),t.sec1,t.fontSmall)})),Wi=j.d.div(_i()),Yi=j.d.div(Hi(),(function(n){return n.theme.gray4})),Ki=j.d.button(Fi(),(function(n){return Object(j.c)(Ri(),n.theme.fontMed,n.isChosen?n.theme.gray0:n.theme.gray2)})),Qi=["Top","Bottom","New","Old"],Zi=function(){var n=Object(s.b)(),t=Object(b.g)(),e=l().get("sort"),o=Object(c.useState)(e||"top"),i=Object(u.a)(o,2),a=i[0],d=i[1],f=C(!1),j=Object(u.a)(f,3),p=j[0],h=j[1],x=j[2];return Object(c.useEffect)((function(){n(function(n){return{type:"SORT_COMMENTS",sortBy:n}}(a))}),[a,e,n]),Object(r.jsxs)(Xi,{ref:x,children:[Object(r.jsx)("div",{children:"SORT BY"}),Object(r.jsxs)(qi,{onClick:function(){return h(!p)},children:[a.toUpperCase(),Object(r.jsx)(Wi,{children:Object(r.jsx)(Xn,{})})]}),p&&Object(r.jsx)(Yi,{children:Qi.map((function(n,e){return Object(r.jsx)(Ki,{onClick:function(){return e=n,t.push("?sort=".concat(e.toLowerCase())),d(e.toLowerCase()),void h(!1);var e},isChosen:a.toLowerCase()===n.toLowerCase(),children:n},e)}))})]})},$i=function(n){var t=n.showUserForm,e=new Date;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Eo,{showUserForm:t}),Object(r.jsx)(Zi,{}),Object(r.jsx)(Ii,{showUserForm:t,currDate:e})]})};function na(){var n=Object(f.a)(["\n  padding: 4px 16px;\n  border: none;\n"]);return na=function(){return n},n}function ta(){var n=Object(f.a)(["\n  padding: 4px 16px;\n  width: 90px;\n"]);return ta=function(){return n},n}function ea(){var n=Object(f.a)(["\n  width: 100%;\n  margin-top: 8px;\n  display: flex;\n  justify-content: flex-end;\n"]);return ea=function(){return n},n}function ra(){var n=Object(f.a)(["\n      ","\n      font-size: ",";\n      color: ",";\n    "]);return ra=function(){return n},n}function ca(){var n=Object(f.a)(["\n  width: 100%;\n  min-height: 100px;\n  padding: 8px 16px;\n  border-radius: 4px;\n  resize: vertical;\n  ","\n"]);return ca=function(){return n},n}function oa(){var n=Object(f.a)(["\n  padding-top: 8px;\n"]);return oa=function(){return n},n}var ia=j.d.div(oa()),aa=j.d.textarea(ca(),(function(n){var t=n.theme;return Object(j.c)(ra(),t.box(),t.fontMed,t.gray0)})),ua=j.d.div(ea()),sa=Object(j.d)(yt)(ta()),da=Object(j.d)(Ct)(na()),ba=function(n){var t=n.content,e=n.editHandler,o=n.cancel,i=Object(c.useState)(t),a=Object(u.a)(i,2),s=a[0],d=a[1];return Object(r.jsxs)(ia,{children:[Object(r.jsx)(aa,{value:s,onChange:function(n){return d(n.target.value)}}),Object(r.jsxs)(ua,{children:[Object(r.jsx)(da,{onClick:o,children:"CANCEL"}),Object(r.jsx)(sa,{onClick:function(){return e(s)},children:"SAVE"})]})]})};function fa(){var n=Object(f.a)(["\n  font-style: italic;\n"]);return fa=function(){return n},n}function ja(){var n=Object(f.a)(["\n  vertical-align: middle;\n  display: inline-block;\n  height: 16px;\n  padding-right: 4px;\n"]);return ja=function(){return n},n}function la(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return la=function(){return n},n}function pa(){var n=Object(f.a)(["\n  font-weight: 700;\n  margin-top: 8px;\n  ","\n"]);return pa=function(){return n},n}function ha(){var n=Object(f.a)(["\n  font-size: ",";\n  padding: 12px 8px 12px 0;\n"]);return ha=function(){return n},n}function xa(){var n=Object(f.a)(["\n  font-weight: 600;\n  font-size: ",";\n"]);return xa=function(){return n},n}function Oa(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return Oa=function(){return n},n}function va(){var n=Object(f.a)(["\n  margin-bottom: 6px;\n  ","\n"]);return va=function(){return n},n}function ga(){var n=Object(f.a)(["\n  margin: 0 0 0 40px;\n  padding: 10px 8px;\n"]);return ga=function(){return n},n}function ma(){var n=Object(f.a)(["\n  position: relative;\n"]);return ma=function(){return n},n}function wa(){var n=Object(f.a)(["\n      color: ",";\n    "]);return wa=function(){return n},n}function ya(){var n=Object(f.a)(["\n  margin: 0 auto;\n  width: 100%;\n  ","\n"]);return ya=function(){return n},n}var ka=j.d.div(ya(),(function(n){var t=n.theme;return Object(j.c)(wa(),t.gray0)})),Sa=j.d.div(ma()),Ca=j.d.div(ga()),za=j.d.div(va(),(function(n){var t=n.theme;return Object(j.c)(Oa(),t.gray2,t.fontSmall)})),Ma=j.d.h1(xa(),(function(n){return n.theme.fontLargeXX})),Ea=j.d.p(ha(),(function(n){return n.theme.fontMed})),Ba=j.d.div(pa(),(function(n){var t=n.theme;return Object(j.c)(la(),t.gray2,t.fontSmall)})),Aa=j.d.div(ja()),Ta=j.d.span(fa()),Ua=function(n){var t=n.post,e=n.setPost,o=n.commentsLength,i=n.voteHandler,a=Object(s.b)(),f=Object(b.g)(),j=new Date,l=Object(s.c)((function(n){return n.user})),p=Object(c.useState)(!1),O=Object(u.a)(p,2),v=O[0],g=O[1];return Object(r.jsx)(ka,{children:Object(r.jsxs)(Sa,{children:[Object(r.jsx)(yn,{points:t.points,userVote:t.isUpvote,voteHandler:i(t)}),Object(r.jsxs)(Ca,{children:[Object(r.jsxs)(za,{children:["Posted by ",Object(r.jsxs)(d.b,{to:"u/".concat(t.username),children:["u/",t.username]})," ",Object(K.a)(new Date(t.createdAt),j)," ago"," ",t.editedAt&&Object(r.jsxs)(Ta,{children:["\xb7 edited ",Object(K.a)(new Date(t.editedAt),j)," ago"]})]}),Object(r.jsx)(Ma,{children:t.title}),v?Object(r.jsx)(ba,{content:t.content,editHandler:function(n){a(function(n,t){return Object(x.a)(h.a.mark((function e(){var r,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(localStorage.getItem("user")),c=r.token,e.next=3,w.editOne(n,t,c);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))}(t.id,n)).then((function(n){e(n),g(!1)}))},cancel:function(){return g(!1)}}):t.content.split("\n").map((function(n,t){return Object(r.jsx)(Ea,{children:n},t)})),Object(r.jsxs)(Ba,{children:[Object(r.jsx)(Aa,{children:Object(r.jsx)(S,{})}),Object(r.jsxs)("span",{children:[o," Comments"]}),(null===l||void 0===l?void 0:l.id)===t.creator&&Object(r.jsx)(_,{items:[{text:"Delete",onClick:function(){a(y(t.id)).then((function(n){f.push("/")}))}},{text:"Edit",onClick:function(){return g(!v)}}]})]})]})]})})};function La(){var n=Object(f.a)(["\n  margin: 0 auto;\n  max-width: 740px;\n  border-radius: 4px;\n  border-radius: 4px;\n  background: ",";\n"]);return La=function(){return n},n}function Na(){var n=Object(f.a)(["\n  font-weight: 700;\n  font-size: 22px;\n  color: ",";\n"]);return Na=function(){return n},n}function Da(){var n=Object(f.a)(["\n  max-width: 1000px;\n  margin: 0 auto;\n  height: 100%;\n  display: flex;\n  align-items: center;\n"]);return Da=function(){return n},n}function Ia(){var n=Object(f.a)(["\n  height: 80px;\n  top: 0;\n  background: ",";\n"]);return Ia=function(){return n},n}function Ra(){var n=Object(f.a)(["\n  max-width: 1280px;\n  padding: 20px 24px;\n"]);return Ra=function(){return n},n}var Fa=j.d.div(Ra()),Ha=j.d.div(Ia(),(function(n){var t=n.theme;return"".concat(t.sec2)})),_a=j.d.div(Da()),Pa=j.d.span(Na(),(function(n){return n.theme.white1})),Va=j.d.div(La(),(function(n){return n.theme.gray4})),Ja=function(n,t){return n&&n===t?-t:n&&n!==t?2*t:t},Ga=function(n){var t=n.showUserForm,e=Object(s.b)(),o=Object(b.i)().id,i=Object(c.useState)(),f=Object(u.a)(i,2),j=f[0],l=f[1],p=Object(c.useState)(!0),O=Object(u.a)(p,2),v=O[0],g=O[1],m=Object(s.c)((function(n){return n.comments}));Object(c.useEffect)((function(){w.getById(o).then((function(n){l(n)})),e(function(n){return function(){var t=Object(x.a)(h.a.mark((function t(e){var r,c,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=localStorage.getItem("user"))&&(c=JSON.parse(r).token),t.next=4,ao.getByPost(n,c);case 4:o=t.sent,e({type:"GET_COMMENTS",comments:o});case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()}(o))}),[o,e]),Object(c.useEffect)((function(){j&&m&&g(!1)}),[j,m]);return v?"ok":Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ha,{children:Object(r.jsx)(d.b,{to:"/r/".concat(j.subribbit),children:Object(r.jsx)(_a,{children:Object(r.jsxs)(Pa,{children:["r/",j.subribbit]})})})}),Object(r.jsx)(Fa,{children:Object(r.jsxs)(Va,{children:[Object(r.jsx)(Ua,{post:j,setPost:l,commentsLength:m.length,voteHandler:function(n){return function(r){e(k(n.id,r,n.isUpvote)).then((function(e){if("No user"===e)return t("login");l(Object(a.a)(Object(a.a)({},n),{},{points:+n.points+Ja(n.points,r),isUpvote:r}))}))}}}),Object(r.jsx)($i,{showUserForm:t,comments:m})]})})]})};function Xa(){var n=Object(f.a)(["\n  font-size: ",";\n  color: red;\n"]);return Xa=function(){return n},n}function qa(){var n=Object(f.a)(["\n  padding: 3px 16px;\n  display: block;\n  margin-top: 16px;\n  margin-left: auto;\n"]);return qa=function(){return n},n}function Wa(){var n=Object(f.a)(["\n  width: 100%;\n  background: none;\n  min-height: 60px;\n  color: inherit;\n  padding: 8px;\n  border-radius: 4px;\n  border: 1px solid ",";\n  resize: vertical;\n"]);return Wa=function(){return n},n}function Ya(){var n=Object(f.a)(["\n  width: 100%;\n  background: none;\n  border-radius: 4px;\n  padding: 8px;\n  color: inherit;\n  border: 1px solid\n    ",";\n"]);return Ya=function(){return n},n}function Ka(){var n=Object(f.a)(["\n  margin-bottom: 24px;\n  display: block;\n"]);return Ka=function(){return n},n}function Qa(){var n=Object(f.a)(["\n  padding: 16px;\n  width: 428px;\n"]);return Qa=function(){return n},n}function Za(){var n=Object(f.a)(["\n      font-size: ",";\n      color: ",";\n    "]);return Za=function(){return n},n}function $a(){var n=Object(f.a)(["\n  margin-bottom: 12px;\n  ","\n"]);return $a=function(){return n},n}function nu(){var n=Object(f.a)(["\n  font-weight: 600;\n  margin-bottom: 4px;\n  font-size: ",";\n"]);return nu=function(){return n},n}function tu(){var n=Object(f.a)(["\n      font-size: ",";\n      border-bottom: 1px solid ",";\n    "]);return tu=function(){return n},n}function eu(){var n=Object(f.a)(["\n  font-weight: 600;\n  padding-bottom: 16px;\n  margin-bottom: 16px;\n\n  ",";\n"]);return eu=function(){return n},n}function ru(){var n=Object(f.a)(["\n  width: 140px;\n  min-height: 100%;\n  background: ",";\n"]);return ru=function(){return n},n}function cu(){var n=Object(f.a)(["\n      color: ",";\n      background: ",";\n    "]);return cu=function(){return n},n}function ou(){var n=Object(f.a)(["\n  width: 100%;\n  min-height: calc(100vh - 49px);\n  display: flex;\n  ","\n"]);return ou=function(){return n},n}var iu=j.d.div(ou(),(function(n){var t=n.theme;return Object(j.c)(cu(),t.gray0,t.gray4)})),au=j.d.div(ru(),(function(n){var t=n.theme;return"linear-gradient(135deg, ".concat(t.sec1,", ").concat(t.sec2,")")})),uu=j.d.h1(eu(),(function(n){var t=n.theme;return Object(j.c)(tu(),t.fontLarge,t.postBorder)})),su=j.d.h2(nu(),(function(n){return n.theme.fontLarge})),du=j.d.p($a(),(function(n){var t=n.theme;return Object(j.c)(Za(),t.fontSmall,t.gray2)})),bu=j.d.form(Qa()),fu=j.d.label(Ka()),ju=j.d.input(Ya(),(function(n){return n.nameError?"red":n.theme.postBorder})),lu=j.d.textarea(Wa(),(function(n){return n.theme.postBorder})),pu=Object(j.d)(yt)(qa()),hu=j.d.span(Xa(),(function(n){return n.theme.fontSmall})),xu=function(){var n=Object(s.c)((function(n){return n.user})),t=Object(b.g)(),e=Object(c.useState)(""),o=Object(u.a)(e,2),i=o[0],a=o[1],d=Object(c.useState)(""),f=Object(u.a)(d,2),j=f[0],l=f[1],p=Object(c.useState)(""),h=Object(u.a)(p,2),x=h[0],O=h[1];return n?Object(r.jsxs)(iu,{children:[Object(r.jsx)(au,{}),Object(r.jsxs)(bu,{onSubmit:function(n){n.preventDefault(),/[^a-z0-9_]+/i.test(i)||gt.createOne({name:i,description:x}).then((function(n){if(n.error)return l(n.error);t.push("/r/".concat(n.name))}))},children:[Object(r.jsx)(uu,{children:"Create a community"}),Object(r.jsxs)(fu,{children:[Object(r.jsx)(su,{children:"Name"}),Object(r.jsx)(du,{children:Object(r.jsx)("span",{children:"Community names including capitalization cannot be changed."})}),Object(r.jsx)(ju,{type:"text",value:i,onChange:function(n){if(a(n.target.value),/[^a-z0-9_]+/i.test(n.target.value))return l('Name can only contain letters, numbers and undescores "_".');l("")},nameError:j,required:!0}),Object(r.jsx)(hu,{children:j})]}),Object(r.jsxs)(fu,{children:[Object(r.jsx)(su,{children:"Description"}),Object(r.jsx)(du,{children:Object(r.jsx)("span",{children:"This is how new members come to understand your community."})}),Object(r.jsx)(lu,{value:x,onChange:function(n){return O(n.target.value)},required:!0})]}),Object(r.jsx)(pu,{type:"submit",children:"CREATE COMMUNITY"})]})]}):Object(r.jsx)(b.a,{to:"/"})},Ou=e(82),vu=function(){return Object(r.jsxs)("svg",{style:{height:"100%"},viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:[Object(r.jsx)("path",{d:"M37.5 22.5V20h-35v15c0 1.4 1.1 2.5 2.5 2.5h30c1.4 0 2.5-1.1 2.5-2.5H6.2c-.6 0-1.2-.5-1.2-1.2s.6-1.2 1.2-1.2h31.3V30H6.2c-.6 0-1.2-.5-1.2-1.2s.6-1.2 1.2-1.2h31.3V25H6.2c-.6 0-1.2-.5-1.2-1.2s.6-1.2 1.2-1.2h31.3zM22.5 6c0 1.4-1.1 2.5-2.5 2.5S17.5 7.4 17.5 6 20 0 20 0s2.5 4.6 2.5 6zM20 15c-.7 0-1.3-.6-1.3-1.2v-2.5c0-.7.6-1.2 1.2-1.2.7 0 1.2.6 1.2 1.2v2.5c.1.7-.4 1.2-1.1 1.2z"}),Object(r.jsx)("path",{d:"M22.8 11.3v2.3a3 3 0 01-2.5 2.9c-1.6.2-3-1.1-3-2.7v-5-.1l-.8-.4c-.9-.4-2-.3-2.7.4L2.5 18.5h35l-14.7-7.2z"})]})};function gu(){var n=Object(f.a)(["\n  width: 100%;\n  padding: 0 16px;\n  font-size: ",";\n  height: 34px;\n  margin-top: 12px;\n"]);return gu=function(){return n},n}function mu(){var n=Object(f.a)(["\n  display: inline-block;\n  height: 16px;\n  margin-right: 8px;\n"]);return mu=function(){return n},n}function wu(){var n=Object(f.a)(["\n  font-weight: 600;\n  font-size: ",";\n  margin-bottom: 12px;\n"]);return wu=function(){return n},n}function yu(){var n=Object(f.a)(["\n  margin-top: 12px;\n  font-size: ",";\n"]);return yu=function(){return n},n}function ku(){var n=Object(f.a)(["\n  ","\n  border-radius: 4px;\n  padding: 12px;\n"]);return ku=function(){return n},n}function Su(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return Su=function(){return n},n}function Cu(){var n=Object(f.a)(["\n  margin-bottom: 24px;\n  ","\n"]);return Cu=function(){return n},n}function zu(){var n=Object(f.a)(["\n      color: ",";\n      font-size: ",";\n    "]);return zu=function(){return n},n}function Mu(){var n=Object(f.a)(["\n  width: 312px;\n  flex-shrink: 0;\n  ",";\n"]);return Mu=function(){return n},n}var Eu=j.d.aside(Mu(),(function(n){var t=n.theme;return Object(j.c)(zu(),t.gray0,t.fontMed)})),Bu=j.d.h2(Cu(),(function(n){var t=n.theme;return Object(j.c)(Su(),t.gray2,t.fontMed)})),Au=j.d.div(ku(),(function(n){return n.theme.box()})),Tu=j.d.h2(yu(),(function(n){return n.theme.fontLarge})),Uu=j.d.p(wu(),(function(n){return n.theme.fontSmall})),Lu=j.d.span(mu()),Nu=Object(j.d)(yt)(gu(),(function(n){return n.theme.fontMed})),Du=function(n){var t=n.info,e=Object(b.g)();return Object(r.jsx)(Eu,{children:Object(r.jsxs)(Au,{children:[Object(r.jsx)(Bu,{children:"About Community"}),Object(r.jsx)("p",{children:t.description}),Object(r.jsxs)("div",{children:[Object(r.jsx)(Tu,{children:t.memberCount}),Object(r.jsx)(Uu,{children:Object(r.jsx)("span",{children:"Members"})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:[Object(r.jsx)(Lu,{children:Object(r.jsx)(vu,{})}),"Created ",Object(Ou.a)(new Date(t.createdAt),"MMM dd, yyyy")]})}),Object(r.jsx)(Nu,{onClick:function(){return e.push("/r/".concat(t.name,"/submit"))},children:"CREATE POST"})]})]})})};function Iu(){var n=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 20px 24px;\n  column-gap: 26px;\n"]);return Iu=function(){return n},n}function Ru(){var n=Object(f.a)(["\n  padding: 4px 9px 2px;\n  width: 96px;\n  margin: 10px;\n"]);return Ru=function(){return n},n}function Fu(){var n=Object(f.a)(["\n  padding: 4px 9px 2px;\n  width: 96px;\n  margin: 10px;\n"]);return Fu=function(){return n},n}function Hu(){var n=Object(f.a)(["\n  font-weight: 700;\n  font-size: 28px;\n  margin: 10px;\n"]);return Hu=function(){return n},n}function _u(){var n=Object(f.a)(["\n  max-width: 984px;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n"]);return _u=function(){return n},n}function Pu(){var n=Object(f.a)(["\n  height: 80px;\n  background: ",";\n"]);return Pu=function(){return n},n}function Vu(){var n=Object(f.a)(["\n  color: ",";\n  background: ",";\n"]);return Vu=function(){return n},n}function Ju(){var n=Object(f.a)([""]);return Ju=function(){return n},n}var Gu=j.d.div(Ju()),Xu=j.d.div(Vu(),(function(n){return n.theme.gray0}),(function(n){return n.theme.gray4})),qu=j.d.div(Pu(),(function(n){return n.theme.sec2})),Wu=j.d.div(_u()),Yu=j.d.h1(Hu()),Ku=Object(j.d)(yt)(Fu()),Qu=Object(j.d)(Ct)(Ru()),Zu=j.d.div(Iu()),$u=function(n){var t=n.showUserForm,e=Object(s.b)(),o=Object(s.c)((function(n){return n.user})),i=Object(b.i)().subribbit,a=Object(c.useState)(),d=Object(u.a)(a,2),f=d[0],j=d[1],l=Object(c.useState)(!0),p=Object(u.a)(l,2),h=p[0],x=p[1];Object(c.useEffect)((function(){gt.getOne(i).then((function(n){j(n),x(!1)}))}),[i]);return h?"ok":Object(r.jsxs)(Gu,{children:[Object(r.jsxs)(Xu,{children:[Object(r.jsx)(qu,{}),Object(r.jsxs)(Wu,{children:[Object(r.jsx)(Yu,{children:f.name}),(null===o||void 0===o?void 0:o.joinedSubribbits.includes(f.name))?Object(r.jsx)(Qu,{onClick:function(){gt.exitOne(f.name).then((function(n){e(Mt(n))}))},children:"JOINED"}):Object(r.jsx)(Ku,{onClick:function(){gt.joinOne(f.name).then((function(n){e(Mt(n))}))},children:"JOIN"})]})]}),Object(r.jsxs)(Zu,{children:[Object(r.jsx)(vt,{showUserForm:t}),Object(r.jsx)(Du,{info:f})]})]})};function ns(){var n=Object(f.a)(["\n  color: red;\n  margin-top: 12px;\n  font-size: ",";\n"]);return ns=function(){return n},n}function ts(){var n=Object(f.a)(["\n  background: none;\n  border: none;\n  font-weight: 700;\n  cursor: pointer;\n  font-size: inherit;\n  color: ",";\n"]);return ts=function(){return n},n}function es(){var n=Object(f.a)(["\n      font-size: ",";\n      color: ",";\n    "]);return es=function(){return n},n}function rs(){var n=Object(f.a)(["\n  ","\n"]);return rs=function(){return n},n}function cs(){var n=Object(f.a)(["\n      background: ",";\n      color: ",";\n      font-size: ",";\n    "]);return cs=function(){return n},n}function os(){var n=Object(f.a)(["\n  width: 100%;\n  border: none;\n  font-weight: 700;\n  padding: 8px 10px;\n  border-radius: 2px;\n  margin: 12px 0;\n  cursor: pointer;\n  ","\n"]);return os=function(){return n},n}function is(){var n=Object(f.a)(["\n      font-size: ",";\n      border: 1px solid ",";\n      background: ",";\n      color: ",";\n    "]);return is=function(){return n},n}function as(){var n=Object(f.a)(["\n  width: 100%;\n  padding: 22px 36px 10px 12px;\n  border: none;\n  border-radius: 2px;\n  margin-top: 12px;\n  ","\n"]);return as=function(){return n},n}function us(){var n=Object(f.a)(["\n      font-size: ",";\n      color: ",";\n    "]);return us=function(){return n},n}function ss(){var n=Object(f.a)(["\n  font-weight: 600;\n  ","\n"]);return ss=function(){return n},n}function ds(){var n=Object(f.a)(["\n  width: 280px;\n"]);return ds=function(){return n},n}var bs=j.d.form(ds()),fs=j.d.h2(ss(),(function(n){var t=n.theme;return Object(j.c)(us(),t.fontLargeX,t.gray0)})),js=j.d.input(as(),(function(n){var t=n.theme;return Object(j.c)(is(),t.fontMed,t.postBorder,t.gray3,t.gray0)})),ls=j.d.button(os(),(function(n){var t=n.theme;return Object(j.c)(cs(),t.sec2,t.gray4,t.fontMed)})),ps=j.d.p(rs(),(function(n){var t=n.theme;return Object(j.c)(es(),t.fontSmall,t.gray0)})),hs=j.d.button(ts(),(function(n){return n.theme.sec1})),xs=j.d.p(ns(),(function(n){return n.theme.fontSmall})),Os=function(n){var t=n.showUserForm,e=Object(s.b)(),o=Object(s.c)((function(n){return n.error})),i=Object(c.useState)(""),a=Object(u.a)(i,2),d=a[0],b=a[1],f=Object(c.useState)(""),j=Object(u.a)(f,2),l=j[0],p=j[1];return Object(r.jsxs)(bs,{onSubmit:function(n){var r;n.preventDefault(),e((r={username:d,password:l},function(){var n=Object(x.a)(h.a.mark((function n(t){var e;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"CLEAR_ERROR"}),n.next=3,zt.loginUser(r);case 3:if(!(e=n.sent).error){n.next=6;break}return n.abrupt("return",t({type:"SET_ERROR",error:e.error}));case 6:localStorage.setItem("user",JSON.stringify(e)),t({type:"LOGIN",user:e});case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())).then((function(n){(null===n||void 0===n?void 0:n.error)||t()}))},children:[Object(r.jsx)(fs,{children:"Login"}),Object(r.jsx)("label",{children:Object(r.jsx)(js,{value:d,onChange:function(n){return b(n.target.value)},type:"text",placeholder:"username",required:!0})}),Object(r.jsx)("label",{children:Object(r.jsx)(js,{value:l,onChange:function(n){return p(n.target.value)},type:"password",placeholder:"password",required:!0})}),o&&Object(r.jsx)(xs,{children:o}),Object(r.jsx)(ls,{type:"submit",children:"LOG IN"}),Object(r.jsxs)(ps,{children:["New to Ribbit?"," ",Object(r.jsx)(hs,{type:"button",onClick:function(){return t("signup")},children:"SIGN UP"})]})]})},vs=function(n){var t=n.showUserForm,e=Object(s.b)(),o=Object(s.c)((function(n){return n.error})),i=Object(c.useState)(""),a=Object(u.a)(i,2),d=a[0],b=a[1],f=Object(c.useState)(""),j=Object(u.a)(f,2),l=j[0],p=j[1],O=Object(c.useState)(""),v=Object(u.a)(O,2),g=v[0],m=v[1],w=Object(c.useState)(""),y=Object(u.a)(w,2),k=y[0],S=y[1];return Object(r.jsxs)(bs,{onSubmit:function(n){if(n.preventDefault(),g!==k)return e({type:"SET_ERROR",error:"Password mismatch"});var r;e((r={username:d,email:l,password:g,passwordRepeat:k},function(){var n=Object(x.a)(h.a.mark((function n(t){var e;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"CLEAR_ERROR"}),n.next=3,zt.signupUser(r);case 3:if(!(e=n.sent).error){n.next=6;break}return n.abrupt("return",t({type:"SET_ERROR",error:e.error}));case 6:localStorage.setItem("user",JSON.stringify(e)),t({type:"SIGNUP",user:e});case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())).then((function(n){(null===n||void 0===n?void 0:n.error)||t()}))},children:[Object(r.jsx)(fs,{children:"Sign up"}),Object(r.jsx)("label",{children:Object(r.jsx)(js,{value:d,onChange:function(n){return b(n.target.value)},type:"text",placeholder:"username",required:!0})}),Object(r.jsx)("label",{children:Object(r.jsx)(js,{value:l,onChange:function(n){return p(n.target.value)},type:"email",placeholder:"email",required:!0})}),Object(r.jsx)("label",{children:Object(r.jsx)(js,{value:g,onChange:function(n){return m(n.target.value)},type:"password",placeholder:"password",required:!0})}),Object(r.jsx)("label",{children:Object(r.jsx)(js,{value:k,onChange:function(n){return S(n.target.value)},type:"password",placeholder:"repeat password",required:!0})}),o&&Object(r.jsx)(xs,{children:o}),Object(r.jsx)(ls,{children:"SIGN UP"}),Object(r.jsxs)(ps,{children:["Already have an account?"," ",Object(r.jsx)(hs,{type:"button",onClick:function(){return t("login")},children:"LOG IN"})]})]})};function gs(){var n=Object(f.a)(["\n  position: absolute;\n  height: 25px;\n  width: 25px;\n  background: none;\n  border: none;\n  cursor: pointer;\n  color: ",";\n  top: 20px;\n  right: 20px;\n"]);return gs=function(){return n},n}function ms(){var n=Object(f.a)(["\n  width: 130px;\n  height: 100%;\n  border-radius: 4px 0 0 4px;\n  background: ",";\n"]);return ms=function(){return n},n}function ws(){var n=Object(f.a)(["\n  margin: auto 0;\n  padding: 24px;\n"]);return ws=function(){return n},n}function ys(){var n=Object(f.a)(["\n  position: relative; // for top right X\n  width: 850px;\n  height: 650px;\n  border-radius: 4px;\n  display: flex;\n  margin: 2rem;\n  background: ",";\n"]);return ys=function(){return n},n}function ks(){var n=Object(f.a)(["\n  position: fixed;\n  z-index: 150;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: #000a;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return ks=function(){return n},n}var Ss=j.d.div(ks()),Cs=j.d.div(ys(),(function(n){return n.theme.gray4})),zs=j.d.div(ws()),Ms=j.d.div(ms(),(function(n){var t=n.theme;return"linear-gradient(135deg, ".concat(t.prim1,", ").concat(t.prim2,")")})),Es=j.d.button(gs(),(function(n){return n.theme.gray2})),Bs=function(n){var t=n.showUserForm,e=n.userFormType,c=n.userFormRef;return Object(r.jsx)(Ss,{children:Object(r.jsxs)(Cs,{ref:c,children:[Object(r.jsx)(Ms,{}),Object(r.jsx)(zs,{children:"login"===e?Object(r.jsx)(Os,{showUserForm:t}):Object(r.jsx)(vs,{showUserForm:t})}),Object(r.jsx)(Es,{onClick:function(){return t(!1)},children:Object(r.jsx)(Zt,{})})]})})},As=function(){var n=Object(s.b)(),t=C(),e=Object(u.a)(t,3),o=e[0],i=e[1],f=e[2],j=Object(c.useState)("login"),l=Object(u.a)(j,2),p=l[0],O=l[1],v=Object(s.c)((function(n){return n.modal})),g=function(n){if(!n)return i(!1);O(n),i(!0)};return Object(c.useEffect)((function(){n(function(){var n=Object(x.a)(h.a.mark((function n(t){var e,r,c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=localStorage.getItem("user"))){n.next=8;break}return r=JSON.parse(e),n.next=5,zt.initUser(r.token);case 5:c=n.sent,localStorage.setItem("user",JSON.stringify(c)),c&&t({type:"INIT_USER",user:c});case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())}),[n]),Object(r.jsxs)(d.a,{children:[v&&Object(r.jsx)(ge,Object(a.a)({},v)),Object(r.jsx)(Sc,{showUserForm:g}),Object(r.jsxs)(b.d,{children:[Object(r.jsx)(b.b,{path:"/",exact:!0,children:Object(r.jsx)(Qt,{showUserForm:g})}),Object(r.jsx)(b.b,{path:"/r/:subribbit",exact:!0,children:Object(r.jsx)($u,{showUserForm:g})}),Object(r.jsx)(b.b,{path:["/submit","/r/:subribbit/submit"],component:io,exact:!0}),Object(r.jsx)(b.b,{path:"/r/:subribbit/:id",exact:!0,children:Object(r.jsx)(Ga,{showUserForm:g})}),Object(r.jsx)(b.b,{path:"/subribbits/create",exact:!0,component:xu})]}),o&&Object(r.jsx)(Bs,{showUserForm:g,userFormRef:f,userFormType:p,login:!0})]})};function Ts(){var n=Object(f.a)(["\n  * {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n  html {\n    font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    scroll-behavior: smooth;\n    height: 100%;\n  }\n\n  body {\n    background: #030303;\n  }\n\n  li {\n    list-style: none;\n  }\n\n  a {\n    color: inherit;\n    text-decoration: none;\n  }\n\n  h1,h2,h3,h4,h5,h6, a, input, button, span {\n    font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  }\n\n  p, textarea {\n    font-family: 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  }\n"]);return Ts=function(){return n},n}var Us=Object(j.b)(Ts()),Ls={prim1:"#2DC7FF",prim2:"#00ABE7",prim3:"#0081AF",sec1:"#EAD2AC",sec2:"#EABA6B",postBorder:"#343536",white1:"#FCFCFB",gray0:"#D7DADC",gray1:"#B2ABA1",gray2:"#818384",gray3:"#272729",gray4:"#1A1A1B",gray5:"#030303",grayNew:"#161617",fontLargeXX:"20px",fontLargeX:"18px",fontLarge:"16px",fontMed:"14px",fontSmall:"12px",fontSmallX:"10px",box:function(){return"background: ".concat(this.gray4,"; border: 1px solid ").concat(this.postBorder,";")}},Ns=e(23),Ds=e(52),Is=e(53),Rs=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"SIGNUP":case"INIT_USER":case"SET_USER":return t.user;case"LOGOUT":return null;default:return n}},Fs=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.error;case"CLEAR_ERROR":return null;default:return n}},Hs=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_POSTS":return t.posts;case"GET_POST_BY_SUB":return t.post;case"DELETE_POST":return n.filter((function(n){return n.id!==t.id}));case"VOTE_POST":var e=t.oldVote,r=t.isUpvote,c=0;return e&&e===r?c=-r:e&&e!==r?c=2*r:e||(c=r),n.map((function(n){return n.id===t.id?Object(a.a)(Object(a.a)({},n),{},{points:+n.points+c,isUpvote:e===r?null:r}):n}));default:return n}},_s=e(26),Ps=function(n,t){switch(t){case"bottom":return Object(_s.a)(n.sort((function(n,t){return n.points-t.points})));case"new":return Object(_s.a)(n.sort((function(n,t){return new Date(t.createdAt)-new Date(n.createdAt)})));case"old":return Object(_s.a)(n.sort((function(n,t){return new Date(n.createdAt)-new Date(t.createdAt)})));default:return Object(_s.a)(n.sort((function(n,t){return t.points-n.points})))}},Vs=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COMMENTS":return t.comments;case"SORT_COMMENTS":return Ps(n,t.sortBy);case"ADD_COMMENT":return[Object(a.a)({},t.comment)].concat(Object(_s.a)(n));case"EDIT_COMMENT":return n.map((function(n){return n.id===t.comment.id?t.comment:n}));case"DELETE_COMMENT":return n.filter((function(n){return n.id!==t.id}));case"VOTE_COMMENT":var e=t.oldVote,r=t.isUpvote,c=0;return e&&e===r?c=-r:e&&e!==r?c=2*r:e||(c=r),n.map((function(n){return n.id===t.id?Object(a.a)(Object(a.a)({},n),{},{points:+n.points+c,isUpvote:e===r?null:r}):n}));default:return n}},Js=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODAL":return t;case"CLEAR_MODAL":return null;default:return n}},Gs=Object(Ns.createStore)(Object(Ns.combineReducers)({user:Rs,error:Fs,posts:Hs,comments:Vs,modal:Js}),Object(Ds.composeWithDevTools)(Object(Ns.applyMiddleware)(Is.a)));i.a.render(Object(r.jsx)(s.a,{store:Gs,children:Object(r.jsxs)(j.a,{theme:Ls,children:[Object(r.jsx)(Us,{}),Object(r.jsx)(As,{})]})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.e3ede16c.chunk.js.map