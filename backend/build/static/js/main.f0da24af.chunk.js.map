{"version":3,"sources":["hooks/useQuery.js","services/config.js","services/postService.js","store/actions/posts.js","icons/CommentIcon.js","hooks/useVisible.js","icons/EllipsisIcon.js","components/ElMenu/ElMenu.js","components/PostList/Post/BottomBar.js","components/PostList/Post/TopBar.js","icons/DownvoteIcon.js","icons/UpvoteIcon.js","components/PostList/Post/VoteBar.js","components/PostList/Post/Post.js","components/PostList/PostFormRedirect.js","icons/GraphUpIcon.js","icons/NewIcon.js","icons/ChevBotIcon.js","components/PostList/PostSorter/TopSortList.js","components/PostList/PostSorter/PostSorter.js","components/PostList/PostList.js","services/subribbitService.js","components/reusable/Button.js","components/reusable/Button2.js","services/userService.js","store/actions/user.js","components/MainContent/Side/Side.js","components/MainContent/MainContent.js","icons/XIcon.js","components/Modal/Modal.js","components/Navbar/Logo/LogoSvg.js","components/Navbar/Logo/Logo.js","icons/UfoIcon.js","icons/PopularIcon.js","icons/TopListIcon.js","icons/CogIcon.js","icons/MessageIcon.js","icons/CreateIcon.js","components/Navbar/NavMenu/NavMenuItems.js","components/Navbar/NavMenu/NavMenu.js","icons/SearchIcon.js","components/Navbar/Search/Search.js","components/Navbar/NavList/NavList.js","icons/KarmaIcon.js","icons/ProfileIcon.js","icons/LogoutIcon.js","components/Navbar/ProfileMenu/ProfileMenuList.js","components/Navbar/ProfileMenu/ProfileMenu.js","components/Navbar/SignLog.js/SignLog.js","components/Navbar/Navbar.js","components/PostForm/SubribbitFinder.js","components/PostForm/PostForm.js","services/commentService.js","store/actions/comments.js","components/PostPage/Comments/CommentInput.js","components/PostPage/Comments/CommentGroup/Voter.js","components/PostPage/Comments/CommentGroup/ReplyEdit.js","components/PostPage/Comments/CommentGroup/Bottom.js","components/PostPage/Comments/CommentGroup/Comment.js","components/PostPage/Comments/CommentGroup/CommentGroup.js","components/PostPage/Comments/CommentList.js","components/PostPage/Comments/Sorter.js","components/PostPage/Comments/Comments.js","components/PostPage/PostEdit.js","components/PostPage/PostContent.js","components/PostPage/PostPage.js","components/SubribbitForm/SubribbitForm.js","icons/CakeIcon.js","components/SubribbitPage/SubPageAside.js","components/SubribbitPage/SubribbitPage.js","components/UserForm/components.js","components/UserForm/Login.js","components/UserForm/Signup.js","components/UserForm/UserForm.js","App.js","theme/globalStyles.js","theme/theme.js","store/reducers/user.js","store/reducers/error.js","store/reducers/posts.js","store/reducers/comments.js","store/reducers/modal.js","store/store.js","index.js"],"names":["useQuery","URLSearchParams","useLocation","search","baseUrl","postService","getAll","params","token","a","axios","get","headers","Authorization","response","data","getById","id","userJson","localStorage","getItem","JSON","parse","createOne","post","editOne","content","patch","editedAt","Date","toISOString","deleteOne","delete","voteOn","isUpvote","deletePost","dispatch","type","voteOnPost","oldVote","CommentIcon","style","height","viewBox","xmlns","fill","d","useVisible","initialVisible","useState","isVisible","setIsVisible","ref","useRef","outsideClickHandler","e","current","contains","target","useEffect","document","addEventListener","removeEventListener","EllipsisIcon","cx","cy","r","Icon","styled","div","Button","button","theme","css","gray2","fontSmall","gray3","MenuContainer","Menu","box","MenuItem","ElMenu","items","expanded","setExpanded","menuRef","onClick","map","item","i","text","Bottom","Item","gray1","span","BottomBar","postId","usersPost","commentCount","useDispatch","deleteHandler","to","title","msg","acceptHandler","acceptBtn","cancelBtn","Top","Subreddit","gray0","Poster","EditedAt","TopBar","currDate","subribbit","username","formatDistance","createdAt","DownvoteIcon","strokeLinecap","strokeLinejoin","strokeWidth","stroke","UpvoteIcon","Div","grayNew","VoteCount","UpvoteBtn","props","userVote","prim1","DownvoteBtn","sec2","VoteBar","points","voteHandler","Content","Title","h3","TextContainer","P","p","fontMed","Post","userId","split","sub","creator","InputText","input","postBorder","PostFormRedirect","history","useHistory","useParams","push","value","readOnly","placeholder","GraphUpIcon","NewIcon","ChevBotIcon","TopSortBtn","SortList","gray4","ListItem","active","link","TopSortList","time","expandedRef","toUpperCase","slice","chosenItem","setChosenItem","SortLink","PostSorter","sortQuery","sortBy","setSortBy","tablet","Observer","PostList","showUserForm","sort","t","user","useSelector","state","posts","page","setPage","observeRef","then","res","timeStart","now","days","weeks","months","years","length","getAllPosts","observer","IntersectionObserver","entries","forEach","entry","intersectionRatio","unobserve","observe","subribbitService","getOne","name","getTop","limit","getSimilar","joinOne","exitOne","Button2","userService","initUser","console","log","loginUser","signupUser","setUser","newUser","setItem","stringify","Aside","aside","Box","TrendTitle","h2","Left","Members","JoinButton","JoinedButton","Side","topSubribbits","setTopSubribbits","topSub","memberCount","joinedSubribbits","includes","Main","main","mobileL","MainContent","XIcon","Container","ModalBox","header","fontLarge","Msg","CloseBtn","Buttons","footer","AcceptBtn","CancelBtn","Modal","modalRef","close","createPortal","stopPropagation","getElementById","DivCircle","Svg","svg","Path1","path","Path2","prim2","LogoSvg","Ribbit","laptop","Logo","UfoIcon","PopularIcon","TopListIcon","CogIcon","MessageIcon","CreateIcon","Items","H3","fontSmallX","LinkItem","ItemText","redditFeeds","icon","other","NavMenuItems","Text","ChevBot","getPathsDisplay","currPath","find","opt","startsWith","NavMenu","location","refVisible","display","pathname","SearchIcon","Input","Search","query","setQuery","onChange","tabletS","NavList","component","KarmaIcon","ProfileIcon","LogoutIcon","ListItemButton","ProfileMenuList","removeItem","LeftSide","Name","Karma","IconKarma","IconProfile","ProfileMenu","karma","LoginBtn","SignupBtn","SignLog","Nav","nav","Navbar","SubDropdown","SubInput","SubList","SubItem","SubError","SubribbitFinder","setSub","error","subs","setSubs","subsExpanded","setSubsExpanded","timeoutId","setTimeout","trim","clearTimeout","onFocus","onBlur","maxLength","onMouseDown","Form","form","h1","fontLargeX","InnerDiv","Textarea","textarea","PostButton","PostForm","setTitle","setContent","setError","onSubmit","preventDefault","required","commentService","getByPost","resposne","commentOn","comment","addComment","parentComment","newComment","CommentButton","NoUserBox","NoUserText","CommentInput","commentContent","setCommentContent","Voter","Replyarea","ReplyBar","ReplyBtn","ReplyEdit","replyEditHandler","collapseReply","isReply","replyContent","setReplyContent","BottomItem","commentId","isMyComment","setIsReply","replyEditExpanded","setReplyEditExpanded","deleteComment","newContent","updatedAt","editComment","Points","TimeAgo","TimeAgoEdit","Comment","ChildComments","CommentGroup","comments","childComments","filter","c","child","CommentList","voteOnComment","Sort","sec1","SortChoice","isChosen","choices","Sorter","sortComments","choice","param","toLowerCase","Comments","Editarea","SaveBtn","PostEdit","editHandler","cancel","editContent","setEditContent","fontLargeXX","PostContent","setPost","commentsLength","editing","setEditing","editPost","SubribbitBanner","SubrContainer","Subribbit","white1","getVoteChange","newVote","PostPage","loading","setLoading","getComments","Decor","MainTitle","UnderTitle","Label","label","TextInput","nameError","TextArea","SubmitBtn","Error","SubribbitForm","setName","setNameError","description","setDescription","test","AsideTitle","SubribbitInfo","MembersP","PostBtn","SubPageAside","info","CakeIcon","format","Banner","Line","TopContainer","JoinBtn","JoinedBtn","SubribbitPage","setInfo","isLoading","setIsLoading","SwitchButton","Login","setUsername","password","setPassword","Signup","email","setEmail","passwordRepeat","setPasswordRepeat","FormBox","UserForm","userFormType","userFormRef","App","userFormVisible","setUserFormVisible","setUserFormType","modal","exact","login","GlobalStyle","createGlobalStyle","Theme","prim3","gray5","this","reducer","action","voteChange","sorter","array","b","comm","store","createStore","combineReducers","userReducer","errorReducer","postsReducer","commentsReducer","modalReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.f0da24af.chunk.js","sourcesContent":["import { useLocation } from 'react-router-dom';\r\n\r\nconst useQuery = () => {\r\n  return new URLSearchParams(useLocation().search);\r\n};\r\nexport default useQuery;\r\n","export const baseUrl = '/api';\r\n","import axios from 'axios';\r\nimport { baseUrl } from './config';\r\n\r\nconst getAll = async (params, token) => {\r\n  const response = await axios.get(`${baseUrl}/posts`, {\r\n    params,\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nconst getById = async (id) => {\r\n  const userJson = localStorage.getItem('user');\r\n  let token;\r\n  if (userJson) {\r\n    token = JSON.parse(userJson).token;\r\n  }\r\n  const response = await axios.get(`${baseUrl}/posts/${id}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nconst createOne = async (post) => {\r\n  try {\r\n    const { token } = JSON.parse(localStorage.getItem('user'));\r\n    const response = await axios.post(`${baseUrl}/posts`, post, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    return error.response.data;\r\n  }\r\n};\r\n\r\nconst editOne = async (post, content, token) => {\r\n  const response = await axios.patch(\r\n    `${baseUrl}/posts/${post}`,\r\n    { content, editedAt: new Date().toISOString() },\r\n    { headers: { Authorization: `Bearer ${token}` } }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nconst deleteOne = async (post, token) => {\r\n  const response = await axios.delete(`${baseUrl}/posts/${post}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nconst voteOn = async (post, isUpvote, token) => {\r\n  const response = await axios.post(\r\n    `${baseUrl}/posts/vote/${post}`,\r\n    { isUpvote },\r\n    { headers: { Authorization: `Bearer ${token}` } }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nconst postService = {\r\n  getAll,\r\n  getById,\r\n  createOne,\r\n  editOne,\r\n  deleteOne,\r\n  voteOn,\r\n};\r\n\r\nexport default postService;\r\n","import { sub } from 'date-fns';\r\nimport postService from '../../services/postService';\r\n\r\nexport const clearPosts = () => {\r\n  return {\r\n    type: 'CLEAR_POSTS',\r\n  };\r\n};\r\n\r\nexport const getAllPosts = ({ subribbit, t, page }) => {\r\n  return async (dispatch) => {\r\n    let [timeStart, now] = [null, new Date()];\r\n\r\n    if (t === 'today') {\r\n      timeStart = sub(now, { days: 1 });\r\n    } else if (t === 'week') {\r\n      timeStart = sub(now, { weeks: 1 });\r\n    } else if (t === 'month') {\r\n      timeStart = sub(now, { months: 1 });\r\n    } else if (t === 'year') {\r\n      timeStart = sub(now, { years: 1 });\r\n    }\r\n\r\n    let posts;\r\n    const userJson = localStorage.getItem('user');\r\n    if (userJson) {\r\n      const { token } = JSON.parse(userJson);\r\n      posts = await postService.getAll({ subribbit, timeStart, page }, token);\r\n    } else {\r\n      posts = await postService.getAll({ subribbit, timeStart, page });\r\n    }\r\n\r\n    // if no posts come back, it means we got all of em\r\n    if (posts.length === 0) {\r\n      return 'done';\r\n    }\r\n\r\n    dispatch({\r\n      type: 'GET_ALL_POSTS',\r\n      posts,\r\n      page,\r\n    });\r\n  };\r\n};\r\n\r\nexport const editPost = (id, content) => {\r\n  return async () => {\r\n    const { token } = JSON.parse(localStorage.getItem('user'));\r\n    const post = await postService.editOne(id, content, token);\r\n    return post;\r\n  };\r\n};\r\n\r\nexport const deletePost = (id) => {\r\n  return async (dispatch) => {\r\n    const { token } = JSON.parse(localStorage.getItem('user'));\r\n    await postService.deleteOne(id, token);\r\n    dispatch({ type: 'DELETE_POST', id });\r\n    dispatch({ type: 'CLEAR_MODAL' });\r\n  };\r\n};\r\n\r\nexport const voteOnPost = (id, isUpvote, oldVote) => {\r\n  return async (dispatch) => {\r\n    const userJson = localStorage.getItem('user');\r\n    if (!userJson) {\r\n      return 'No user';\r\n    }\r\n\r\n    const { token } = JSON.parse(userJson);\r\n    postService.voteOn(id, isUpvote, token);\r\n    dispatch({ type: 'VOTE_POST', id, isUpvote, oldVote });\r\n  };\r\n};\r\n","const CommentIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 24 24\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path fill=\"none\" d=\"M0 0h24v24H0z\" />\r\n      <path d=\"M22 4a2 2 0 00-2-2H4a2 2 0 00-2 2v12c0 1.1.9 2 2 2h14l4 4V4z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CommentIcon;\r\n","import { useEffect, useRef, useState } from 'react';\r\n\r\nconst useVisible = (initialVisible = false) => {\r\n  const [isVisible, setIsVisible] = useState(initialVisible);\r\n  const ref = useRef(null);\r\n\r\n  // if click target is not inside the ref, hide our ref component\r\n  const outsideClickHandler = (e) => {\r\n    if (ref.current && !ref.current.contains(e.target)) {\r\n      setIsVisible(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('click', outsideClickHandler, true);\r\n\r\n    return () => {\r\n      document.removeEventListener('click', outsideClickHandler, true);\r\n    };\r\n  }, []);\r\n\r\n  return [isVisible, setIsVisible, ref];\r\n};\r\n\r\nexport default useVisible;\r\n","const EllipsisIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 512 512\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <circle cx=\"256\" cy=\"256\" r=\"48\" />\r\n      <circle cx=\"416\" cy=\"256\" r=\"48\" />\r\n      <circle cx=\"96\" cy=\"256\" r=\"48\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default EllipsisIcon;\r\n","import styled, { css } from 'styled-components';\r\nimport useVisible from '../../hooks/useVisible';\r\nimport EllipsisIcon from '../../icons/EllipsisIcon';\r\n\r\nconst Icon = styled.div`\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  height: 14px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  font-weight: 700;\r\n  background: none;\r\n  border: none;\r\n  padding: 4px;\r\n  border-radius: 2px;\r\n  cursor: pointer;\r\n  span {\r\n    margin-left: 4px;\r\n  }\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray2};\r\n      font-size: ${theme.fontSmall};\r\n      :hover {\r\n        background: ${theme.gray3};\r\n      }\r\n    `}\r\n`;\r\n\r\nconst MenuContainer = styled.div`\r\n  position: relative;\r\n  display: inline-block;\r\n`;\r\n\r\nconst Menu = styled.div`\r\n  position: absolute;\r\n  z-index: 10;\r\n  ${({ theme }) =>\r\n    css`\r\n      ${theme.box()}\r\n    `}\r\n  border-radius: 2px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst MenuItem = styled.button`\r\n  background: none;\r\n  border: none;\r\n  font-weight: 700;\r\n  width: 100%;\r\n  text-align: left;\r\n  padding: 8px;\r\n  cursor: pointer;\r\n  outline: none;\r\n\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray2};\r\n      :hover {\r\n        background: ${theme.gray3};\r\n      }\r\n    `}\r\n`;\r\n\r\nconst ElMenu = ({ items }) => {\r\n  const [expanded, setExpanded, menuRef] = useVisible(false);\r\n\r\n  return (\r\n    <MenuContainer ref={menuRef}>\r\n      <Button onClick={() => setExpanded(!expanded)}>\r\n        <Icon>\r\n          <EllipsisIcon />\r\n        </Icon>\r\n      </Button>\r\n      {expanded && (\r\n        <Menu>\r\n          {items.map((item, i) => (\r\n            <MenuItem\r\n              onClick={() => {\r\n                item.onClick();\r\n                setExpanded(false);\r\n              }}\r\n              key={i}\r\n            >\r\n              {item.text}\r\n            </MenuItem>\r\n          ))}\r\n        </Menu>\r\n      )}\r\n    </MenuContainer>\r\n  );\r\n};\r\nexport default ElMenu;\r\n","import { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport CommentIcon from '../../../icons/CommentIcon';\r\nimport { deletePost } from '../../../store/actions/posts';\r\nimport ElMenu from '../../ElMenu/ElMenu';\r\n\r\nconst Bottom = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  height: 32px;\r\n  font-weight: 700;\r\n  margin-left: 4px;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray2};\r\n      font-size: ${theme.fontSmall};\r\n    `}\r\n`;\r\n\r\nconst Item = styled.div`\r\n  padding: 4px;\r\n  border-radius: 2px;\r\n  :hover {\r\n    background: ${({ theme }) => `${theme.gray1}1A`};\r\n  }\r\n`;\r\n\r\nconst Icon = styled.span`\r\n  padding-right: 4px;\r\n  display: inline-block;\r\n  height: 16px;\r\n  vertical-align: middle;\r\n  color: inherit;\r\n`;\r\n\r\nconst BottomBar = ({ postId, usersPost, commentCount }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const deleteHandler = () => {\r\n    dispatch(deletePost(postId));\r\n  };\r\n\r\n  return (\r\n    <Bottom>\r\n      <Item>\r\n        <Link to=\"/\">\r\n          <Icon>\r\n            <CommentIcon />\r\n          </Icon>\r\n        </Link>\r\n        {commentCount} Comments\r\n      </Item>\r\n      {usersPost && (\r\n        <ElMenu\r\n          items={[\r\n            {\r\n              text: 'Delete',\r\n              onClick: () => {\r\n                dispatch({\r\n                  type: 'SET_MODAL',\r\n                  title: 'Delete post',\r\n                  msg:\r\n                    \"Are you sure you want to delete your post? You can't undo this.\",\r\n                  acceptHandler: deleteHandler,\r\n                  acceptBtn: 'DELETE POST',\r\n                  cancelBtn: 'CANCEL',\r\n                });\r\n              },\r\n            },\r\n          ]}\r\n        />\r\n      )}\r\n    </Bottom>\r\n  );\r\n};\r\n\r\nexport default BottomBar;\r\n","import { Link } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport { formatDistance } from 'date-fns';\r\n\r\nconst Top = styled.div`\r\n  margin: 0 8px 8px;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray2};\r\n      font-size: ${theme.fontSmall};\r\n    `}\r\n`;\r\n\r\nconst Subreddit = styled.span`\r\n  color: ${({ theme }) => theme.gray0};\r\n  font-weight: 700;\r\n  margin-right: 3px;\r\n`;\r\n\r\nconst Poster = styled.span`\r\n  color: inherit;\r\n  margin-right: 3px;\r\n`;\r\n\r\nconst EditedAt = styled.span`\r\n  font-style: italic;\r\n`;\r\n\r\nconst TopBar = ({ post, currDate }) => {\r\n  return (\r\n    <Top>\r\n      <Link to={`/r/${post.subribbit}`}>\r\n        <Subreddit>r/{post.subribbit}</Subreddit>\r\n      </Link>\r\n      Posted by{' '}\r\n      <Link to={`/user/${post.username}`}>\r\n        <Poster>u/{post.username}</Poster>\r\n      </Link>\r\n      <span>{formatDistance(new Date(post.createdAt), currDate)} ago</span>{' '}\r\n      {post.editedAt && (\r\n        <EditedAt>\r\n           edited {formatDistance(new Date(post.editedAt), currDate)} ago\r\n        </EditedAt>\r\n      )}\r\n    </Top>\r\n  );\r\n};\r\n\r\nexport default TopBar;\r\n","const DownvoteIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 23 23\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"none\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth=\"2.5\"\r\n      stroke=\"currentColor\"\r\n    >\r\n      <path d=\"M8 12l4 4 4-4M12 8v8\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default DownvoteIcon;\r\n","const UpvoteIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 23 23\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      stroke=\"currentColor\"\r\n      fill=\"none\"\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth=\"2.5\"\r\n    >\r\n      <path d=\"M16 12l-4-4-4 4M12 16V8\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default UpvoteIcon;\r\n","import styled, { css } from 'styled-components';\r\nimport DownvoteIcon from '../../../icons/DownvoteIcon';\r\nimport UpvoteIcon from '../../../icons/UpvoteIcon';\r\n\r\nconst Div = styled.div`\r\n  height: 100%;\r\n  width: 40px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  position: absolute;\r\n  left: 0;\r\n  z-index: 5;\r\n  padding: 8px 4px;\r\n  background: ${({ theme }) => theme.grayNew};\r\n  border-radius: 4px 0 0 4px;\r\n`;\r\n\r\nconst VoteCount = styled.div`\r\n  font-weight: 700;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      font-size: ${theme.fontSmall};\r\n    `};\r\n`;\r\n\r\nconst Icon = styled.div`\r\n  height: 28px;\r\n`;\r\n\r\nconst UpvoteBtn = styled.button`\r\n  background: transparent;\r\n  border: none;\r\n  border-radius: 2px;\r\n  cursor: pointer;\r\n  outline: none;\r\n  ${(props) =>\r\n    css`\r\n      color: ${props.userVote ? props.theme.prim1 : props.theme.gray2};\r\n      :hover {\r\n        background: ${props.theme.gray3};\r\n        color: ${props.theme.prim1};\r\n      }\r\n    `};\r\n`;\r\nconst DownvoteBtn = styled.button`\r\n  background: transparent;\r\n  border: none;\r\n  border-radius: 2px;\r\n  cursor: pointer;\r\n  outline: none;\r\n  ${(props) =>\r\n    css`\r\n      color: ${props.userVote ? props.theme.sec2 : props.theme.gray2};\r\n      :hover {\r\n        background: ${props.theme.gray3};\r\n        color: ${props.theme.sec2};\r\n      }\r\n    `};\r\n`;\r\n\r\nconst VoteBar = ({ points, userVote, voteHandler }) => {\r\n  return (\r\n    <Div>\r\n      <UpvoteBtn userVote={userVote === 1} onClick={() => voteHandler(1)}>\r\n        <Icon>\r\n          <UpvoteIcon />\r\n        </Icon>\r\n      </UpvoteBtn>\r\n      <VoteCount>{points || 0}</VoteCount>\r\n      <DownvoteBtn userVote={userVote === -1} onClick={() => voteHandler(-1)}>\r\n        <Icon>\r\n          <DownvoteIcon />\r\n        </Icon>\r\n      </DownvoteBtn>\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default VoteBar;\r\n","import { Link } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport BottomBar from './BottomBar';\r\nimport TopBar from './TopBar';\r\nimport VoteBar from './VoteBar';\r\n\r\nconst Div = styled.div`\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  margin-bottom: 10px;\r\n  max-height: 500px;\r\n  ${({ theme }) =>\r\n    css`\r\n      ${theme.box()}\r\n      :hover {\r\n        border-color: ${theme.gray2};\r\n      }\r\n    `}\r\n\r\n  position: relative;\r\n  a:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nconst Content = styled.div`\r\n  padding: 8px 0 0 40px;\r\n  margin-left: 4px;\r\n`;\r\n\r\nconst Title = styled.h3`\r\n  font-weight: 600;\r\n  margin: 0 8px;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      :hover {\r\n        text-decoration: underline ${theme.gray2};\r\n      }\r\n    `}\r\n`;\r\n\r\nconst TextContainer = styled.div`\r\n  padding: 5px 8px 10px;\r\n  max-height: 250px;\r\n  overflow: hidden;\r\n  mask-image: linear-gradient(180deg, #000 60%, transparent);\r\n`;\r\n\r\nconst P = styled.p`\r\n  line-height: 21px;\r\n  padding: 12px 4px 4px 0;\r\n  :first-child {\r\n    padding-top: 0;\r\n  }\r\n  :last-child {\r\n    padding-bottom: 0;\r\n  }\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      font-size: ${theme.fontMed};\r\n    `}\r\n`;\r\n\r\nconst Post = ({ post, userId, currDate, voteHandler }) => {\r\n  return (\r\n    <Div>\r\n      <VoteBar\r\n        points={post.points}\r\n        userVote={post.isUpvote}\r\n        voteHandler={voteHandler}\r\n      />\r\n      <Content>\r\n        <TopBar post={post} currDate={currDate} />\r\n        <Link to={`/r/${post.subribbit}/${post.id}`}>\r\n          <Title>{post.title}</Title>\r\n        </Link>\r\n        <TextContainer>\r\n          {post.content.split('\\n').map((p, i) => (\r\n            <P key={i}>{p}</P>\r\n          ))}\r\n        </TextContainer>\r\n        <BottomBar\r\n          postId={post.id}\r\n          sub={post.subribbit}\r\n          usersPost={userId === post.creator}\r\n          commentCount={post.commentCount}\r\n        />\r\n      </Content>\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import { useHistory, useParams } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\n\r\nconst Div = styled.div`\r\n  ${({ theme }) => theme.box()}\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n`;\r\n\r\nconst InputText = styled.input`\r\n  border-radius: 4px;\r\n  line-height: 21px;\r\n  padding: 0 16px;\r\n  height: 38px;\r\n  width: 100%;\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontMed};\r\n      color: ${theme.gray0};\r\n      border: 1px solid ${theme.postBorder};\r\n      background: ${theme.gray3};\r\n    `}\r\n`;\r\n\r\nconst PostFormRedirect = () => {\r\n  const history = useHistory();\r\n  const { subribbit } = useParams();\r\n\r\n  return (\r\n    <Div>\r\n      <InputText\r\n        onClick={() =>\r\n          history.push(subribbit ? `/r/${subribbit}/submit` : '/submit')\r\n        }\r\n        type=\"text\"\r\n        value=\"\"\r\n        readOnly\r\n        placeholder=\"Create Post\"\r\n      />\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default PostFormRedirect;\r\n","const GraphUpIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 20 20\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M1.25 17.5v-10h5v10zm11.25 0h-5V5H5l5-5 5 5h-2.5zm1.25 0v-5h5v5z\" />\r\n    </svg>\r\n  );\r\n};\r\nexport default GraphUpIcon;\r\n","const NewIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 20 20\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path\r\n        fill=\"inherit\"\r\n        d=\"M17.2 10l1.9 2.9-3.3 1.3-.2 3.5-3.4-.9-2.2 2.7-2.2-2.7-3.3.9-.2-3.5L1 12.9 2.9 10 1 7.1l3.3-1.3.2-3.5 3.3.9L10 .5l2.2 2.7 3.4-.9.2 3.5 3.3 1.3z\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default NewIcon;\r\n","const ChevBotIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 20 20\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M14.17 9.35L10 13.53 5.83 9.35a.5.5 0 01.35-.85h7.64a.5.5 0 01.35.85\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default ChevBotIcon;\r\n","import { useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport useQuery from '../../../hooks/useQuery';\r\nimport ChevBotIcon from '../../../icons/ChevBotIcon';\r\nimport useVisible from '../../../hooks/useVisible';\r\n\r\nconst Div = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst TopSortBtn = styled.button`\r\n  border: none;\r\n  border-radius: 50px;\r\n  padding: 6px 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 600;\r\n  height: 32px;\r\n\r\n  ${(props) =>\r\n    css`\r\n      font-size: ${props.theme.fontMed};\r\n      background: ${props.theme.gray3};\r\n      color: ${props.theme.gray0};\r\n    `};\r\n`;\r\n\r\nconst Icon = styled.div`\r\n  height: 18px;\r\n  margin-right: 4px;\r\n`;\r\n\r\nconst SortList = styled.div`\r\n  position: absolute;\r\n  top: 20px;\r\n  border-radius: 4px;\r\n  width: 100px%;\r\n  left: 0;\r\n  z-index: 10;\r\n  ${({ theme }) =>\r\n    css`\r\n      border: 1px solid ${theme.postBorder};\r\n      background: ${theme.gray4};\r\n    `}\r\n`;\r\n\r\nconst ListItem = styled.div`\r\n  padding: 8px;\r\n  text-align: left;\r\n  font-weight: 500;\r\n  white-space: nowrap;\r\n  ${(props) =>\r\n    css`\r\n      font-size: ${props.theme.fontMed};\r\n      color: ${props.active ? props.theme.gray0 : 'inherit'};\r\n      :hover {\r\n        background: ${props.theme.gray3};\r\n      }\r\n    `}\r\n`;\r\n\r\nconst TopSortList = () => {\r\n  const time = useQuery().get('t');\r\n  const [expanded, setExpanded, expandedRef] = useVisible(false);\r\n  const [chosenItem, setChosenItem] = useState(\r\n    (time && time[0].toUpperCase() + time.slice(1)) || 'Today'\r\n  ); // just for displaying it on the button\r\n  const { subribbit } = useParams();\r\n\r\n  return (\r\n    <Div ref={expandedRef}>\r\n      <TopSortBtn onClick={() => setExpanded(!expanded)}>\r\n        <span>{chosenItem}</span>\r\n        <Icon>\r\n          <ChevBotIcon />\r\n        </Icon>\r\n      </TopSortBtn>\r\n      {expanded && (\r\n        <SortList>\r\n          {items(subribbit).map((item, i) => (\r\n            <Link to={item.link} key={i}>\r\n              <ListItem\r\n                onClick={() => setChosenItem(item.text)}\r\n                active={chosenItem === item.text}\r\n              >\r\n                {item.text}\r\n              </ListItem>\r\n            </Link>\r\n          ))}\r\n        </SortList>\r\n      )}\r\n    </Div>\r\n  );\r\n};\r\n\r\nconst items = (subribbit = '') => [\r\n  {\r\n    text: 'Today',\r\n    link: `${subribbit && `/r/${subribbit}`}?sort=top&t=today`,\r\n  },\r\n  {\r\n    text: 'This Week',\r\n    link: `${subribbit && `/r/${subribbit}`}?sort=top&t=week`,\r\n  },\r\n  {\r\n    text: 'This Month',\r\n    link: `${subribbit && `/r/${subribbit}`}?sort=top&t=month`,\r\n  },\r\n  {\r\n    text: 'This Year',\r\n    link: `${subribbit && `/r/${subribbit}`}?sort=top&t=year`,\r\n  },\r\n  {\r\n    text: 'All Time',\r\n    link: `${subribbit && `/r/${subribbit}`}?sort=top&t=all`,\r\n  },\r\n];\r\n\r\nexport default TopSortList;\r\n","import { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport useQuery from '../../../hooks/useQuery';\r\nimport GraphUpIcon from '../../../icons/GraphUpIcon';\r\nimport NewIcon from '../../../icons/NewIcon';\r\nimport TopSortList from './TopSortList';\r\n\r\nconst Div = styled.div`\r\n  width: 100%;\r\n  height: 56px;\r\n  border-radius: 4px;\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  display: flex;\r\n  align-items: center;\r\n  ${({ theme }) =>\r\n    css`\r\n      ${theme.box()}\r\n      color: ${theme.gray2};\r\n    `}\r\n`;\r\n\r\nconst SortLink = styled.div`\r\n  border: none;\r\n  border-radius: 50px;\r\n  padding: 6px 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 600;\r\n  height: 32px;\r\n  margin-right: 8px;\r\n\r\n  ${(props) =>\r\n    css`\r\n      background: ${props.active ? props.theme.gray3 : 'none'};\r\n      color: ${props.active ? props.theme.gray0 : 'inherit'};\r\n      font-size: ${props.theme.fontMed};\r\n      :hover {\r\n        background: ${props.theme.gray3};\r\n        color: ${props.theme.gray0};\r\n      }\r\n    `};\r\n`;\r\n\r\nconst Icon = styled.div`\r\n  height: 18px;\r\n  margin-right: 4px;\r\n`;\r\n\r\n// this component displays sorting options and sets the query params so we get sorted data on fetch\r\nconst PostSorter = () => {\r\n  const sortQuery = useQuery().get('sort');\r\n  const [sortBy, setSortBy] = useState(!!sortQuery || 'new');\r\n\r\n  useEffect(() => {\r\n    setSortBy(sortQuery || 'new');\r\n  }, [sortQuery]);\r\n\r\n  return (\r\n    <Div>\r\n      <Link to=\"?sort=new\">\r\n        <SortLink active={'new' === sortBy}>\r\n          <Icon>\r\n            <NewIcon />\r\n          </Icon>\r\n          <span>New</span>\r\n        </SortLink>\r\n      </Link>\r\n      <Link to=\"?sort=top&t=today\">\r\n        <SortLink active={'top' === sortBy}>\r\n          <Icon>\r\n            <GraphUpIcon />\r\n          </Icon>\r\n          <span>Top</span>\r\n        </SortLink>\r\n      </Link>\r\n      {sortBy === 'top' && <TopSortList />}\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default PostSorter;\r\n","import { useEffect, useRef, useState, Fragment } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport useQuery from '../../hooks/useQuery';\r\nimport { clearPosts, getAllPosts, voteOnPost } from '../../store/actions/posts';\r\nimport Post from './Post/Post';\r\nimport PostFormRedirect from './PostFormRedirect';\r\nimport PostSorter from './PostSorter/PostSorter';\r\n\r\nconst Div = styled.div`\r\n  width: 640px;\r\n  ${({ theme }) => theme.tablet} {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst Observer = styled.div`\r\n  height: 1px;\r\n  width: 1px;\r\n`;\r\n\r\nconst PostList = ({ showUserForm }) => {\r\n  const dispatch = useDispatch();\r\n  const { subribbit } = useParams();\r\n  const sort = useQuery().get('sort');\r\n  const t = useQuery().get('t'); // time range for top sort\r\n  const user = useSelector((state) => state.user);\r\n  const posts = useSelector((state) => state.posts);\r\n  const [page, setPage] = useState(0);\r\n  const currDate = new Date();\r\n  const observeRef = useRef();\r\n\r\n  const voteHandler = (post) => (isUpvote) => {\r\n    dispatch(voteOnPost(post.id, isUpvote, post.isUpvote)).then((res) => {\r\n      if (res === 'No user') {\r\n        showUserForm('login');\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(clearPosts());\r\n    setPage(0);\r\n  }, [sort, t, subribbit]);\r\n\r\n  useEffect(() => {\r\n    if (page !== 'done') {\r\n      dispatch(getAllPosts({ subribbit, t, page })).then((res) => {\r\n        if (res === 'done') {\r\n          setPage(res);\r\n        }\r\n      });\r\n    }\r\n  }, [page, subribbit, t, dispatch]);\r\n\r\n  const observer = new IntersectionObserver((entries, observer) => {\r\n    entries.forEach((entry) => {\r\n      if (entry.intersectionRatio > 0 && page !== 'done') {\r\n        observer.unobserve(observeRef.current);\r\n        setPage(page + 1);\r\n      }\r\n    });\r\n  }, {});\r\n\r\n  useEffect(() => {\r\n    if (observeRef.current && page !== 'done') {\r\n      observer.observe(observeRef.current);\r\n    }\r\n  }, [posts]);\r\n\r\n  return (\r\n    <Div>\r\n      <PostFormRedirect />\r\n      <PostSorter />\r\n      {posts.map((post, i) => {\r\n        // plaching an observable between the posts\r\n        if (posts.length - 1 === i) {\r\n          const items = (\r\n            <Fragment key=\"observable\">\r\n              <Observer ref={observeRef}></Observer>\r\n              <Post\r\n                post={post}\r\n                userId={user?.id}\r\n                voteHandler={voteHandler(post)}\r\n                currDate={currDate}\r\n                key={post.id}\r\n              />\r\n            </Fragment>\r\n          );\r\n\r\n          return items;\r\n        }\r\n        return (\r\n          <Post\r\n            post={post}\r\n            userId={user?.id}\r\n            voteHandler={voteHandler(post)}\r\n            currDate={currDate}\r\n            key={post.id}\r\n          />\r\n        );\r\n      })}\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n","import axios from 'axios';\r\nimport { baseUrl } from './config';\r\n\r\nconst getOne = async (name) => {\r\n  const response = await axios.get(`${baseUrl}/subribbits/${name}`);\r\n  return response.data;\r\n};\r\n\r\nconst getTop = async (limit) => {\r\n  const response = await axios.get(`${baseUrl}/subribbits/top/${limit}`);\r\n  return response.data;\r\n};\r\n\r\nconst getSimilar = async (name, limit) => {\r\n  const response = await axios.get(`${baseUrl}/subribbits/similar/${name}`, {\r\n    params: { limit },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nconst createOne = async (subribbit) => {\r\n  try {\r\n    const { token } = JSON.parse(localStorage.getItem('user'));\r\n    const response = await axios.post(`${baseUrl}/subribbits`, subribbit, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    return response.data;\r\n  } catch (err) {\r\n    return err.response.data;\r\n  }\r\n};\r\n\r\nconst joinOne = async (subribbit) => {\r\n  const { token } = JSON.parse(localStorage.getItem('user'));\r\n  const response = await axios.patch(\r\n    `${baseUrl}/subribbits/join/${subribbit}`,\r\n    null,\r\n    { headers: { Authorization: `Bearer ${token}` } }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nconst exitOne = async (subribbit) => {\r\n  const { token } = JSON.parse(localStorage.getItem('user'));\r\n  const response = await axios.patch(\r\n    `${baseUrl}/subribbits/exit/${subribbit}`,\r\n    null,\r\n    { headers: { Authorization: `Bearer ${token}` } }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nconst subribbitService = {\r\n  getOne,\r\n  getTop,\r\n  getSimilar,\r\n  createOne,\r\n  joinOne,\r\n  exitOne,\r\n};\r\n\r\nexport default subribbitService;\r\n","import styled, { css } from 'styled-components';\r\n\r\nconst Button = styled.button`\r\n  font-weight: 700;\r\n  letter-spacing: 0.5px;\r\n  border-radius: 4px;\r\n  border: 0;\r\n  cursor: pointer;\r\n  line-height: 24px;\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontSmall};\r\n      background: ${theme.gray0};\r\n      color: ${theme.gray4};\r\n      :hover {\r\n        background: #ebeced;\r\n      }\r\n    `}\r\n`;\r\n\r\nexport default Button;\r\n","import styled, { css } from 'styled-components';\r\n\r\nconst Button2 = styled.button`\r\n  font-weight: 700;\r\n  letter-spacing: 0.5px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  background: none;\r\n  line-height: 24px;\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontSmall};\r\n      color: ${theme.gray0};\r\n      border: 1px solid ${theme.gray0};\r\n      :hover {\r\n        color: #ebeced;\r\n        border-color: #ebeced;\r\n      }\r\n    `}\r\n`;\r\n\r\nexport default Button2;\r\n","import axios from 'axios';\r\nimport { baseUrl } from './config';\r\n\r\nconst initUser = async (token) => {\r\n  try {\r\n    const response = await axios.get(`${baseUrl}/users/refresh`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.log('INIT ERROR: ', error);\r\n  }\r\n};\r\n\r\nconst loginUser = async (user) => {\r\n  try {\r\n    const response = await axios.post(`${baseUrl}/users/login`, user);\r\n    return response.data;\r\n  } catch (error) {\r\n    return error.response.data;\r\n  }\r\n};\r\n\r\nconst signupUser = async (user) => {\r\n  try {\r\n    const response = await axios.post(`${baseUrl}/users/signup`, user);\r\n    return response.data;\r\n  } catch (error) {\r\n    return error.response.data;\r\n  }\r\n};\r\n\r\nconst userService = { initUser, loginUser, signupUser };\r\n\r\nexport default userService;\r\n","import userService from '../../services/userService';\r\n\r\nexport const initUser = () => {\r\n  return async (dispatch) => {\r\n    const userJson = localStorage.getItem('user');\r\n    if (userJson) {\r\n      const user = JSON.parse(userJson);\r\n      const response = await userService.initUser(user.token);\r\n      localStorage.setItem('user', JSON.stringify(response));\r\n      if (response) {\r\n        dispatch({\r\n          type: 'INIT_USER',\r\n          user: response,\r\n        });\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\n// this can be used when backend returns a modified user\r\n// and we dont wanna make an extra request with initUser\r\n// for example: joining or exiting subribbits\r\nexport const setUser = (newUser) => {\r\n  return async (dispatch) => {\r\n    localStorage.setItem('user', JSON.stringify(newUser));\r\n    dispatch({\r\n      type: 'SET_USER',\r\n      user: newUser,\r\n    });\r\n  };\r\n};\r\n\r\nexport const loginUser = (user) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: 'CLEAR_ERROR' });\r\n    const response = await userService.loginUser(user);\r\n    if (response.error) {\r\n      return dispatch({ type: 'SET_ERROR', error: response.error });\r\n    }\r\n    localStorage.setItem('user', JSON.stringify(response));\r\n    dispatch({\r\n      type: 'LOGIN',\r\n      user: response,\r\n    });\r\n  };\r\n};\r\n\r\nexport const logoutUser = () => {\r\n  return async (dispatch) => {\r\n    localStorage.removeItem('user');\r\n    dispatch({\r\n      type: 'LOGOUT',\r\n    });\r\n  };\r\n};\r\n\r\nexport const signupUser = (user) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: 'CLEAR_ERROR' });\r\n    const response = await userService.signupUser(user);\r\n    if (response.error) {\r\n      return dispatch({ type: 'SET_ERROR', error: response.error });\r\n    }\r\n\r\n    localStorage.setItem('user', JSON.stringify(response));\r\n    dispatch({\r\n      type: 'SIGNUP',\r\n      user: response,\r\n    });\r\n  };\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport subribbitService from '../../../services/subribbitService';\r\nimport Button from '../../reusable/Button';\r\nimport Button2 from '../../reusable/Button2';\r\nimport { setUser } from '../../../store/actions/user';\r\n\r\nconst Aside = styled.aside`\r\n  flex-shrink: 0;\r\n  width: 312px;\r\n  ${({ theme }) => theme.tablet} {\r\n    display: none;\r\n  }\r\n`;\r\nconst Box = styled.div`\r\n  border-radius: 4px;\r\n  padding: 12px;\r\n\r\n  ${({ theme }) => theme.box()};\r\n`;\r\n\r\nconst TrendTitle = styled.h2`\r\n  letter-spacing: 0.5px;\r\n  padding-bottom: 12px;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray2};\r\n      font-size: ${theme.fontMed};\r\n    `}\r\n`;\r\n\r\nconst Left = styled.div`\r\n  width: 144px;\r\n  a {\r\n    font-weight: 600;\r\n  }\r\n`;\r\n\r\nconst Subreddit = styled.div`\r\n  padding: 12px 0 4px 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  a:hover {\r\n    text-decoration: underline;\r\n  }\r\n\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      font-size: ${theme.fontSmall};\r\n    `};\r\n`;\r\n\r\nconst Members = styled.div`\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontSmall};\r\n    `}\r\n`;\r\n\r\nconst JoinButton = styled(Button)`\r\n  padding: 4px 9px;\r\n  width: 100%;\r\n  height: 32px;\r\n  width: 106px;\r\n`;\r\n\r\nconst JoinedButton = styled(Button2)`\r\n  padding: 4px 9px;\r\n  width: 100%;\r\n  height: 32px;\r\n  width: 106px;\r\n`;\r\n\r\nconst Side = () => {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => state.user);\r\n  const [topSubribbits, setTopSubribbits] = useState([]);\r\n\r\n  useEffect(() => {\r\n    subribbitService.getTop(5).then((res) => {\r\n      setTopSubribbits(res);\r\n    });\r\n  }, []);\r\n\r\n  const joinHandler = (name) => {\r\n    subribbitService.joinOne(name).then((res) => {\r\n      dispatch(setUser(res));\r\n    });\r\n  };\r\n\r\n  const exitHandler = (name) => {\r\n    subribbitService.exitOne(name).then((res) => {\r\n      dispatch(setUser(res));\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Aside>\r\n      <Box>\r\n        <TrendTitle>Top Communities</TrendTitle>\r\n        {topSubribbits.map((topSub, i) => (\r\n          <Subreddit key={i}>\r\n            <Left>\r\n              <Link to={`/r/${topSub.name}`}>r/{topSub.name}</Link>\r\n              <Members>{topSub.memberCount} members</Members>\r\n            </Left>\r\n            {user?.joinedSubribbits.includes(topSub.name) ? (\r\n              <JoinedButton onClick={() => exitHandler(topSub.name)}>\r\n                JOINED\r\n              </JoinedButton>\r\n            ) : (\r\n              <JoinButton onClick={() => joinHandler(topSub.name)}>\r\n                JOIN\r\n              </JoinButton>\r\n            )}\r\n          </Subreddit>\r\n        ))}\r\n      </Box>\r\n    </Aside>\r\n  );\r\n};\r\n\r\nexport default Side;\r\n","import styled from 'styled-components';\r\nimport PostList from '../PostList/PostList';\r\nimport Side from './Side/Side';\r\n\r\nconst Main = styled.main`\r\n  padding: 20px 24px;\r\n  min-height: calc(100vh - 49px);\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  column-gap: 26px;\r\n  ${({ theme }) => theme.mobileL} {\r\n    padding: 20px 12px;\r\n  }\r\n`;\r\n\r\nconst MainContent = ({ showUserForm }) => {\r\n  return (\r\n    <Main>\r\n      <PostList showUserForm={showUserForm} />\r\n      <Side />\r\n    </Main>\r\n  );\r\n};\r\n\r\nexport default MainContent;\r\n","const XIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 23 23\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M11.6 9.9l6.7-6.6-1.8-1.8-6.6 6.6-6.6-6.6-1.8 1.8 6.6 6.6-6.6 6.6 1.8 1.8 6.6-6.7 6.6 6.7 1.8-1.8z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default XIcon;\r\n","import { createPortal } from 'react-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport styled, { css } from 'styled-components';\r\nimport XIcon from '../../icons/XIcon';\r\nimport Button from '../reusable/Button';\r\nimport Button2 from '../reusable/Button2';\r\n\r\nconst Container = styled.div`\r\n  position: fixed;\r\n  z-index: 100;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(28, 28, 28, 0.9);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ModalBox = styled.div`\r\n  max-width: 538px;\r\n  min-width: 410px;\r\n  border-radius: 4px;\r\n  ${({ theme }) => theme.box()}\r\n`;\r\n\r\nconst Top = styled.header`\r\n  padding: 16px;\r\n  ${({ theme }) =>\r\n    css`\r\n      border-bottom: 1px solid ${theme.postBorder};\r\n    `};\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-weight: 600;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      font-size: ${theme.fontLarge};\r\n    `};\r\n`;\r\n\r\nconst Msg = styled.p`\r\n  padding: 16px;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      font-size: ${theme.fontMed};\r\n    `};\r\n`;\r\n\r\nconst CloseBtn = styled.button`\r\n  background: none;\r\n  border: none;\r\n  height: 20px;\r\n  width: 20px;\r\n  color: ${({ theme }) => theme.gray2};\r\n`;\r\n\r\nconst Buttons = styled.footer`\r\n  padding: 16px;\r\n  background: ${({ theme }) => theme.gray3};\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nconst AcceptBtn = styled(Button)`\r\n  margin-left: 8px;\r\n  padding: 3px 16px;\r\n`;\r\n\r\nconst CancelBtn = styled(Button2)`\r\n  padding: 3px 16px;\r\n`;\r\n\r\nconst Modal = ({\r\n  modalRef,\r\n  title,\r\n  msg,\r\n  acceptHandler,\r\n  acceptBtn,\r\n  cancelBtn,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const close = () => {\r\n    dispatch({ type: 'CLEAR_MODAL' });\r\n  };\r\n\r\n  return createPortal(\r\n    <Container onClick={close}>\r\n      <ModalBox ref={modalRef} onClick={(e) => e.stopPropagation()}>\r\n        <Top>\r\n          <Title>{title}</Title>\r\n          <CloseBtn onClick={close}>\r\n            <XIcon />\r\n          </CloseBtn>\r\n        </Top>\r\n        <Msg>{msg}</Msg>\r\n        <Buttons>\r\n          <CancelBtn onClick={close}>{cancelBtn}</CancelBtn>\r\n          <AcceptBtn onClick={acceptHandler}>{acceptBtn}</AcceptBtn>\r\n        </Buttons>\r\n      </ModalBox>\r\n    </Container>,\r\n    document.getElementById('modal')\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import styled from 'styled-components';\r\n\r\nconst DivCircle = styled.div`\r\n  border-radius: 50%;\r\n  background: ${({ theme }) => theme.gray0};\r\n  height: 32px;\r\n  width: 32px;\r\n`;\r\n\r\nconst Svg = styled.svg`\r\n  height: 100%;\r\n`;\r\n\r\nconst Path1 = styled.path`\r\n  fill: ${({ theme }) => theme.prim1};\r\n`;\r\n\r\nconst Path2 = styled.path`\r\n  fill: ${({ theme }) => theme.prim2};\r\n`;\r\n\r\nconst LogoSvg = () => {\r\n  return (\r\n    <DivCircle>\r\n      <Svg viewBox=\"0 0 513.7 513.7\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <Path1 d=\"M350.6 188.3L193 111.6C181.1 89.2 161.9 71 133 71c-19.4 0-35.3 9.3-50 21.7-45.6 0-75.5 9.3-75.5 34.9 0 14 6.2 27 20 39.9 21 19.7 59.7 59.1 120.5 81 0 0 1.5 8.3 7.8 16.6l53.4 69.2c8.6 11.1 17.9-5.4 25.2-5.4 2.6-8.6 172-70.7 172-70.7l-9.3-21.4a97 97 0 00-46.5-48.6z\" />\r\n        <Path2 d=\"M272.8 300.9L201.2 268l28 36.3c6.2 8 7.8 16 5.2 24.6-7.3 0-16.6-3.5-25.2-14.6l-53.4-69.2a42.2 42.2 0 01-7.8-16.7c-60.8-21.8-99.4-41.2-120.5-60.9 21.7 49.7 110.1 95.1 110.1 95.1l54 64-43.5 77.1 31.4-.1a22 22 0 0018.8-11.3l31.6-53.3a45 45 0 004.5-10l32.4 13.7 149.6-61.3-10-23.2c-56.3-12.2-116.2 21-133.6 42.6z\" />\r\n        <Path1 d=\"M478.9 277.2c-16.5-4.3-39.1-2.9-63.7 4.1-21.5-7.7-51.6-6.6-81.7 5-49 19-79.5 58.5-68 88.4 7.4 18.9 29.6 29.4 57.3 29.8 16.2.2 54.3-3 72.5-10 47.8-18.4 82.2-68.5 85.9-83.4 2-8-5.4-22.2-2.3-34z\" />\r\n        <Path2 d=\"M432 403.7c52.5-29.3 84.1-83.4 71.3-109.3-4.3-8.5-12.9-14.3-24.4-17.2l-7.8 31.3c-8 32-46.8 67.1-95.8 86-18.2 7-36.3 10.2-52.5 10z\" />\r\n        <g>\r\n          <path d=\"M130 125.6V151a7.5 7.5 0 0015 0v-25.5a7.5 7.5 0 00-15 0z\" />\r\n          <path d=\"M145.5 235.6a7.5 7.5 0 105-14.1C55.5 187.4 15 159.3 15 127.7c0-18.2 22.9-27.4 68-27.4 2 0 3.8-.7 5.1-2 16.2-13.6 30.1-19.7 44.9-19.7 28.1 0 44.5 19.8 53.4 36.5.7 1.4 1.9 2.5 3.3 3.2l44.8 21.8a7.5 7.5 0 106.5-13.5l-42.6-20.7c-15.4-27.7-38-42.3-65.4-42.3-22.8 0-40.7 11.9-52.7 21.7-24 .2-42 3-55 8.4C4.3 102.4 0 117 0 127.7c0 15.7 6.7 30.1 21.2 44.1 22 48.2 100 90.7 111.6 96.9l49.7 58.8-38.7 68.7h-24.3a7.5 7.5 0 000 15h60c10.2 0 19.7-5.6 25.2-15l31.6-53.3 2.2-4 19 8.1a47 47 0 001 29.6c3 7.7 8 14.3 14.8 19.6h-46.2a7.5 7.5 0 000 15h173.4L351 435.9a7.5 7.5 0 006.7 13.4l70.8-35.2a180.3 180.3 0 0068.3-59.5C513 330 517.8 307 510 291.1c-5.9-11.8-18.1-19.6-35.5-22.5a7.5 7.5 0 10-2.5 14.8c8.7 1.4 20 5.1 24.5 14.4 5.3 10.5.6 29.1-12.3 48.5a163.9 163.9 0 01-54.2 49.9H389c46.2-20.6 81.5-54.5 89.5-86.7a7.5 7.5 0 10-14.6-3.6c-7.3 29.7-44.9 63-91.2 80.8a123.5 123.5 0 01-64.9 8c-18-3.2-30.5-11.6-35.1-23.5-4.6-12-1-26.5 10.2-41 12-15.6 31-29 53.4-37.7 17.5-6.8 35.4-10 51.5-9.4-5 2-9.8 4.3-14.7 6.7-32 15.9-58.6 37.7-73.2 60a7.5 7.5 0 0012.5 8.2c13.2-20 37.8-40 67.4-54.8 22-11 44.5-18 65-20.2a7.5 7.5 0 00-1.7-14.9 176 176 0 00-22.4 4L404 234a104.5 104.5 0 00-50-52.3L266.4 139a7.5 7.5 0 00-6.5 13.5l87.4 42.5a89.5 89.5 0 0142.9 44.9l13 29.8c-21.7-3.8-47.6-.8-72.4 8.8-25 9.7-46.3 24.8-60 42.5-3 4-5.6 8-7.8 12.1l-20.1-8.6c.9-8.7-1.7-16.8-7.8-24.7l-28-36.2a7.5 7.5 0 00-11.8 9.1l28 36.3c6.4 8.3 6.4 15.7.1 26.3l-31.6 53.3a14.6 14.6 0 01-12.3 7.6H161l37.1-65.9a7.5 7.5 0 00-.8-8.5l-54-64a7.5 7.5 0 00-2.3-1.7c-.6-.4-48.5-25.2-81.1-57.2 21.8 11.9 50 24 85.6 36.7z\" />\r\n        </g>\r\n      </Svg>\r\n    </DivCircle>\r\n  );\r\n};\r\n\r\nexport default LogoSvg;\r\n","import styled from 'styled-components';\r\nimport LogoSvg from './LogoSvg';\r\n\r\nconst Div = styled.div`\r\n  display: flex;\r\n  height: 48px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  padding-right: 8px;\r\n`;\r\n\r\nconst Ribbit = styled.span`\r\n  font-size: 24px;\r\n  font-family: 'Quicksand';\r\n  color: ${({ theme }) => theme.gray0};\r\n  padding-left: 0.5rem;\r\n  ${({ theme }) => theme.laptop} {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst Logo = () => {\r\n  return (\r\n    <Div>\r\n      <LogoSvg />\r\n      <Ribbit>ribbit</Ribbit>\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","const UfoIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 20 20\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M15 9.9V8A5 5 0 005 8v1.9c-2.4.5-4 1.2-4 2.1 0 1.4 4 2.6 9 2.6s9-1.2 9-2.6c0-.9-1.6-1.7-4-2.1zm-2 1a9.6 9.6 0 01-3 .3 9.6 9.6 0 01-3-.4V8a3 3 0 016 0zM2.7 14.6l3 2.1a7.4 7.4 0 008.6 0l3-2.1a24.6 24.6 0 01-7.2 1 24.6 24.6 0 01-7.4-1z\" />\r\n      <circle cx=\"16\" cy=\"4\" r=\"4\" fill=\"none\" />\r\n      <circle cx=\"16\" cy=\"4\" r=\"3\" fill=\"none\" />\r\n    </svg>\r\n  );\r\n};\r\nexport default UfoIcon;\r\n","const PopularIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 20 20\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M12.5 3.5H20V11l-2.5-2.5-6.25 6.25L7.5 11l-5 5L0 13.5 7.5 6l3.75 3.75L15 6z\" />\r\n    </svg>\r\n  );\r\n};\r\nexport default PopularIcon;\r\n","const TopListIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 20 20\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M4.78 5.15h-.63V2H3.09a1 1 0 01-.73.25V3a1.84 1.84 0 00.7-.17v2.32h-.71V6h2.43zM3.62 8.88c.25 0 .39.12.39.35s-.17.41-.77.78c-1 .63-1.15 1.21-1.15 1.78V12H5v-.85H3.31c.06-.16.22-.35.72-.64.81-.43 1-.87 1-1.32C5 8.47 4.58 8 3.65 8a1.76 1.76 0 00-1.57 1l.72.52a1.07 1.07 0 01.82-.64zM4.43 15.87a.82.82 0 00.57-.82C5 14.4 4.53 14 3.65 14a2.15 2.15 0 00-1.51.61l.55.64a1.24 1.24 0 01.88-.39c.27 0 .41.12.41.32s-.15.38-.67.38H3v.72h.31c.53 0 .76.13.76.46s-.15.42-.57.42a1.05 1.05 0 01-.85-.5l-.65.55a1.83 1.83 0 001.57.79c.94 0 1.55-.43 1.55-1.24a.87.87 0 00-.69-.89zM17 9H8a1 1 0 000 2h9a1 1 0 000-2zM17 15H8a1 1 0 000 2h9a1 1 0 000-2zM8 5h9a1 1 0 000-2H8a1 1 0 000 2z\" />\r\n    </svg>\r\n  );\r\n};\r\nexport default TopListIcon;\r\n","const CogIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 20 20\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path\r\n        d=\"M7.03 10a2.97 2.97 0 115.95 0 2.97 2.97 0 01-5.95 0m9.37-1.5a6.52 6.52 0 00-.8-1.96l.92-1.47a1.15 1.15 0 00-1.59-1.6l-1.47.94a6.49 6.49 0 00-1.95-.81l-.38-1.7a1.15 1.15 0 00-2.26 0L8.5 3.6c-.7.16-1.35.44-1.95.8l-1.47-.92a1.15 1.15 0 00-1.6 1.59l.94 1.47c-.37.6-.65 1.25-.81 1.95l-1.7.38a1.15 1.15 0 000 2.26l1.7.38c.16.7.44 1.35.8 1.95l-.92 1.47a1.15 1.15 0 001.59 1.6l1.47-.94c.6.37 1.25.65 1.95.81l.38 1.7a1.15 1.15 0 002.26 0l.38-1.7c.7-.16 1.35-.44 1.95-.8l1.47.92a1.15 1.15 0 001.6-1.59l-.94-1.47c.37-.6.65-1.25.81-1.95l1.7-.38a1.15 1.15 0 000-2.26l-1.7-.38z\"\r\n        fill=\"inherit\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CogIcon;\r\n","const MessageIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 20 20\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M7.79 9.16L2.48 3.85a2.49 2.49 0 011.27-.35h12.5a2.49 2.49 0 011.27.35l-5.31 5.31a3.13 3.13 0 01-4.42 0z\" />\r\n      <path d=\"M13.09 10.31L18.4 5a2.47 2.47 0 01.35 1.27v7.5a2.5 2.5 0 01-2.5 2.5H3.75a2.5 2.5 0 01-2.5-2.5v-7.5A2.47 2.47 0 011.6 5l5.31 5.31a4.37 4.37 0 006.18 0z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default MessageIcon;\r\n","const CreateIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 20 20\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M5 15a1 1 0 01-1-1v-2.83a1 1 0 01.29-.7l8.09-8.09a1 1 0 011.41 0l2.83 2.83a1 1 0 010 1.41l-8.08 8.09a1 1 0 01-.71.29zm12 1a1 1 0 010 2H3a1 1 0 010-2z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CreateIcon;\r\n","import { Link } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport UfoIcon from '../../../icons/UfoIcon';\r\nimport PopularIcon from '../../../icons/PopularIcon';\r\nimport GraphUpIcon from '../../../icons/GraphUpIcon';\r\nimport TopListIcon from '../../../icons/TopListIcon';\r\nimport CogIcon from '../../../icons/CogIcon';\r\nimport MessageIcon from '../../../icons/MessageIcon';\r\nimport CreateIcon from '../../../icons/CreateIcon';\r\n\r\nconst Items = styled.div`\r\n  width: 270px;\r\n  min-height: 100px;\r\n  position: absolute;\r\n  top: 34px;\r\n  padding-bottom: 16px;\r\n\r\n  ${({ theme }) =>\r\n    css`\r\n      border: 1px solid ${theme.postBorder};\r\n      background: ${theme.gray4};\r\n    `}\r\n  border-top: none;\r\n  border-radius: 0 0 4px 4px;\r\n`;\r\n\r\nconst H3 = styled.h3`\r\n  padding: 16px 32px 8px;\r\n  font-weight: 400;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray2};\r\n      font-size: ${theme.fontSmallX};\r\n    `};\r\n`;\r\n\r\nconst LinkItem = styled.div`\r\n  padding: 8px 24px;\r\n  height: 36px;\r\n  font-weight: 400;\r\n  display: flex;\r\n  align-items: center;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      font-size: ${theme.fontMed};\r\n      :hover {\r\n        background: ${theme.gray3};\r\n      }\r\n    `};\r\n`;\r\n\r\nconst Icon = styled.div`\r\n  height: 20px;\r\n  color: ${({ theme }) => theme.sec2};\r\n`;\r\n\r\nconst ItemText = styled.span`\r\n  margin-left: 8px;\r\n`;\r\n\r\nconst NavMenuItems = () => {\r\n  return (\r\n    <Items>\r\n      <H3>RIBBIT FEEDS</H3>\r\n      {redditFeeds.map((item, i) => (\r\n        <Link to={item.link} key={i}>\r\n          <LinkItem>\r\n            <Icon>\r\n              <item.icon />\r\n            </Icon>\r\n            <ItemText>{item.text}</ItemText>\r\n          </LinkItem>\r\n        </Link>\r\n      ))}\r\n      <H3>OTHER</H3>\r\n      {other.map((item, i) => (\r\n        <Link to={item.link} key={i}>\r\n          <LinkItem>\r\n            <Icon>\r\n              <item.icon />\r\n            </Icon>\r\n            <ItemText>{item.text}</ItemText>\r\n          </LinkItem>\r\n        </Link>\r\n      ))}\r\n    </Items>\r\n  );\r\n};\r\n\r\nconst redditFeeds = [\r\n  {\r\n    link: '/',\r\n    icon: UfoIcon,\r\n    text: 'Home',\r\n  },\r\n  {\r\n    link: '/',\r\n    icon: PopularIcon,\r\n    text: 'Popular',\r\n  },\r\n  {\r\n    link: '/',\r\n    icon: GraphUpIcon,\r\n    text: 'All',\r\n  },\r\n  {\r\n    link: '/',\r\n    icon: TopListIcon,\r\n    text: 'Top Communities',\r\n  },\r\n];\r\n\r\nconst other = [\r\n  {\r\n    link: '/',\r\n    icon: CogIcon,\r\n    text: 'User Settings',\r\n  },\r\n  {\r\n    link: '/',\r\n    icon: MessageIcon,\r\n    text: 'Messages',\r\n  },\r\n  {\r\n    link: '/subribbits/create',\r\n    icon: CreateIcon,\r\n    text: 'Create Community',\r\n  },\r\n];\r\n\r\nexport default NavMenuItems;\r\n","import styled, { css } from 'styled-components';\r\nimport ChevBotIcon from '../../../icons/ChevBotIcon';\r\nimport NavMenuItems from './NavMenuItems';\r\nimport useVisible from '../../../hooks/useVisible';\r\nimport { useSelector } from 'react-redux';\r\nimport UfoIcon from '../../../icons/UfoIcon';\r\nimport { useLocation } from 'react-router-dom';\r\nimport CreateIcon from '../../../icons/CreateIcon';\r\nimport MessageIcon from '../../../icons/MessageIcon';\r\nimport CogIcon from '../../../icons/CogIcon';\r\nimport PopularIcon from '../../../icons/PopularIcon';\r\nimport GraphUpIcon from '../../../icons/GraphUpIcon';\r\n\r\nconst Div = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  width: 270px;\r\n  background: transparent;\r\n  height: 36px;\r\n  padding: 0 15px;\r\n  border: 1px solid transparent;\r\n  border-radius: 4px;\r\n  outline: none;\r\n  cursor: pointer;\r\n\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  ${(props) =>\r\n    css`\r\n      color: ${props.theme.gray0};\r\n      border-color: ${props.expanded ? props.theme.postBorder : 'transparent'};\r\n      :hover {\r\n        border-color: ${props.theme.postBorder};\r\n      }\r\n      ${props.theme.tablet} {\r\n        max-width: 100px;\r\n        padding: 0;\r\n      }\r\n    `}\r\n`;\r\n\r\nconst Text = styled.h2`\r\n  font-weight: 600;\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontMed};\r\n      ${theme.tablet} {\r\n        width: 60px;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n      }\r\n    `};\r\n`;\r\n\r\nconst ChevBot = styled.div`\r\n  height: 20px;\r\n  color: ${({ theme }) => theme.gray2};\r\n`;\r\n\r\nconst Left = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst Icon = styled.div`\r\n  height: 22px;\r\n  margin-right: 8px;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.sec2};\r\n      ${theme.tablet} {\r\n        margin-right: 0;\r\n      }\r\n    `};\r\n`;\r\n\r\nconst NavMenu = () => {\r\n  const location = useLocation();\r\n  const user = useSelector((state) => state.user);\r\n  const [expanded, setExpanded, refVisible] = useVisible();\r\n  const display = getPathsDisplay(location.pathname, user.username);\r\n\r\n  return (\r\n    <Div ref={refVisible}>\r\n      <Button\r\n        type=\"button\"\r\n        expanded={expanded}\r\n        onClick={() => setExpanded(!expanded)}\r\n      >\r\n        <Left>\r\n          {display.icon && (\r\n            <Icon>\r\n              <display.icon />\r\n            </Icon>\r\n          )}\r\n          <Text>{display.text}</Text>\r\n        </Left>\r\n        <ChevBot>\r\n          <ChevBotIcon />\r\n        </ChevBot>\r\n      </Button>\r\n      {expanded && <NavMenuItems />}\r\n    </Div>\r\n  );\r\n};\r\n\r\nconst getPathsDisplay = (currPath, username) =>\r\n  [\r\n    {\r\n      path: '/r/popular',\r\n      icon: PopularIcon,\r\n      text: 'Popular',\r\n    },\r\n    {\r\n      path: '/r/all',\r\n      icon: GraphUpIcon,\r\n      text: 'All',\r\n    },\r\n    {\r\n      path: '/messages/inbox',\r\n      icon: MessageIcon,\r\n      text: 'Messages',\r\n    },\r\n    {\r\n      path: '/subribbits/create',\r\n      icon: CreateIcon,\r\n      text: 'Create Community',\r\n    },\r\n    {\r\n      path: `/user/${username}`,\r\n      text: `u/${username}`,\r\n    },\r\n    {\r\n      path: `/r/`,\r\n      text: `r/${currPath.split('/')[2]}`,\r\n    },\r\n    {\r\n      path: '/submit',\r\n      icon: CreateIcon,\r\n      text: `Create Post`,\r\n    },\r\n    {\r\n      path: '/settings',\r\n      icon: CogIcon,\r\n      text: 'User Settings',\r\n    },\r\n    {\r\n      path: '/',\r\n      icon: UfoIcon,\r\n      text: 'Home',\r\n    },\r\n  ].find((opt) => currPath.startsWith(opt.path));\r\n\r\nexport default NavMenu;\r\n","const SearchIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 20 20\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M15.6 14l2.8 2.6a1.3 1.3 0 11-1.8 1.8l-2.8-2.7a8 8 0 111.8-1.8zm-1-4.8a5.5 5.5 0 10-5.4 5.4 5.5 5.5 0 005.4-5.4z\" />\r\n    </svg>\r\n  );\r\n};\r\nexport default SearchIcon;\r\n","import { useState } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport SearchIcon from '../../../icons/SearchIcon';\r\n\r\nconst Div = styled.div`\r\n  margin: 0 16px;\r\n  width: 100%;\r\n  position: relative;\r\n  ${({ theme }) => theme.mobileL} {\r\n    margin: 0 0 0 8px;\r\n  }\r\n`;\r\n\r\nconst Input = styled.input`\r\n  border-radius: 4px;\r\n  padding: 0 16px 0px 40px;\r\n  width: 100%;\r\n  height: 36px;\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontMed};\r\n      color: ${theme.gray0};\r\n      background: ${theme.gray3};\r\n      border: 1px solid ${theme.postBorder};\r\n    `}\r\n`;\r\n\r\nconst Icon = styled.div`\r\n  height: 20px;\r\n  position: absolute;\r\n  top: 8px;\r\n  left: 14px;\r\n  color: ${({ theme }) => theme.gray2};\r\n`;\r\n\r\nconst Search = () => {\r\n  const [query, setQuery] = useState('');\r\n\r\n  return (\r\n    <Div>\r\n      <Icon>\r\n        <SearchIcon />\r\n      </Icon>\r\n      <Input\r\n        value={query}\r\n        onChange={(e) => setQuery(e.target.value)}\r\n        placeholder=\"Search\"\r\n      />\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { Link } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport CreateIcon from '../../../icons/CreateIcon';\r\nimport GraphUpIcon from '../../../icons/GraphUpIcon';\r\nimport MessageIcon from '../../../icons/MessageIcon';\r\nimport PopularIcon from '../../../icons/PopularIcon';\r\n\r\nconst Div = styled.div`\r\n  height: 48px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst LinkItem = styled.a`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 2px;\r\n  margin-left: 8px;\r\n  :first-child {\r\n    margin-left: 0px;\r\n  }\r\n\r\n  width: 32px;\r\n  height: 32px;\r\n  padding: 8px;\r\n\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      :hover {\r\n        background: ${theme.gray3};\r\n      }\r\n      ${theme.tablet} {\r\n        :first-child {\r\n          display: none;\r\n        }\r\n      }\r\n      ${theme.tabletS} {\r\n        display: none;\r\n      }\r\n    `}\r\n`;\r\n\r\nconst Icon = styled.div`\r\n  height: 16px;\r\n`;\r\n\r\nconst NavList = () => {\r\n  return (\r\n    <Div>\r\n      {items.map((item, i) => (\r\n        <Link to={item.link} component={LinkItem} key={i}>\r\n          <Icon>\r\n            <item.icon />\r\n          </Icon>\r\n        </Link>\r\n      ))}\r\n    </Div>\r\n  );\r\n};\r\n\r\nconst items = [\r\n  {\r\n    link: '/',\r\n    icon: PopularIcon,\r\n  },\r\n  {\r\n    link: '/',\r\n    icon: GraphUpIcon,\r\n  },\r\n  {\r\n    link: '/',\r\n    icon: MessageIcon,\r\n  },\r\n  {\r\n    link: '/submit',\r\n    icon: CreateIcon,\r\n  },\r\n];\r\n\r\nexport default NavList;\r\n","const KarmaIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 20 20\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M3.37 2.75a5.9 5.9 0 015.49 3.7.62.62 0 01-.29.79 3.16 3.16 0 00-1.33 1.33.63.63 0 01-.79.29 5.89 5.89 0 01-3.7-5.49.62.62 0 01.62-.62zm8.06 4.49a.63.63 0 01-.29-.79 5.89 5.89 0 015.49-3.7.61.61 0 01.62.6 5.89 5.89 0 01-3.7 5.49.62.62 0 01-.79-.29 3.16 3.16 0 00-1.33-1.31zm2.12 3.9a5.89 5.89 0 013.7 5.49.62.62 0 01-.62.62 5.89 5.89 0 01-5.49-3.7.63.63 0 01.29-.79 3.16 3.16 0 001.33-1.33.62.62 0 01.79-.29zm-5 1.62a.62.62 0 01.29.79 5.89 5.89 0 01-5.49 3.7.62.62 0 01-.62-.62 5.9 5.9 0 013.7-5.49.62.62 0 01.79.29 3.1 3.1 0 001.35 1.33zM10 5.93a7.23 7.23 0 00-2.49-3.11A5 5 0 019.68.09a.61.61 0 01.64 0 5 5 0 012.17 2.73A7.23 7.23 0 0010 5.93zm9.91 3.75a.61.61 0 010 .64 5 5 0 01-2.73 2.17A7.23 7.23 0 0014.07 10a7.36 7.36 0 003.11-2.49 5 5 0 012.73 2.17zM10 14.07a7.18 7.18 0 002.5 3.11 5 5 0 01-2.18 2.73.61.61 0 01-.64 0 5 5 0 01-2.17-2.73A7.23 7.23 0 0010 14.07zM5.93 10a7.23 7.23 0 00-3.11 2.49 5 5 0 01-2.73-2.17.61.61 0 010-.64 5 5 0 012.73-2.17A7.23 7.23 0 005.93 10z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default KarmaIcon;\r\n","const ProfileIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 20 20\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path\r\n        fill=\"inherit\"\r\n        d=\"M15 15.5H5a.5.5 0 01-.5-.5 4 4 0 014-4h3a4 4 0 014 4c0 .3-.2.5-.5.5m-5-11a2.5 2.5 0 110 5.1 2.5 2.5 0 010-5.1M16 2H4a2 2 0 00-2 2v12c0 1.1.9 2 2 2h12a2 2 0 002-2V4a2 2 0 00-2-2\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\nexport default ProfileIcon;\r\n","const LogoutIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 20 20\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path\r\n        fill=\"inherit\"\r\n        d=\"M15 2H5a1 1 0 00-1 1v6h5.6L8.3 7.7a1 1 0 111.4-1.4l3 3c.4.4.4 1 0 1.4l-3 3a1 1 0 01-1.4 0 1 1 0 010-1.4L9.6 11H4v6c0 .6.4 1 1 1h10c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default LogoutIcon;\r\n","import { Link, useHistory } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport ProfileIcon from '../../../icons/ProfileIcon';\r\nimport CogIcon from '../../../icons/CogIcon';\r\nimport LogoutIcon from '../../../icons/LogoutIcon';\r\nimport { useDispatch } from 'react-redux';\r\nimport { logoutUser } from '../../../store/actions/user';\r\n\r\nconst Div = styled.div`\r\n  position: absolute;\r\n  width: 215px;\r\n  position: absolute;\r\n  top: 38px;\r\n  border-radius: 0 0 4px 4px;\r\n  right: 0;\r\n  ${({ theme }) =>\r\n    css`\r\n      background: ${theme.gray4};\r\n      border: 1px solid ${theme.postBorder};\r\n      border-top: none;\r\n    `}\r\n`;\r\n\r\nconst H3 = styled.h3`\r\n  margin: 8px 12px 4px;\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontSmallX};\r\n      color: ${theme.gray2};\r\n    `};\r\n`;\r\n\r\nconst ListItem = styled.div`\r\n  display: flex;\r\n  padding: 10px 16px 10px 48px;\r\n  position: relative;\r\n  font-weight: 500;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      font-size: ${theme.fontMed};\r\n      :hover {\r\n        background: ${theme.gray3};\r\n      }\r\n    `};\r\n`;\r\n\r\nconst Icon = styled.div`\r\n  color: ${({ theme }) => theme.gray2};\r\n  height: 20px;\r\n  position: absolute;\r\n  left: 16px;\r\n  top: 10px;\r\n`;\r\n\r\nconst ListItemButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  width: 100%;\r\n  position: relative;\r\n  ::before {\r\n    content: '';\r\n    position: absolute;\r\n    background: ${({ theme }) => theme.postBorder};\r\n    top: 0px;\r\n    left: 17px;\r\n    height: 1px;\r\n    width: 180px;\r\n  }\r\n`;\r\n\r\nconst ProfileMenuList = ({ user, showUserForm }) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleLogout = () => {\r\n    dispatch(logoutUser());\r\n    history.push('/');\r\n  };\r\n\r\n  return (\r\n    <Div>\r\n      {user ? (\r\n        <>\r\n          <H3>MY STUFF</H3>\r\n          {items.map((item, i) => (\r\n            <Link to={item.link} key={i}>\r\n              <ListItem>\r\n                <Icon>\r\n                  <item.icon />\r\n                </Icon>\r\n                {item.text}\r\n              </ListItem>\r\n            </Link>\r\n          ))}\r\n          <ListItemButton onClick={handleLogout}>\r\n            <ListItem>\r\n              <Icon>\r\n                <LogoutIcon />\r\n              </Icon>\r\n              Log Out\r\n            </ListItem>\r\n          </ListItemButton>\r\n        </>\r\n      ) : (\r\n        <ListItemButton onClick={() => showUserForm('login')}>\r\n          <ListItem>\r\n            <Icon>\r\n              <LogoutIcon />\r\n            </Icon>\r\n            Log In / Sign Up\r\n          </ListItem>\r\n        </ListItemButton>\r\n      )}\r\n    </Div>\r\n  );\r\n};\r\n\r\nconst items = [\r\n  {\r\n    text: 'My Profile',\r\n    icon: ProfileIcon,\r\n    link: '',\r\n  },\r\n  {\r\n    text: 'User Settings',\r\n    icon: CogIcon,\r\n    link: '',\r\n  },\r\n];\r\n\r\nexport default ProfileMenuList;\r\n","import { useSelector } from 'react-redux';\r\nimport styled, { css } from 'styled-components';\r\nimport useVisible from '../../../hooks/useVisible';\r\nimport ChevBotIcon from '../../../icons/ChevBotIcon';\r\nimport KarmaIcon from '../../../icons/KarmaIcon';\r\nimport ProfileIcon from '../../../icons/ProfileIcon';\r\nimport ProfileMenuList from './ProfileMenuList';\r\n\r\nconst Div = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  height: 40px;\r\n  background: transparent;\r\n  margin-left: 8px;\r\n  padding: 0 8px;\r\n  border-radius: 4px;\r\n  outline: none;\r\n\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  ${(props) =>\r\n    css`\r\n      border: 1px solid\r\n        ${props.expanded ? props.theme.postBorder : 'transparent'};\r\n\r\n      :hover {\r\n        border-color: ${props.theme.postBorder};\r\n      }\r\n    `}\r\n`;\r\n\r\nconst ChevBot = styled.div`\r\n  height: 20px;\r\n  color: ${({ theme }) => theme.gray2};\r\n`;\r\n\r\nconst LeftSide = styled.div`\r\n  width: 177px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n\r\n  ${({ theme }) => theme.laptop} {\r\n    max-width: 60px;\r\n  }\r\n`;\r\n\r\nconst Name = styled.span`\r\n  width: 100%;\r\n  font-weight: 600;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  text-align: left;\r\n\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      font-size: ${theme.fontSmall};\r\n    `};\r\n`;\r\n\r\nconst Karma = styled.span`\r\n  font-family: 'IBM Plex Sans';\r\n  font-weight: 600;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray1};\r\n      font-size: ${theme.fontSmall};\r\n      ${theme.laptop} {\r\n        display: none;\r\n      }\r\n    `};\r\n`;\r\n\r\nconst IconKarma = styled.div`\r\n  display: inline-block;\r\n  height: 10px;\r\n  margin-right: 2px;\r\n  color: ${({ theme }) => theme.prim2};\r\n`;\r\n\r\nconst IconProfile = styled.div`\r\n  height: 24px;\r\n  color: ${({ theme }) => theme.gray2};\r\n`;\r\n\r\nconst ProfileMenu = ({ showUserForm }) => {\r\n  const user = useSelector((state) => state.user);\r\n  const [expanded, setExpanded, refVisible] = useVisible(false);\r\n\r\n  return (\r\n    <Div ref={refVisible}>\r\n      <Button expanded={expanded} onClick={() => setExpanded(!expanded)}>\r\n        {user ? (\r\n          <LeftSide>\r\n            <Name>{user.username}</Name>\r\n            <Karma>\r\n              <IconKarma>\r\n                <KarmaIcon />\r\n              </IconKarma>\r\n              {user.karma || 0} karma\r\n            </Karma>\r\n          </LeftSide>\r\n        ) : (\r\n          <IconProfile>\r\n            <ProfileIcon />\r\n          </IconProfile>\r\n        )}\r\n        <ChevBot>\r\n          <ChevBotIcon />\r\n        </ChevBot>\r\n      </Button>\r\n      {expanded && <ProfileMenuList user={user} showUserForm={showUserForm} />}\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default ProfileMenu;\r\n","import styled from 'styled-components';\r\nimport Button from '../../reusable/Button';\r\nimport Button2 from '../../reusable/Button2';\r\n\r\nconst Div = styled.div`\r\n  display: flex;\r\n  ${({ theme }) => theme.tabletS} {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst LoginBtn = styled(Button2)`\r\n  width: 120px;\r\n  padding: 3px 16px;\r\n`;\r\n\r\nconst SignupBtn = styled(Button)`\r\n  width: 120px;\r\n  padding: 3px 16px;\r\n  margin-left: 16px;\r\n`;\r\n\r\nconst SignLog = ({ showUserForm }) => {\r\n  return (\r\n    <Div>\r\n      <LoginBtn onClick={() => showUserForm('login')}>LOG IN</LoginBtn>\r\n      <SignupBtn onClick={() => showUserForm('signup')}>SIGN UP</SignupBtn>\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default SignLog;\r\n","import styled, { css } from 'styled-components';\r\nimport Logo from './Logo/Logo';\r\nimport { Link } from 'react-router-dom';\r\nimport NavMenu from './NavMenu/NavMenu';\r\nimport Search from './Search/Search';\r\nimport NavList from './NavList/NavList';\r\nimport ProfileMenu from './ProfileMenu/ProfileMenu';\r\nimport SignLog from './SignLog.js/SignLog';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Nav = styled.nav`\r\n  width: 100%;\r\n  height: 49px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 100;\r\n\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      background-color: ${theme.gray4};\r\n      border-bottom: 1px solid ${theme.postBorder};\r\n      ${theme.mobileL} {\r\n        padding: 0 10px;\r\n      }\r\n    `}\r\n`;\r\n\r\nconst Navbar = ({ showUserForm }) => {\r\n  const user = useSelector((state) => state.user);\r\n\r\n  return (\r\n    <Nav>\r\n      <Link to=\"/\">\r\n        <Logo />\r\n      </Link>\r\n      {user && <NavMenu />}\r\n      <Search />\r\n      {user ? <NavList /> : <SignLog showUserForm={showUserForm} />}\r\n      <ProfileMenu showUserForm={showUserForm} />\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { useEffect, useState } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport subribbitService from '../../services/subribbitService';\r\n\r\nconst SubDropdown = styled.div`\r\n  position: relative;\r\n  width: 200px;\r\n`;\r\n\r\nconst SubInput = styled.input`\r\n  margin-bottom: 8px;\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  font-weight: 600;\r\n  outline: none;\r\n  ${({ theme }) =>\r\n    css`\r\n      ${theme.box()}\r\n      color: ${theme.gray0};\r\n      font-size: ${theme.fontMed};\r\n      ::placeholder {\r\n        color: ${theme.gray0};\r\n      }\r\n    `}\r\n`;\r\n\r\nconst SubList = styled.div`\r\n  position: absolute;\r\n  ${({ theme }) => theme.box()}\r\n  border-top: none;\r\n  border-radius: 0 0 4px 4px;\r\n  top: 34px;\r\n  width: 100%;\r\n`;\r\n\r\nconst SubItem = styled.button`\r\n  background: none;\r\n  border: none;\r\n  color: inherit;\r\n  font-weight: 600;\r\n  padding: 8px;\r\n  width: 100%;\r\n  text-align: left;\r\n  cursor: pointer;\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontMed};\r\n      :hover {\r\n        background: ${theme.gray3};\r\n      }\r\n    `}\r\n`;\r\n\r\nconst Members = styled.span`\r\n  display: block;\r\n  font-weight: 400;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray2};\r\n      font-size: ${theme.fontSmall};\r\n    `}\r\n`;\r\n\r\nconst SubError = styled.p`\r\n  color: red;\r\n  font-size: ${({ theme }) => theme.fontMed};\r\n  margin: 0 0 8px 8px;\r\n`;\r\n\r\nconst SubribbitFinder = ({ sub, setSub, error }) => {\r\n  const [subs, setSubs] = useState([]);\r\n  const [subsExpanded, setSubsExpanded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const timeoutId = setTimeout(() => {\r\n      subribbitService.getSimilar(sub.trim()).then((res) => {\r\n        setSubs(res || []);\r\n      });\r\n    }, 800);\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [sub]);\r\n\r\n  return (\r\n    <>\r\n      <SubDropdown>\r\n        <SubInput\r\n          onFocus={() => setSubsExpanded(true)}\r\n          onBlur={() => setSubsExpanded(false)}\r\n          value={sub}\r\n          onChange={(e) => setSub(`${e.target.value}`)}\r\n          placeholder=\"Choose a community\"\r\n          maxLength=\"20\"\r\n        />\r\n        {subsExpanded && (\r\n          <SubList>\r\n            {subs.map((sub) => (\r\n              <SubItem\r\n                type=\"button\"\r\n                onMouseDown={() => setSub(sub.name)}\r\n                key={sub.name}\r\n              >\r\n                {sub.name}\r\n                <Members>{sub.memberCount} members</Members>\r\n              </SubItem>\r\n            ))}\r\n          </SubList>\r\n        )}\r\n      </SubDropdown>\r\n      <SubError>{error}</SubError>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SubribbitFinder;\r\n","import { useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport postService from '../../services/postService';\r\nimport Button from '../reusable/Button';\r\nimport SubribbitFinder from './SubribbitFinder';\r\n\r\nconst Container = styled.div`\r\n  padding: 20px 24px;\r\n  margin: 0 auto;\r\n  height: 100px;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n    `};\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-weight: 600;\r\n  padding-bottom: 12px;\r\n  margin-bottom: 12px;\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontLargeX};\r\n      border-bottom: 1px solid ${theme.postBorder};\r\n    `};\r\n`;\r\n\r\nconst InnerDiv = styled.div`\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  padding: 12px;\r\n  background: ${({ theme }) => theme.gray4};\r\n`;\r\n\r\nconst InputText = styled.input`\r\n  padding: 8px 68px 8px 16px;\r\n  width: 100%;\r\n  background: none;\r\n  margin-bottom: 8px;\r\n  border-radius: 4px;\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontMed};\r\n      color: ${theme.gray0};\r\n      border: 1px solid ${theme.postBorder};\r\n    `};\r\n`;\r\n\r\nconst Textarea = styled.textarea`\r\n  padding: 8px 16px;\r\n  min-height: 100px;\r\n  width: 100%;\r\n  background: none;\r\n  border-radius: 4px;\r\n  resize: vertical;\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontMed};\r\n      color: ${theme.gray0};\r\n      border: 1px solid ${theme.postBorder};\r\n    `};\r\n`;\r\n\r\nconst PostButton = styled(Button)`\r\n  margin-top: 8px;\r\n  padding: 4px 16px;\r\n  width: 82px;\r\n`;\r\n\r\nconst PostForm = () => {\r\n  const history = useHistory();\r\n  const subribbit = useParams().subribbit;\r\n\r\n  const [sub, setSub] = useState(subribbit || '');\r\n  const [title, setTitle] = useState('');\r\n  const [content, setContent] = useState('');\r\n\r\n  const [error, setError] = useState('');\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    postService.createOne({ sub, title, content }).then((res) => {\r\n      if (res.error) {\r\n        return setError(res.error);\r\n      }\r\n      history.push(`/r/${res.subribbit}/${res.id}`);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Form onSubmit={submitHandler}>\r\n        <Title>Create a post</Title>\r\n\r\n        <SubribbitFinder error={error} sub={sub} setSub={setSub} />\r\n\r\n        <InnerDiv>\r\n          <label>\r\n            <InputText\r\n              type=\"text\"\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              placeholder=\"Title\"\r\n              required\r\n            />\r\n          </label>\r\n          <label>\r\n            <Textarea\r\n              value={content}\r\n              onChange={(e) => setContent(e.target.value)}\r\n              placeholder=\"Text\"\r\n              required\r\n            ></Textarea>\r\n          </label>\r\n          <PostButton type=\"submit\">POST</PostButton>\r\n        </InnerDiv>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PostForm;\r\n","import axios from 'axios';\r\nimport { baseUrl } from './config';\r\n\r\nconst getByPost = async (post, token) => {\r\n  const resposne = await axios.get(`${baseUrl}/comments/${post}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return resposne.data;\r\n};\r\n\r\n// id can be a post or comment\r\nconst commentOn = async (id, comment, token) => {\r\n  const response = await axios.post(`${baseUrl}/comments/${id}`, comment, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nconst editOne = async (id, content, token) => {\r\n  const response = await axios.patch(`${baseUrl}/comments/${id}`, content, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nconst deleteOne = async (id, token) => {\r\n  const response = await axios.delete(`${baseUrl}/comments/${id}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nconst voteOn = async (id, isUpvote, token) => {\r\n  const response = await axios.post(\r\n    `${baseUrl}/comments/vote/${id}`,\r\n    { isUpvote },\r\n    { headers: { Authorization: `Bearer ${token}` } }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nconst commentService = {\r\n  getByPost,\r\n  commentOn,\r\n  editOne,\r\n  deleteOne,\r\n  voteOn,\r\n};\r\n\r\nexport default commentService;\r\n","import commentService from '../../services/commentService';\r\n\r\nexport const getComments = (id) => {\r\n  return async (dispatch) => {\r\n    const userJson = localStorage.getItem('user');\r\n\r\n    let token;\r\n    if (userJson) {\r\n      token = JSON.parse(userJson).token;\r\n    }\r\n    const comments = await commentService.getByPost(id, token);\r\n\r\n    dispatch({\r\n      type: 'GET_COMMENTS',\r\n      comments,\r\n    });\r\n  };\r\n};\r\n\r\nexport const sortComments = (sortBy) => {\r\n  return {\r\n    type: 'SORT_COMMENTS',\r\n    sortBy,\r\n  };\r\n};\r\n\r\nexport const addComment = (id, comment, parentComment) => {\r\n  return async (dispatch) => {\r\n    const userJson = localStorage.getItem('user');\r\n    if (!userJson) {\r\n      return;\r\n    }\r\n    const { username, token } = JSON.parse(userJson);\r\n    const newComment = await commentService.commentOn(\r\n      id,\r\n      { comment, parentComment },\r\n      token\r\n    );\r\n    dispatch({\r\n      type: 'ADD_COMMENT',\r\n      comment: { ...newComment, points: 0, username },\r\n    });\r\n  };\r\n};\r\n\r\nexport const editComment = (id, comment) => {\r\n  return async (dispatch) => {\r\n    const { username, token } = JSON.parse(localStorage.getItem('user'));\r\n    const newComment = await commentService.editOne(\r\n      id,\r\n      { comment, updatedAt: new Date().toISOString() },\r\n      token\r\n    );\r\n    dispatch({\r\n      type: 'EDIT_COMMENT',\r\n      comment: { ...newComment, username },\r\n    });\r\n  };\r\n};\r\n\r\nexport const deleteComment = (id) => {\r\n  return async (dispatch) => {\r\n    const { token } = JSON.parse(localStorage.getItem('user'));\r\n    commentService.deleteOne(id, token);\r\n    dispatch({\r\n      type: 'DELETE_COMMENT',\r\n      id,\r\n    });\r\n  };\r\n};\r\n\r\nexport const voteOnComment = (id, isUpvote, oldVote) => {\r\n  return async (dispatch) => {\r\n    const userJson = localStorage.getItem('user');\r\n    if (!userJson) {\r\n      return 'No user';\r\n    }\r\n    const { token } = JSON.parse(userJson);\r\n\r\n    commentService.voteOn(id, isUpvote, token);\r\n    dispatch({ type: 'VOTE_COMMENT', id, isUpvote, oldVote });\r\n  };\r\n};\r\n","import { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport { addComment } from '../../../store/actions/comments';\r\nimport Button from '../../reusable/Button';\r\nimport Button2 from '../../reusable/Button2';\r\n\r\nconst Div = styled.div`\r\n  margin: 24px 40px 24px 48px;\r\n`;\r\n\r\nconst Textarea = styled.textarea`\r\n  width: 100%;\r\n  resize: vertical;\r\n  min-height: 150px;\r\n  background: transparent;\r\n  border-radius: 2px 2px 0 0;\r\n  padding: 8px 16px;\r\n  ${({ theme }) =>\r\n    css`\r\n      border: 1px solid ${theme.postBorder};\r\n      color: ${theme.gray0};\r\n    `}\r\n  border-bottom: none;\r\n`;\r\n\r\nconst Bottom = styled.div`\r\n  border-radius: 0 0 2px 2px;\r\n  margin-top: -5px;\r\n  ${({ theme }) =>\r\n    css`\r\n      border: 1px solid ${theme.postBorder};\r\n      background: ${theme.gray3};\r\n    `}\r\n  border-top: 0;\r\n`;\r\n\r\nconst CommentButton = styled(Button)`\r\n  margin: 4px 8px;\r\n  padding: 5px 10px;\r\n  width: 96px;\r\n`;\r\n\r\nconst NoUserBox = styled.div`\r\n  ${({ theme }) => theme.box()};\r\n  border-radius: 4px;\r\n  padding: 12px 8px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst NoUserText = styled.span`\r\n  font-weight: 600;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray2};\r\n      font-size: ${theme.fontLarge};\r\n    `}\r\n`;\r\n\r\nconst LoginBtn = styled(Button2)`\r\n  padding: 3px 16px;\r\n  margin-right: 8px;\r\n`;\r\n\r\nconst SignupBtn = styled(Button)`\r\n  padding: 3px 16px;\r\n`;\r\n\r\nconst CommentInput = ({ showUserForm }) => {\r\n  const dispatch = useDispatch();\r\n  const { id } = useParams(); // post id\r\n  const user = useSelector((state) => state.user);\r\n  const [commentContent, setCommentContent] = useState('');\r\n\r\n  const commentHandler = () => {\r\n    dispatch(addComment(id, commentContent)).then((res) => {\r\n      setCommentContent('');\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Div>\r\n      {user ? (\r\n        <>\r\n          <Textarea\r\n            value={commentContent}\r\n            onChange={(e) => setCommentContent(e.target.value)}\r\n            placeholder=\"What are your thoughts?\"\r\n          ></Textarea>\r\n          <Bottom>\r\n            <CommentButton onClick={commentHandler}>COMMENT</CommentButton>\r\n          </Bottom>\r\n        </>\r\n      ) : (\r\n        <NoUserBox>\r\n          <NoUserText>Log in or sign up to leave a comment</NoUserText>\r\n          <div>\r\n            <LoginBtn onClick={() => showUserForm('login')}>LOG IN</LoginBtn>\r\n            <SignupBtn onClick={() => showUserForm('signup')}>\r\n              SIGN UP\r\n            </SignupBtn>\r\n          </div>\r\n        </NoUserBox>\r\n      )}\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default CommentInput;\r\n","import styled, { css } from 'styled-components';\r\nimport UpvoteIcon from '../../../../icons/UpvoteIcon';\r\nimport DownvoteIcon from '../../../../icons/DownvoteIcon';\r\n\r\nconst Div = styled.div`\r\n  padding: 0 2px;\r\n  width: 40px;\r\n  flex-shrink: 0;\r\n  text-align: center;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      :hover {\r\n        background: ${theme.gray3};\r\n      }\r\n    `}\r\n`;\r\n\r\nconst UpvoteBtn = styled(Button)`\r\n  outline: none;\r\n  ${(props) =>\r\n    css`\r\n      color: ${props.isUpvote ? props.theme.prim2 : props.theme.gray2};\r\n      :hover {\r\n        color: ${props.theme.prim1};\r\n      }\r\n    `}\r\n`;\r\n\r\nconst DownvoteBtn = styled(Button)`\r\n  outline: none;\r\n  ${(props) =>\r\n    css`\r\n      color: ${props.isUpvote ? props.theme.sec2 : props.theme.gray2};\r\n      :hover {\r\n        color: ${props.theme.sec2};\r\n      }\r\n    `}\r\n`;\r\n\r\nconst Icon = styled.div`\r\n  height: 26px;\r\n`;\r\n\r\nconst Voter = ({ isUpvote, voteHandler }) => {\r\n  return (\r\n    <Div>\r\n      <UpvoteBtn isUpvote={isUpvote === 1} onClick={() => voteHandler(1)}>\r\n        <Icon>\r\n          <UpvoteIcon />\r\n        </Icon>\r\n      </UpvoteBtn>\r\n      <DownvoteBtn isUpvote={isUpvote === -1} onClick={() => voteHandler(-1)}>\r\n        <Icon>\r\n          <DownvoteIcon />\r\n        </Icon>\r\n      </DownvoteBtn>\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default Voter;\r\n","import { useState } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport Button from '../../../reusable/Button';\r\nimport Button2 from '../../../reusable/Button2';\r\n\r\nconst Box = styled.div`\r\n  width: 100%;\r\n  min-height: 20px;\r\n  margin: 8px 0 16px 0;\r\n  padding-left: 22px;\r\n  border-left: 1px solid ${({ theme }) => theme.postBorder};\r\n`;\r\n\r\nconst Replyarea = styled.textarea`\r\n  width: 100%;\r\n  background: red;\r\n  padding: 8px 16px;\r\n  resize: vertical;\r\n  min-height: 100px;\r\n  border-radius: 4px 4px 0 0;\r\n  color: inherit;\r\n  ${({ theme }) =>\r\n    css`\r\n      ${theme.box()}\r\n      font-size: ${theme.fontMed};\r\n    `}\r\n\r\n  border-bottom: none;\r\n  display: block;\r\n`;\r\n\r\nconst ReplyBar = styled.div`\r\n  width: 100%;\r\n  border-radius: 0 0 4px 4px;\r\n  padding: 4px 8px;\r\n  ${({ theme }) =>\r\n    css`\r\n      ${theme.box()}\r\n      background: ${theme.gray3};\r\n    `}\r\n  border-top: none;\r\n`;\r\n\r\nconst ReplyBtn = styled(Button)`\r\n  padding: 3px 10px;\r\n  width: 96px;\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst CancelBtn = styled(Button2)`\r\n  padding: 3px 10px;\r\n  width: 96px;\r\n  border: none;\r\n`;\r\n\r\nconst ReplyEdit = ({ replyEditHandler, collapseReply, isReply, content }) => {\r\n  const [replyContent, setReplyContent] = useState(isReply ? '' : content);\r\n  return (\r\n    <Box>\r\n      <Replyarea\r\n        value={replyContent}\r\n        onChange={(e) => setReplyContent(e.target.value)}\r\n        placeholder=\"What are your thoughts?\"\r\n      ></Replyarea>\r\n      <ReplyBar>\r\n        <ReplyBtn onClick={() => replyEditHandler(replyContent)}>\r\n          {isReply ? 'REPLY' : 'SAVE EDITS'}\r\n        </ReplyBtn>\r\n        <CancelBtn onClick={collapseReply}>CANCEL</CancelBtn>\r\n      </ReplyBar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ReplyEdit;\r\n","import { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport CommentIcon from '../../../../icons/CommentIcon';\r\nimport {\r\n  addComment,\r\n  deleteComment,\r\n  editComment,\r\n} from '../../../../store/actions/comments';\r\nimport ElMenu from '../../../ElMenu/ElMenu';\r\nimport ReplyEdit from './ReplyEdit';\r\n\r\nconst Div = styled.div``;\r\n\r\nconst Icon = styled.div`\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  height: 14px;\r\n`;\r\n\r\nconst BottomItem = styled.button`\r\n  font-weight: 700;\r\n  background: none;\r\n  border: none;\r\n  padding: 4px;\r\n  border-radius: 2px;\r\n  cursor: pointer;\r\n  span {\r\n    margin-left: 4px;\r\n  }\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray2};\r\n      font-size: ${theme.fontSmall};\r\n      :hover {\r\n        background: ${theme.gray3};\r\n      }\r\n    `}\r\n`;\r\n\r\nconst Bottom = ({ commentId, isMyComment, content }) => {\r\n  const dispatch = useDispatch();\r\n  const { id } = useParams();\r\n  const [isReply, setIsReply] = useState(true);\r\n  const [replyEditExpanded, setReplyEditExpanded] = useState(false);\r\n\r\n  const replyEditHandler = (newContent) => {\r\n    if (isReply) {\r\n      dispatch(addComment(id, newContent, commentId)).then((res) => {\r\n        setReplyEditExpanded(false);\r\n      });\r\n    } else {\r\n      dispatch(editComment(commentId, newContent)).then((res) => {\r\n        setReplyEditExpanded(false);\r\n      });\r\n    }\r\n  };\r\n\r\n  const deleteHandler = () => {\r\n    dispatch(deleteComment(commentId)).then((res) => {\r\n      dispatch({ type: 'CLEAR_MODAL' });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Div>\r\n      <BottomItem\r\n        onClick={() => {\r\n          setReplyEditExpanded(!replyEditExpanded);\r\n          setIsReply(true);\r\n        }}\r\n      >\r\n        <Icon>\r\n          <CommentIcon />\r\n        </Icon>\r\n        <span>Reply</span>\r\n      </BottomItem>\r\n\r\n      {isMyComment && (\r\n        <ElMenu\r\n          items={[\r\n            {\r\n              text: 'Edit',\r\n              onClick: () => {\r\n                setIsReply(false);\r\n                setReplyEditExpanded(true);\r\n              },\r\n            },\r\n            {\r\n              text: 'Delete',\r\n              onClick: () =>\r\n                dispatch({\r\n                  type: 'SET_MODAL',\r\n                  title: 'Delete comment',\r\n                  msg: 'Are you sure you wanna delete your comment?',\r\n                  acceptBtn: 'DELETE',\r\n                  cancelBtn: 'KEEP',\r\n                  acceptHandler: deleteHandler,\r\n                }),\r\n            },\r\n          ]}\r\n        />\r\n      )}\r\n\r\n      {replyEditExpanded && (\r\n        <ReplyEdit\r\n          replyEditHandler={replyEditHandler}\r\n          collapseReply={() => setReplyEditExpanded(false)}\r\n          isReply={isReply}\r\n          content={content}\r\n        />\r\n      )}\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default Bottom;\r\n","import { Link } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport { formatDistance } from 'date-fns';\r\nimport Voter from './Voter';\r\nimport Bottom from './Bottom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Div = styled.div`\r\n  line-height: 21px;\r\n  margin-top: 16px;\r\n  display: flex;\r\n  width: 100%;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n    `}\r\n`;\r\n\r\nconst Top = styled.div`\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontSmall};\r\n    `}\r\n`;\r\n\r\nconst Poster = styled.span`\r\n  :hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\nconst Points = styled.span`\r\n  padding-left: 2px;\r\n  color: ${({ theme }) => theme.gray2};\r\n`;\r\n\r\nconst TimeAgo = styled.span`\r\n  color: ${({ theme }) => theme.gray2};\r\n`;\r\nconst TimeAgoEdit = styled(TimeAgo)`\r\n  font-style: italic;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  font-size: ${({ theme }) => theme.fontMed};\r\n`;\r\n\r\nconst P = styled.p`\r\n  padding: 8px 0 4px;\r\n  :first-child {\r\n    padding-top: 2px;\r\n  }\r\n  :last-child {\r\n    padding-bottom: 2px;\r\n  }\r\n`;\r\n\r\nconst Comment = ({ comment, currDate, voteHandler }) => {\r\n  const user = useSelector((state) => state.user);\r\n\r\n  return (\r\n    <Div>\r\n      <Voter isUpvote={comment.isUpvote} voteHandler={voteHandler} />\r\n      <Container>\r\n        <Top>\r\n          <Link to={`/user/${comment.username}`}>\r\n            <Poster>{comment.username}</Poster>\r\n          </Link>\r\n          <Points> {comment.points || 0} points</Points>\r\n          <TimeAgo>\r\n            {' '}\r\n             {formatDistance(new Date(comment.createdAt), currDate)} ago\r\n          </TimeAgo>\r\n          {comment.editedAt && (\r\n            <TimeAgoEdit>\r\n              {' '}\r\n               edited {formatDistance(\r\n                new Date(comment.editedAt),\r\n                currDate\r\n              )}{' '}\r\n              ago\r\n            </TimeAgoEdit>\r\n          )}\r\n        </Top>\r\n        <Content>\r\n          {comment.content.split('\\n').map((p, i) => (\r\n            <P key={i}>{p}</P>\r\n          ))}\r\n        </Content>\r\n        <Bottom\r\n          content={comment.content}\r\n          isMyComment={comment.creator === user?.id}\r\n          commentId={comment.id}\r\n        />\r\n      </Container>\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import styled from 'styled-components';\r\nimport Comment from './Comment';\r\n\r\nconst ChildComments = styled.div`\r\n  margin-left: 30px;\r\n  border-left: 2px solid ${({ theme }) => theme.gray3};\r\n  max-width: 100%;\r\n`;\r\n\r\nconst CommentGroup = ({ comments, comment, voteHandler, currDate }) => {\r\n  const childComments = comments.filter((c) => c.parentComment === comment.id);\r\n  return (\r\n    <>\r\n      <Comment\r\n        comment={comment}\r\n        comments={comments}\r\n        voteHandler={voteHandler(comment)}\r\n        currDate={currDate}\r\n      />\r\n      {childComments.length > 0 && (\r\n        <ChildComments>\r\n          {childComments.map((child) => (\r\n            <CommentGroup\r\n              comment={child}\r\n              comments={comments}\r\n              voteHandler={voteHandler}\r\n              currDate={currDate}\r\n              key={child.id}\r\n            />\r\n          ))}\r\n        </ChildComments>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CommentGroup;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { voteOnComment } from '../../../store/actions/comments';\r\nimport CommentGroup from './CommentGroup/CommentGroup';\r\n\r\nconst Div = styled.div`\r\n  margin: 16px 16px 0 10px;\r\n  padding: 0 16px 16px 0;\r\n`;\r\n\r\nconst CommentList = ({ currDate, showUserForm }) => {\r\n  const dispatch = useDispatch();\r\n  const comments = useSelector((state) => state.comments);\r\n\r\n  const voteHandler = (comment) => (isUpvote) => {\r\n    dispatch(voteOnComment(comment.id, isUpvote, comment.isUpvote)).then(\r\n      (res) => {\r\n        if (res === 'No user') {\r\n          showUserForm('login');\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Div>\r\n      {comments\r\n        .filter((c) => !c.parentComment)\r\n        .map((comment) => (\r\n          <CommentGroup\r\n            comment={comment}\r\n            comments={comments}\r\n            voteHandler={voteHandler}\r\n            currDate={currDate}\r\n            key={comment.id}\r\n          />\r\n        ))}\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default CommentList;\r\n","import { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport useQuery from '../../../hooks/useQuery';\r\nimport useVisible from '../../../hooks/useVisible';\r\nimport ChevBotIcon from '../../../icons/ChevBotIcon';\r\nimport { sortComments } from '../../../store/actions/comments';\r\n\r\nconst Sort = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 700;\r\n  margin: 16px 40px 0px 48px;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray2};\r\n      font-size: ${theme.fontSmallX};\r\n      border-bottom: 1px solid ${theme.postBorder};\r\n    `};\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: none;\r\n  height: 30px;\r\n  border: none;\r\n  font-weight: 700;\r\n  cursor: pointer;\r\n  margin-left: 8px;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.sec1};\r\n      font-size: ${theme.fontSmall};\r\n    `}\r\n`;\r\n\r\nconst Icon = styled.div`\r\n  display: inline-block;\r\n  height: 20px;\r\n  vertical-align: middle;\r\n  padding: 0 8px;\r\n`;\r\n\r\nconst SortList = styled.div`\r\n  position: absolute;\r\n  left: 50px;\r\n  top: 24px;\r\n  width: 100px;\r\n  border-radius: 4px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: ${({ theme }) => theme.gray4};\r\n`;\r\n\r\nconst SortChoice = styled.button`\r\n  color: blue;\r\n  padding: 8px;\r\n  background: none;\r\n  border: none;\r\n  text-align: left;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  ${(props) =>\r\n    css`\r\n      font-size: ${props.theme.fontMed};\r\n      color: ${props.isChosen ? props.theme.gray0 : props.theme.gray2};\r\n    `}\r\n`;\r\n\r\nconst Sorter = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const query = useQuery().get('sort');\r\n  const [sortBy, setSortBy] = useState(query || 'top');\r\n  const [expanded, setExpanded, expandedRef] = useVisible(false);\r\n\r\n  const sortChangeHandler = (param) => {\r\n    history.push(`?sort=${param.toLowerCase()}`);\r\n    setSortBy(param.toLowerCase());\r\n    setExpanded(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(sortComments(sortBy));\r\n  }, [sortBy, query, dispatch]);\r\n\r\n  return (\r\n    <Sort ref={expandedRef}>\r\n      <div>SORT BY</div>\r\n      <Button onClick={() => setExpanded(!expanded)}>\r\n        {sortBy.toUpperCase()}\r\n        <Icon>\r\n          <ChevBotIcon />\r\n        </Icon>\r\n      </Button>\r\n      {expanded && (\r\n        <SortList>\r\n          {choices.map((choice, i) => (\r\n            <SortChoice\r\n              onClick={() => sortChangeHandler(choice)}\r\n              isChosen={sortBy.toLowerCase() === choice.toLowerCase()}\r\n              key={i}\r\n            >\r\n              {choice}\r\n            </SortChoice>\r\n          ))}\r\n        </SortList>\r\n      )}\r\n    </Sort>\r\n  );\r\n};\r\n\r\nconst choices = ['Top', 'Bottom', 'New', 'Old'];\r\n\r\nexport default Sorter;\r\n","import CommentInput from './CommentInput';\r\nimport CommentList from './CommentList';\r\nimport Sorter from './Sorter';\r\n\r\nconst Comments = ({ showUserForm }) => {\r\n  const currDate = new Date();\r\n\r\n  return (\r\n    <>\r\n      <CommentInput showUserForm={showUserForm} />\r\n      <Sorter />\r\n      <CommentList showUserForm={showUserForm} currDate={currDate} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Comments;\r\n","import { useState } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport Button from '../reusable/Button';\r\nimport Button2 from '../reusable/Button2';\r\n\r\nconst Container = styled.div`\r\n  padding-top: 8px;\r\n`;\r\n\r\nconst Editarea = styled.textarea`\r\n  width: 100%;\r\n  min-height: 100px;\r\n  padding: 8px 16px;\r\n  border-radius: 4px;\r\n  resize: vertical;\r\n  ${({ theme }) =>\r\n    css`\r\n      ${theme.box()}\r\n      font-size: ${theme.fontMed};\r\n      color: ${theme.gray0};\r\n    `}\r\n`;\r\n\r\nconst Bottom = styled.div`\r\n  width: 100%;\r\n  margin-top: 8px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nconst SaveBtn = styled(Button)`\r\n  padding: 4px 16px;\r\n  width: 90px;\r\n`;\r\n\r\nconst CancelBtn = styled(Button2)`\r\n  padding: 4px 16px;\r\n  border: none;\r\n`;\r\n\r\nconst PostEdit = ({ content, editHandler, cancel }) => {\r\n  const [editContent, setEditContent] = useState(content);\r\n\r\n  return (\r\n    <Container>\r\n      <Editarea\r\n        value={editContent}\r\n        onChange={(e) => setEditContent(e.target.value)}\r\n      ></Editarea>\r\n      <Bottom>\r\n        <CancelBtn onClick={cancel}>CANCEL</CancelBtn>\r\n        <SaveBtn onClick={() => editHandler(editContent)}>SAVE</SaveBtn>\r\n      </Bottom>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PostEdit;\r\n","import { Link, useHistory } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport CommentIcon from '../../icons/CommentIcon';\r\nimport VoteBar from '../PostList/Post/VoteBar';\r\nimport { formatDistance } from 'date-fns';\r\nimport ElMenu from '../ElMenu/ElMenu';\r\nimport { useState } from 'react';\r\nimport PostEdit from './PostEdit';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deletePost, editPost } from '../../store/actions/posts';\r\n\r\nconst Div = styled.div`\r\n  margin: 0 auto;\r\n  width: 100%;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n    `}\r\n`;\r\n\r\nconst Content = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst Post = styled.div`\r\n  margin: 0 0 0 40px;\r\n  padding: 10px 8px;\r\n`;\r\n\r\nconst Top = styled.div`\r\n  margin-bottom: 6px;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray2};\r\n      font-size: ${theme.fontSmall};\r\n    `}\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-weight: 600;\r\n  font-size: ${({ theme }) => theme.fontLargeXX};\r\n`;\r\n\r\nconst P = styled.p`\r\n  font-size: ${({ theme }) => theme.fontMed};\r\n  padding: 12px 8px 12px 0;\r\n`;\r\n\r\nconst Bottom = styled.div`\r\n  font-weight: 700;\r\n  margin-top: 8px;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray2};\r\n      font-size: ${theme.fontSmall};\r\n    `}\r\n`;\r\n\r\nconst Icon = styled.div`\r\n  vertical-align: middle;\r\n  display: inline-block;\r\n  height: 16px;\r\n  padding-right: 4px;\r\n`;\r\n\r\nconst EditedAt = styled.span`\r\n  font-style: italic;\r\n`;\r\n\r\nconst PostContent = ({ post, setPost, commentsLength, voteHandler }) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const currDate = new Date();\r\n  const user = useSelector((state) => state.user);\r\n  const [editing, setEditing] = useState(false);\r\n\r\n  const deleteHandler = () => {\r\n    dispatch(deletePost(post.id)).then((res) => {\r\n      history.push('/');\r\n    });\r\n  };\r\n\r\n  const editHandler = (content) => {\r\n    dispatch(editPost(post.id, content)).then((res) => {\r\n      setPost(res);\r\n      setEditing(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Div>\r\n      <Content>\r\n        <VoteBar\r\n          points={post.points}\r\n          userVote={post.isUpvote}\r\n          voteHandler={voteHandler(post)}\r\n        />\r\n        <Post>\r\n          <Top>\r\n            Posted by <Link to={`u/${post.username}`}>u/{post.username}</Link>{' '}\r\n            {formatDistance(new Date(post.createdAt), currDate)} ago{' '}\r\n            {post.editedAt && (\r\n              <EditedAt>\r\n                 edited {formatDistance(new Date(post.editedAt), currDate)} ago\r\n              </EditedAt>\r\n            )}\r\n          </Top>\r\n          <Title>{post.title}</Title>\r\n          {editing ? (\r\n            <PostEdit\r\n              content={post.content}\r\n              editHandler={editHandler}\r\n              cancel={() => setEditing(false)}\r\n            />\r\n          ) : (\r\n            post.content.split('\\n').map((c, i) => <P key={i}>{c}</P>)\r\n          )}\r\n          <Bottom>\r\n            <Icon>\r\n              <CommentIcon />\r\n            </Icon>\r\n            <span>{commentsLength} Comments</span>\r\n            {user?.id === post.creator && (\r\n              <ElMenu\r\n                items={[\r\n                  { text: 'Delete', onClick: deleteHandler },\r\n                  { text: 'Edit', onClick: () => setEditing(!editing) },\r\n                ]}\r\n              />\r\n            )}\r\n          </Bottom>\r\n        </Post>\r\n      </Content>\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default PostContent;\r\n","import { useEffect, useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport postService from '../../services/postService';\r\nimport Comments from './Comments/Comments';\r\nimport PostContent from './PostContent';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getComments } from '../../store/actions/comments';\r\nimport { voteOnPost } from '../../store/actions/posts';\r\n\r\nconst Div = styled.div`\r\n  max-width: 1280px;\r\n  padding: 20px 24px;\r\n`;\r\n\r\nconst SubribbitBanner = styled.div`\r\n  height: 80px;\r\n  top: 0;\r\n  background: ${({ theme }) => `${theme.sec2}`};\r\n`;\r\n\r\nconst SubrContainer = styled.div`\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nconst Subribbit = styled.span`\r\n  font-weight: 700;\r\n  font-size: 22px;\r\n  color: ${({ theme }) => theme.white1};\r\n  margin-left: 24px;\r\n`;\r\n\r\nconst Container = styled.div`\r\n  margin: 0 auto;\r\n  max-width: 740px;\r\n  border-radius: 4px;\r\n  border-radius: 4px;\r\n  background: ${({ theme }) => theme.gray4};\r\n`;\r\n\r\nconst PostPage = ({ showUserForm }) => {\r\n  const dispatch = useDispatch();\r\n  const { id } = useParams(); // post id\r\n  const [post, setPost] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const comments = useSelector((state) => state.comments);\r\n\r\n  useEffect(() => {\r\n    // getting post data\r\n    postService.getById(id).then((res) => {\r\n      setPost(res);\r\n    });\r\n\r\n    dispatch(getComments(id));\r\n  }, [id, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (post && comments) {\r\n      setLoading(false);\r\n    }\r\n  }, [post, comments]);\r\n\r\n  const voteHandler = (post) => (isUpvote) => {\r\n    dispatch(voteOnPost(post.id, isUpvote, post.isUpvote)).then((res) => {\r\n      if (res === 'No user') {\r\n        return showUserForm('login');\r\n      }\r\n      setPost({\r\n        ...post,\r\n        points: +post.points + getVoteChange(post.points, isUpvote),\r\n        isUpvote,\r\n      });\r\n    });\r\n  };\r\n\r\n  if (loading) return 'ok';\r\n  return (\r\n    <>\r\n      <SubribbitBanner>\r\n        <Link to={`/r/${post.subribbit}`}>\r\n          <SubrContainer>\r\n            <Subribbit>r/{post.subribbit}</Subribbit>\r\n          </SubrContainer>\r\n        </Link>\r\n      </SubribbitBanner>\r\n      <Div>\r\n        <Container>\r\n          <PostContent\r\n            post={post}\r\n            setPost={setPost}\r\n            commentsLength={comments.length}\r\n            voteHandler={voteHandler}\r\n          />\r\n          <Comments showUserForm={showUserForm} comments={comments} />\r\n        </Container>\r\n      </Div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst getVoteChange = (oldVote, newVote) => {\r\n  if (oldVote && oldVote === newVote) {\r\n    return -newVote;\r\n  } else if (oldVote && oldVote !== newVote) {\r\n    return 2 * newVote;\r\n  } else {\r\n    return newVote;\r\n  }\r\n};\r\n\r\nexport default PostPage;\r\n","import { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, useHistory } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\nimport subribbitService from '../../services/subribbitService';\r\nimport Button from '../reusable/Button';\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  min-height: calc(100vh - 49px);\r\n  display: flex;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      background: ${theme.gray4};\r\n    `}\r\n`;\r\n\r\nconst Decor = styled.div`\r\n  width: 140px;\r\n  min-height: 100%;\r\n  background: ${({ theme }) =>\r\n    `linear-gradient(135deg, ${theme.sec1}, ${theme.sec2})`};\r\n`;\r\n\r\nconst MainTitle = styled.h1`\r\n  font-weight: 600;\r\n  padding-bottom: 16px;\r\n  margin-bottom: 16px;\r\n\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontLarge};\r\n      border-bottom: 1px solid ${theme.postBorder};\r\n    `};\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-weight: 600;\r\n  margin-bottom: 4px;\r\n  font-size: ${({ theme }) => theme.fontLarge};\r\n`;\r\n\r\nconst UnderTitle = styled.p`\r\n  margin-bottom: 12px;\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontSmall};\r\n      color: ${theme.gray2};\r\n    `}\r\n`;\r\n\r\nconst Form = styled.form`\r\n  padding: 16px;\r\n  width: 428px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  margin-bottom: 24px;\r\n  display: block;\r\n`;\r\n\r\nconst TextInput = styled.input`\r\n  width: 100%;\r\n  background: none;\r\n  border-radius: 4px;\r\n  padding: 8px;\r\n  color: inherit;\r\n  border: 1px solid\r\n    ${(props) => (props.nameError ? 'red' : props.theme.postBorder)};\r\n`;\r\n\r\nconst TextArea = styled.textarea`\r\n  width: 100%;\r\n  background: none;\r\n  min-height: 60px;\r\n  color: inherit;\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  border: 1px solid ${({ theme }) => theme.postBorder};\r\n  resize: vertical;\r\n`;\r\n\r\nconst SubmitBtn = styled(Button)`\r\n  padding: 3px 16px;\r\n  display: block;\r\n  margin-top: 16px;\r\n  margin-left: auto;\r\n`;\r\n\r\nconst Error = styled.span`\r\n  font-size: ${({ theme }) => theme.fontSmall};\r\n  color: red;\r\n`;\r\n\r\nconst SubribbitForm = () => {\r\n  const user = useSelector((state) => state.user);\r\n  const history = useHistory();\r\n  const [name, setName] = useState('');\r\n  const [nameError, setNameError] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (/[^a-z0-9_]+/i.test(name)) {\r\n      return;\r\n    }\r\n    subribbitService.createOne({ name, description }).then((res) => {\r\n      if (res.error) {\r\n        return setNameError(res.error);\r\n      }\r\n      history.push(`/r/${res.name}`);\r\n    });\r\n  };\r\n\r\n  const nameChangeHandler = (e) => {\r\n    setName(e.target.value);\r\n    if (/[^a-z0-9_]+/i.test(e.target.value)) {\r\n      return setNameError(\r\n        'Name can only contain letters, numbers and undescores \"_\".'\r\n      );\r\n    }\r\n    setNameError('');\r\n  };\r\n\r\n  if (!user) return <Redirect to=\"/\" />;\r\n  return (\r\n    <Container>\r\n      <Decor />\r\n      <Form onSubmit={submitHandler}>\r\n        <MainTitle>Create a community</MainTitle>\r\n        <Label>\r\n          <Title>Name</Title>\r\n          <UnderTitle>\r\n            <span>\r\n              Community names including capitalization cannot be changed.\r\n            </span>\r\n          </UnderTitle>\r\n          <TextInput\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={nameChangeHandler}\r\n            nameError={nameError}\r\n            required\r\n          />\r\n          <Error>{nameError}</Error>\r\n        </Label>\r\n        <Label>\r\n          <Title>Description</Title>\r\n          <UnderTitle>\r\n            <span>\r\n              This is how new members come to understand your community.\r\n            </span>\r\n          </UnderTitle>\r\n          <TextArea\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n            required\r\n          ></TextArea>\r\n        </Label>\r\n        <SubmitBtn type=\"submit\">CREATE COMMUNITY</SubmitBtn>\r\n      </Form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SubribbitForm;\r\n","const CogIcon = () => {\r\n  return (\r\n    <svg\r\n      style={{ height: '100%' }}\r\n      viewBox=\"0 0 40 40\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M37.5 22.5V20h-35v15c0 1.4 1.1 2.5 2.5 2.5h30c1.4 0 2.5-1.1 2.5-2.5H6.2c-.6 0-1.2-.5-1.2-1.2s.6-1.2 1.2-1.2h31.3V30H6.2c-.6 0-1.2-.5-1.2-1.2s.6-1.2 1.2-1.2h31.3V25H6.2c-.6 0-1.2-.5-1.2-1.2s.6-1.2 1.2-1.2h31.3zM22.5 6c0 1.4-1.1 2.5-2.5 2.5S17.5 7.4 17.5 6 20 0 20 0s2.5 4.6 2.5 6zM20 15c-.7 0-1.3-.6-1.3-1.2v-2.5c0-.7.6-1.2 1.2-1.2.7 0 1.2.6 1.2 1.2v2.5c.1.7-.4 1.2-1.1 1.2z\" />\r\n      <path d=\"M22.8 11.3v2.3a3 3 0 01-2.5 2.9c-1.6.2-3-1.1-3-2.7v-5-.1l-.8-.4c-.9-.4-2-.3-2.7.4L2.5 18.5h35l-14.7-7.2z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CogIcon;\r\n","import styled, { css } from 'styled-components';\r\nimport { format } from 'date-fns';\r\nimport CakeIcon from '../../icons/CakeIcon';\r\nimport Button from '../reusable/Button';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst Aside = styled.aside`\r\n  width: 312px;\r\n  flex-shrink: 0;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray0};\r\n      font-size: ${theme.fontMed};\r\n      ${theme.tablet} {\r\n        display: none;\r\n      }\r\n    `};\r\n`;\r\n\r\nconst AsideTitle = styled.h2`\r\n  margin-bottom: 24px;\r\n  ${({ theme }) =>\r\n    css`\r\n      color: ${theme.gray2};\r\n      font-size: ${theme.fontMed};\r\n    `}\r\n`;\r\n\r\nconst SubribbitInfo = styled.div`\r\n  ${({ theme }) => theme.box()}\r\n  border-radius: 4px;\r\n  padding: 12px;\r\n`;\r\n\r\nconst Members = styled.h2`\r\n  margin-top: 12px;\r\n  font-size: ${({ theme }) => theme.fontLarge};\r\n`;\r\n\r\nconst MembersP = styled.p`\r\n  font-weight: 600;\r\n  font-size: ${({ theme }) => theme.fontSmall};\r\n  margin-bottom: 12px;\r\n`;\r\n\r\nconst Icon = styled.span`\r\n  display: inline-block;\r\n  height: 16px;\r\n  margin-right: 8px;\r\n`;\r\n\r\nconst PostBtn = styled(Button)`\r\n  width: 100%;\r\n  padding: 0 16px;\r\n  font-size: ${({ theme }) => theme.fontMed};\r\n  height: 34px;\r\n  margin-top: 12px;\r\n`;\r\n\r\nconst SubPageAside = ({ info }) => {\r\n  const history = useHistory();\r\n  return (\r\n    <Aside>\r\n      <SubribbitInfo>\r\n        <AsideTitle>About Community</AsideTitle>\r\n        <p>{info.description}</p>\r\n        <div>\r\n          <Members>{info.memberCount}</Members>\r\n          <MembersP>\r\n            <span>Members</span>\r\n          </MembersP>\r\n        </div>\r\n        <div>\r\n          <div>\r\n            <p>\r\n              <Icon>\r\n                <CakeIcon />\r\n              </Icon>\r\n              Created {format(new Date(info.createdAt), 'MMM dd, yyyy')}\r\n            </p>\r\n          </div>\r\n          <PostBtn onClick={() => history.push(`/r/${info.name}/submit`)}>\r\n            CREATE POST\r\n          </PostBtn>\r\n        </div>\r\n      </SubribbitInfo>\r\n    </Aside>\r\n  );\r\n};\r\n\r\nexport default SubPageAside;\r\n","import { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport subribbitService from '../../services/subribbitService';\r\nimport { setUser } from '../../store/actions/user';\r\nimport PostList from '../PostList/PostList';\r\nimport Button from '../reusable/Button';\r\nimport Button2 from '../reusable/Button2';\r\nimport SubPageAside from './SubPageAside';\r\n\r\nconst Div = styled.div``;\r\n\r\nconst Banner = styled.div`\r\n  color: ${({ theme }) => theme.gray0};\r\n  background: ${({ theme }) => theme.gray4};\r\n`;\r\n\r\nconst Line = styled.div`\r\n  height: 80px;\r\n  background: ${({ theme }) => theme.sec2};\r\n`;\r\n\r\nconst TopContainer = styled.div`\r\n  max-width: 984px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-weight: 700;\r\n  font-size: 28px;\r\n  margin: 10px;\r\n`;\r\n\r\nconst JoinBtn = styled(Button)`\r\n  padding: 4px 9px 2px;\r\n  width: 96px;\r\n  margin: 10px;\r\n`;\r\n\r\nconst JoinedBtn = styled(Button2)`\r\n  padding: 4px 9px 2px;\r\n  width: 96px;\r\n  margin: 10px;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 20px 24px;\r\n  column-gap: 26px;\r\n`;\r\n\r\nconst SubribbitPage = ({ showUserForm }) => {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => state.user);\r\n  const { subribbit } = useParams();\r\n  const [info, setInfo] = useState();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    subribbitService.getOne(subribbit).then((res) => {\r\n      setInfo(res);\r\n      setIsLoading(false);\r\n    });\r\n  }, [subribbit]);\r\n\r\n  const joinHandler = () => {\r\n    subribbitService.joinOne(info.name).then((res) => {\r\n      dispatch(setUser(res));\r\n    });\r\n  };\r\n\r\n  const exitSubHandler = () => {\r\n    subribbitService.exitOne(info.name).then((res) => {\r\n      dispatch(setUser(res));\r\n    });\r\n  };\r\n\r\n  if (isLoading) return 'ok';\r\n  return (\r\n    <Div>\r\n      <Banner>\r\n        <Line />\r\n        <TopContainer>\r\n          <Title>{info.name}</Title>\r\n          {user?.joinedSubribbits.includes(info.name) ? (\r\n            <JoinedBtn onClick={exitSubHandler}>JOINED</JoinedBtn>\r\n          ) : (\r\n            <JoinBtn onClick={joinHandler}>JOIN</JoinBtn>\r\n          )}\r\n        </TopContainer>\r\n      </Banner>\r\n      <Content>\r\n        <PostList showUserForm={showUserForm} />\r\n        <SubPageAside info={info} />\r\n      </Content>\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default SubribbitPage;\r\n","import styled, { css } from 'styled-components';\r\n\r\nexport const Form = styled.form`\r\n  width: 280px;\r\n  ${({ theme }) => theme.tablet} {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h2`\r\n  font-weight: 600;\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontLargeX};\r\n      color: ${theme.gray0};\r\n    `}\r\n`;\r\n\r\nexport const TextInput = styled.input`\r\n  width: 100%;\r\n  padding: 22px 36px 10px 12px;\r\n  border: none;\r\n  border-radius: 2px;\r\n  margin-top: 12px;\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontMed};\r\n      border: 1px solid ${theme.postBorder};\r\n      background: ${theme.gray3};\r\n      color: ${theme.gray0};\r\n    `}\r\n`;\r\n\r\nexport const SubmitBtn = styled.button`\r\n  width: 100%;\r\n  border: none;\r\n  font-weight: 700;\r\n  padding: 8px 10px;\r\n  border-radius: 2px;\r\n  margin: 12px 0;\r\n  cursor: pointer;\r\n  ${({ theme }) =>\r\n    css`\r\n      background: ${theme.sec2};\r\n      color: ${theme.gray4};\r\n      font-size: ${theme.fontMed};\r\n    `}\r\n`;\r\n\r\nexport const Bottom = styled.p`\r\n  ${({ theme }) =>\r\n    css`\r\n      font-size: ${theme.fontSmall};\r\n      color: ${theme.gray0};\r\n    `}\r\n`;\r\n\r\nexport const SwitchButton = styled.button`\r\n  background: none;\r\n  border: none;\r\n  font-weight: 700;\r\n  cursor: pointer;\r\n  font-size: inherit;\r\n  color: ${({ theme }) => theme.sec1};\r\n`;\r\n\r\nexport const Error = styled.p`\r\n  color: red;\r\n  margin-top: 12px;\r\n  font-size: ${({ theme }) => theme.fontSmall};\r\n`;\r\n","import { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loginUser } from '../../store/actions/user';\r\nimport {\r\n  Form,\r\n  Title,\r\n  TextInput,\r\n  SubmitBtn,\r\n  Bottom,\r\n  SwitchButton,\r\n  Error,\r\n} from './components';\r\n\r\nconst Login = ({ showUserForm }) => {\r\n  const dispatch = useDispatch();\r\n  const error = useSelector((state) => state.error);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(loginUser({ username, password })).then((res) => {\r\n      if (!res?.error) {\r\n        showUserForm();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={submitHandler}>\r\n      <Title>Login</Title>\r\n      <label>\r\n        <TextInput\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          type=\"text\"\r\n          placeholder=\"username\"\r\n          required\r\n        />\r\n      </label>\r\n      <label>\r\n        <TextInput\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          required\r\n        />\r\n      </label>\r\n      {error && <Error>{error}</Error>}\r\n      <SubmitBtn type=\"submit\">LOG IN</SubmitBtn>\r\n      <Bottom>\r\n        New to Ribbit?{' '}\r\n        <SwitchButton type=\"button\" onClick={() => showUserForm('signup')}>\r\n          SIGN UP\r\n        </SwitchButton>\r\n      </Bottom>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { signupUser } from '../../store/actions/user';\r\nimport {\r\n  Form,\r\n  Title,\r\n  TextInput,\r\n  SubmitBtn,\r\n  Bottom,\r\n  SwitchButton,\r\n  Error,\r\n} from './components';\r\n\r\nconst Signup = ({ showUserForm }) => {\r\n  const dispatch = useDispatch();\r\n  const error = useSelector((state) => state.error);\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [passwordRepeat, setPasswordRepeat] = useState('');\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (password !== passwordRepeat)\r\n      return dispatch({ type: 'SET_ERROR', error: 'Password mismatch' });\r\n    dispatch(signupUser({ username, email, password, passwordRepeat })).then(\r\n      (res) => {\r\n        if (!res?.error) {\r\n          showUserForm();\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={submitHandler}>\r\n      <Title>Sign up</Title>\r\n      <label>\r\n        <TextInput\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          type=\"text\"\r\n          placeholder=\"username\"\r\n          required\r\n        />\r\n      </label>\r\n      <label>\r\n        <TextInput\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          type=\"email\"\r\n          placeholder=\"email\"\r\n          required\r\n        />\r\n      </label>\r\n      <label>\r\n        <TextInput\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          required\r\n        />\r\n      </label>\r\n      <label>\r\n        <TextInput\r\n          value={passwordRepeat}\r\n          onChange={(e) => setPasswordRepeat(e.target.value)}\r\n          type=\"password\"\r\n          placeholder=\"repeat password\"\r\n          required\r\n        />\r\n      </label>\r\n      {error && <Error>{error}</Error>}\r\n      <SubmitBtn>SIGN UP</SubmitBtn>\r\n      <Bottom>\r\n        Already have an account?{' '}\r\n        <SwitchButton type=\"button\" onClick={() => showUserForm('login')}>\r\n          LOG IN\r\n        </SwitchButton>\r\n      </Bottom>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import styled, { css } from 'styled-components';\r\nimport XIcon from '../../icons/XIcon';\r\nimport Login from './Login';\r\nimport Signup from './Signup';\r\n\r\nconst Container = styled.div`\r\n  position: fixed;\r\n  z-index: 150;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: #000a;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst Div = styled.div`\r\n  position: relative; // for top right X\r\n  width: 850px;\r\n  height: 650px;\r\n  border-radius: 4px;\r\n  display: flex;\r\n  margin: 32px;\r\n  ${({ theme }) =>\r\n    css`\r\n      background: ${theme.gray4};\r\n    `};\r\n`;\r\n\r\nconst FormBox = styled.div`\r\n  margin: auto 0;\r\n  padding: 24px;\r\n`;\r\n\r\nconst Decor = styled.div`\r\n  width: 130px;\r\n  height: 100%;\r\n  border-radius: 4px 0 0 4px;\r\n  background: ${({ theme }) =>\r\n    `linear-gradient(135deg, ${theme.prim1}, ${theme.prim2})`};\r\n`;\r\n\r\nconst CloseBtn = styled.button`\r\n  position: absolute;\r\n  height: 25px;\r\n  width: 25px;\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.gray2};\r\n  top: 20px;\r\n  right: 20px;\r\n`;\r\n\r\nconst UserForm = ({ showUserForm, userFormType, userFormRef }) => {\r\n  return (\r\n    <Container>\r\n      <Div ref={userFormRef}>\r\n        <Decor />\r\n        <FormBox>\r\n          {userFormType === 'login' ? (\r\n            <Login showUserForm={showUserForm} />\r\n          ) : (\r\n            <Signup showUserForm={showUserForm} />\r\n          )}\r\n        </FormBox>\r\n        <CloseBtn onClick={() => showUserForm(false)}>\r\n          <XIcon />\r\n        </CloseBtn>\r\n      </Div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default UserForm;\r\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport MainContent from './components/MainContent/MainContent';\nimport Modal from './components/Modal/Modal';\nimport Navbar from './components/Navbar/Navbar';\nimport PostForm from './components/PostForm/PostForm';\nimport PostPage from './components/PostPage/PostPage';\nimport SubribbitForm from './components/SubribbitForm/SubribbitForm';\nimport SubribbitPage from './components/SubribbitPage/SubribbitPage';\nimport UserForm from './components/UserForm/UserForm';\nimport useVisible from './hooks/useVisible';\nimport { initUser } from './store/actions/user';\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const [userFormVisible, setUserFormVisible, userFormRef] = useVisible();\n  const [userFormType, setUserFormType] = useState('login');\n  const modal = useSelector((state) => state.modal);\n\n  const showUserForm = (type) => {\n    if (!type) return setUserFormVisible(false);\n    setUserFormType(type);\n    setUserFormVisible(true);\n  };\n\n  useEffect(() => {\n    dispatch(initUser());\n  }, [dispatch]);\n\n  return (\n    <Router>\n      {modal && <Modal {...modal} />}\n      <Navbar showUserForm={showUserForm} />\n      <Switch>\n        <Route path=\"/\" exact>\n          <MainContent showUserForm={showUserForm} />\n        </Route>\n        <Route path=\"/r/:subribbit\" exact>\n          <SubribbitPage showUserForm={showUserForm} />\n        </Route>\n        <Route\n          path={['/submit', '/r/:subribbit/submit']}\n          component={PostForm}\n          exact\n        />\n        <Route path=\"/r/:subribbit/:id\" exact>\n          <PostPage showUserForm={showUserForm} />\n        </Route>\n        <Route path=\"/subribbits/create\" exact component={SubribbitForm} />\n      </Switch>\n      {userFormVisible && (\n        <UserForm\n          showUserForm={showUserForm}\n          userFormRef={userFormRef}\n          userFormType={userFormType}\n          login={true}\n        />\n      )}\n    </Router>\n  );\n};\n\nexport default App;\n","import { createGlobalStyle } from 'styled-components';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  * {\r\n    padding: 0;\r\n    margin: 0;\r\n    box-sizing: border-box;\r\n  }\r\n  html {\r\n    font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\r\n    scroll-behavior: smooth;\r\n    height: 100%;\r\n  }\r\n\r\n  body {\r\n    background: #030303;\r\n  }\r\n\r\n  li {\r\n    list-style: none;\r\n  }\r\n\r\n  a {\r\n    color: inherit;\r\n    text-decoration: none;\r\n  }\r\n\r\n  h1,h2,h3,h4,h5,h6, a, input, button, span {\r\n    font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\r\n  }\r\n\r\n  p, textarea {\r\n    font-family: 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\r\n  }\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","const Theme = {\r\n  prim1: '#00CC99',\r\n  prim2: '#00A877',\r\n  prim3: '#40826D',\r\n  sec1: '#FF7F50',\r\n  sec2: '#D68A59',\r\n\r\n  postBorder: '#343536',\r\n\r\n  white1: '#FCFCFB',\r\n  gray0: '#D7DADC',\r\n  gray1: '#B2ABA1',\r\n  gray2: '#818384',\r\n  gray3: '#272729',\r\n  gray4: '#1A1A1B',\r\n  gray5: '#030303',\r\n\r\n  grayNew: '#161617',\r\n\r\n  fontLargeXX: '20px',\r\n  fontLargeX: '18px',\r\n  fontLarge: '16px',\r\n  fontMed: '14px',\r\n  fontSmall: '12px',\r\n  fontSmallX: '10px',\r\n\r\n  box() {\r\n    return `background: ${this.gray4}; border: 1px solid ${this.postBorder};`;\r\n  },\r\n\r\n  mobileL: '@media screen and (max-width: 425px)',\r\n  tabletS: '@media screen and (max-width: 600px)',\r\n  tablet: '@media screen and (max-width: 768px)',\r\n  laptop: '@media screen and (max-width: 1024px)',\r\n};\r\n\r\nexport default Theme;\r\n","// state = { username: string, karma: number }\r\nconst reducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'LOGIN':\r\n    case 'SIGNUP':\r\n    case 'INIT_USER':\r\n    case 'SET_USER':\r\n      return action.user;\r\n    case 'LOGOUT':\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","const reducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'SET_ERROR':\r\n      return action.error;\r\n    case 'CLEAR_ERROR':\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","const reducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_ALL_POSTS':\r\n      if (action.page === 0) {\r\n        return action.posts;\r\n      }\r\n      return [...state, ...action.posts];\r\n    case 'GET_POST_BY_SUB':\r\n      return action.post;\r\n    case 'DELETE_POST':\r\n      return state.filter((post) => post.id !== action.id);\r\n    case 'CLEAR_POSTS':\r\n      return [];\r\n    case 'VOTE_POST':\r\n      const oldVote = action.oldVote;\r\n      const newVote = action.isUpvote;\r\n      let voteChange = 0;\r\n      if (oldVote && oldVote === newVote) {\r\n        voteChange = -newVote;\r\n      } else if (oldVote && oldVote !== newVote) {\r\n        voteChange = 2 * newVote;\r\n      } else if (!oldVote) {\r\n        voteChange = newVote;\r\n      }\r\n\r\n      return state.map((post) =>\r\n        post.id === action.id\r\n          ? {\r\n              ...post,\r\n              points: +post.points + voteChange,\r\n              isUpvote: oldVote === newVote ? null : newVote,\r\n            }\r\n          : post\r\n      );\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","const reducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'GET_COMMENTS':\r\n      return action.comments;\r\n    case 'SORT_COMMENTS':\r\n      return sorter(state, action.sortBy);\r\n    case 'ADD_COMMENT':\r\n      return [{ ...action.comment }, ...state];\r\n    case 'EDIT_COMMENT':\r\n      return state.map((comment) =>\r\n        comment.id === action.comment.id ? action.comment : comment\r\n      );\r\n    case 'DELETE_COMMENT':\r\n      return state.filter((comm) => comm.id !== action.id);\r\n    case 'VOTE_COMMENT':\r\n      const oldVote = action.oldVote;\r\n      const newVote = action.isUpvote;\r\n      let voteChange = 0;\r\n\r\n      if (oldVote && oldVote === newVote) {\r\n        voteChange = -newVote;\r\n      } else if (oldVote && oldVote !== newVote) {\r\n        voteChange = 2 * newVote;\r\n      } else if (!oldVote) {\r\n        voteChange = newVote;\r\n      }\r\n\r\n      return state.map((comment) =>\r\n        comment.id === action.id\r\n          ? {\r\n              ...comment,\r\n              points: +comment.points + voteChange,\r\n              isUpvote: oldVote === newVote ? null : newVote,\r\n            }\r\n          : comment\r\n      );\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst sorter = (array, sortBy) => {\r\n  switch (sortBy) {\r\n    case 'bottom':\r\n      return [...array.sort((a, b) => a.points - b.points)];\r\n    case 'new':\r\n      return [\r\n        ...array.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)),\r\n      ];\r\n    case 'old':\r\n      return [\r\n        ...array.sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt)),\r\n      ];\r\n    default:\r\n      return [...array.sort((a, b) => b.points - a.points)];\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","const reducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'SET_MODAL':\r\n      return action;\r\n    case 'CLEAR_MODAL':\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport userReducer from './reducers/user';\r\nimport errorReducer from './reducers/error';\r\nimport postsReducer from './reducers/posts';\r\nimport commentsReducer from './reducers/comments';\r\nimport modalReducer from './reducers/modal';\r\n\r\nconst store = createStore(\r\n  combineReducers({\r\n    user: userReducer,\r\n    error: errorReducer,\r\n    posts: postsReducer,\r\n    comments: commentsReducer,\r\n    modal: modalReducer,\r\n  }),\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { ThemeProvider } from 'styled-components';\nimport GlobalStyle from './theme/globalStyles';\nimport Theme from './theme/theme';\nimport { Provider } from 'react-redux';\nimport store from './store/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={Theme}>\n      <GlobalStyle />\n      <App />\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}